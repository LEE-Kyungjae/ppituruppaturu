"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "src_lib_game-engine_GameEngineManager_ts";
exports.ids = ["src_lib_game-engine_GameEngineManager_ts"];
exports.modules = {

/***/ "./src/lib/game-engine/AudioManager.ts":
/*!*********************************************!*\
  !*** ./src/lib/game-engine/AudioManager.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioManager: () => (/* binding */ AudioManager)\n/* harmony export */ });\n/* harmony import */ var howler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! howler */ \"howler\");\n/* harmony import */ var howler__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(howler__WEBPACK_IMPORTED_MODULE_0__);\n\nclass AudioManager {\n    constructor(){\n        this.sounds = new Map();\n        this.currentMusic = null;\n        this.config = {\n            masterVolume: 0.7,\n            musicVolume: 0.5,\n            sfxVolume: 0.8,\n            enableSpatial: true,\n            enableDynamicAudio: false\n        };\n    }\n    async initialize() {\n        try {\n            // Howler 전역 설정\n            howler__WEBPACK_IMPORTED_MODULE_0__.Howler.volume(this.config.masterVolume);\n            // 기본 사운드 에셋 로드\n            await this.loadDefaultAssets();\n            console.log(\"AudioManager 초기화 완료\");\n        } catch (error) {\n            console.error(\"AudioManager 초기화 실패:\", error);\n            throw error;\n        }\n    }\n    async loadDefaultAssets() {\n        const defaultAssets = [\n            // UI 사운드\n            {\n                id: \"ui_click\",\n                src: [\n                    \"/audio/ui/click.mp3\",\n                    \"/audio/ui/click.webm\"\n                ],\n                volume: 0.6,\n                preload: true\n            },\n            {\n                id: \"ui_hover\",\n                src: [\n                    \"/audio/ui/hover.mp3\",\n                    \"/audio/ui/hover.webm\"\n                ],\n                volume: 0.4,\n                preload: true\n            },\n            {\n                id: \"ui_success\",\n                src: [\n                    \"/audio/ui/success.mp3\",\n                    \"/audio/ui/success.webm\"\n                ],\n                volume: 0.7,\n                preload: true\n            },\n            {\n                id: \"ui_error\",\n                src: [\n                    \"/audio/ui/error.mp3\",\n                    \"/audio/ui/error.webm\"\n                ],\n                volume: 0.6,\n                preload: true\n            },\n            // 게임 효과음\n            {\n                id: \"game_start\",\n                src: [\n                    \"/audio/game/start.mp3\",\n                    \"/audio/game/start.webm\"\n                ],\n                volume: 0.8,\n                preload: true\n            },\n            {\n                id: \"game_end\",\n                src: [\n                    \"/audio/game/end.mp3\",\n                    \"/audio/game/end.webm\"\n                ],\n                volume: 0.8,\n                preload: true\n            },\n            {\n                id: \"point_scored\",\n                src: [\n                    \"/audio/game/point.mp3\",\n                    \"/audio/game/point.webm\"\n                ],\n                volume: 0.7,\n                preload: true\n            },\n            {\n                id: \"power_up\",\n                src: [\n                    \"/audio/game/powerup.mp3\",\n                    \"/audio/game/powerup.webm\"\n                ],\n                volume: 0.8,\n                preload: true\n            },\n            // 물리 효과음\n            {\n                id: \"physics_collision\",\n                src: [\n                    \"/audio/physics/collision.mp3\",\n                    \"/audio/physics/collision.webm\"\n                ],\n                volume: 0.5,\n                preload: true\n            },\n            {\n                id: \"physics_explosion\",\n                src: [\n                    \"/audio/physics/explosion.mp3\",\n                    \"/audio/physics/explosion.webm\"\n                ],\n                volume: 0.9,\n                preload: true\n            },\n            // 배경음악\n            {\n                id: \"music_menu\",\n                src: [\n                    \"/audio/music/menu.mp3\",\n                    \"/audio/music/menu.webm\"\n                ],\n                volume: 0.3,\n                loop: true,\n                preload: false\n            },\n            {\n                id: \"music_game_battle\",\n                src: [\n                    \"/audio/music/battle.mp3\",\n                    \"/audio/music/battle.webm\"\n                ],\n                volume: 0.4,\n                loop: true,\n                preload: false\n            },\n            {\n                id: \"music_game_puzzle\",\n                src: [\n                    \"/audio/music/puzzle.mp3\",\n                    \"/audio/music/puzzle.webm\"\n                ],\n                volume: 0.3,\n                loop: true,\n                preload: false\n            }\n        ];\n        // 비동기로 사운드 로드\n        await Promise.allSettled(defaultAssets.map((asset)=>this.loadSound(asset)));\n    }\n    async loadSound(asset) {\n        return new Promise((resolve, reject)=>{\n            const sound = new howler__WEBPACK_IMPORTED_MODULE_0__.Howl({\n                src: asset.src,\n                volume: (asset.volume || 1) * this.config.sfxVolume,\n                loop: asset.loop || false,\n                preload: asset.preload !== false,\n                html5: asset.loop,\n                onload: ()=>{\n                    console.log(`사운드 로드됨: ${asset.id}`);\n                    resolve();\n                },\n                onloaderror: (id, error)=>{\n                    console.warn(`사운드 로드 실패: ${asset.id}`, error);\n                    resolve() // 실패해도 계속 진행\n                    ;\n                }\n            });\n            this.sounds.set(asset.id, sound);\n        });\n    }\n    // 효과음 재생\n    playSound(soundId, options = {}) {\n        const sound = this.sounds.get(soundId);\n        if (!sound) {\n            console.warn(`사운드를 찾을 수 없습니다: ${soundId}`);\n            return null;\n        }\n        // 볼륨 설정\n        if (options.volume !== undefined) {\n            sound.volume(options.volume * this.config.sfxVolume);\n        }\n        // 재생 속도 설정\n        if (options.rate !== undefined) {\n            sound.rate(options.rate);\n        }\n        // 시작 위치 설정\n        if (options.seek !== undefined) {\n            sound.seek(options.seek);\n        }\n        // 루프 설정\n        if (options.loop !== undefined) {\n            sound.loop(options.loop);\n        }\n        // 사운드 재생\n        const id = sound.play();\n        // 페이드 효과\n        if (options.fade) {\n            sound.fade(options.fade.from, options.fade.to, options.fade.duration, id);\n        }\n        // 3D 공간 오디오 (WebAudio API 사용 시)\n        if (options.spatial && this.config.enableSpatial) {\n            sound.pos(options.spatial.x, options.spatial.y, options.spatial.z, id);\n        }\n        return id;\n    }\n    // 배경음악 재생\n    playMusic(musicId, fadeInDuration = 1000) {\n        const music = this.sounds.get(musicId);\n        if (!music) {\n            console.warn(`음악을 찾을 수 없습니다: ${musicId}`);\n            return;\n        }\n        // 기존 음악 페이드아웃\n        if (this.currentMusic && this.currentMusic.playing()) {\n            this.currentMusic.fade(this.currentMusic.volume(), 0, 500);\n            this.currentMusic.once(\"fade\", ()=>{\n                this.currentMusic?.stop();\n            });\n        }\n        // 새 음악 설정 및 재생\n        music.volume(0);\n        music.loop(true);\n        const id = music.play();\n        if (id) {\n            // 페이드인\n            music.fade(0, this.config.musicVolume, fadeInDuration, id);\n            this.currentMusic = music;\n        }\n    }\n    // 사운드 정지\n    stopSound(soundId) {\n        const sound = this.sounds.get(soundId);\n        if (sound) {\n            sound.stop();\n        }\n    }\n    // 음악 정지\n    stopMusic(fadeOutDuration = 1000) {\n        if (this.currentMusic && this.currentMusic.playing()) {\n            if (fadeOutDuration > 0) {\n                this.currentMusic.fade(this.currentMusic.volume(), 0, fadeOutDuration);\n                this.currentMusic.once(\"fade\", ()=>{\n                    this.currentMusic?.stop();\n                });\n            } else {\n                this.currentMusic.stop();\n            }\n        }\n    }\n    // 모든 사운드 일시정지\n    pause() {\n        this.sounds.forEach((sound)=>{\n            if (sound.playing()) {\n                sound.pause();\n            }\n        });\n    }\n    // 모든 사운드 재개\n    resume() {\n        this.sounds.forEach((sound)=>{\n            sound.play();\n        });\n    }\n    // 모든 사운드 정지\n    stop() {\n        this.sounds.forEach((sound)=>sound.stop());\n        this.currentMusic = null;\n    }\n    // 볼륨 설정\n    setMasterVolume(volume) {\n        this.config.masterVolume = Math.max(0, Math.min(1, volume));\n        howler__WEBPACK_IMPORTED_MODULE_0__.Howler.volume(this.config.masterVolume);\n    }\n    setMusicVolume(volume) {\n        this.config.musicVolume = Math.max(0, Math.min(1, volume));\n        if (this.currentMusic) {\n            this.currentMusic.volume(this.config.musicVolume);\n        }\n    }\n    setSfxVolume(volume) {\n        this.config.sfxVolume = Math.max(0, Math.min(1, volume));\n    // SFX 볼륨은 다음 재생시 적용됨\n    }\n    // 설정 업데이트\n    updateConfig(config) {\n        this.config = {\n            ...this.config,\n            ...config\n        };\n        if (config.masterVolume !== undefined) {\n            howler__WEBPACK_IMPORTED_MODULE_0__.Howler.volume(this.config.masterVolume);\n        }\n        if (config.musicVolume !== undefined && this.currentMusic) {\n            this.currentMusic.volume(this.config.musicVolume);\n        }\n    }\n    // 현재 설정 반환\n    getConfig() {\n        return {\n            ...this.config\n        };\n    }\n    // 사운드 추가 로드\n    async loadCustomSound(asset) {\n        await this.loadSound(asset);\n    }\n    // 메모리 정리\n    destroy() {\n        this.stop();\n        this.sounds.forEach((sound)=>sound.unload());\n        this.sounds.clear();\n        this.currentMusic = null;\n    }\n    // 오디오 컨텍스트 활성화 (사용자 상호작용 후 호출)\n    enableAudio() {\n        howler__WEBPACK_IMPORTED_MODULE_0__.Howler.ctx?.resume();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNQSxDQUFDYSxNQUFNLENBQUMsSUFBSSxDQUFDUCxNQUFNLENBQUNDLFlBQVk7UUFDeEM7UUFFQSxJQUFJRCxPQUFPRSxXQUFXLEtBQUtnQyxhQUFhLElBQUksQ0FBQ25DLFlBQVksRUFBRTtZQUN6RCxJQUFJLENBQUNBLFlBQVksQ0FBQ1EsTUFBTSxDQUFDLElBQUksQ0FBQ1AsTUFBTSxDQUFDRSxXQUFXO1FBQ2xEO0lBQ0Y7SUFFQSxXQUFXO0lBQ1hpRSxZQUF5QjtRQUN2QixPQUFPO1lBQUUsR0FBRyxJQUFJLENBQUNuRSxNQUFNO1FBQUM7SUFDMUI7SUFFQSxZQUFZO0lBQ1osTUFBTW9FLGdCQUFnQmhELEtBQWlCLEVBQWlCO1FBQ3RELE1BQU0sSUFBSSxDQUFDQyxTQUFTLENBQUNEO0lBQ3ZCO0lBRUEsU0FBUztJQUNUaUQsVUFBZ0I7UUFDZCxJQUFJLENBQUNoQixJQUFJO1FBQ1QsSUFBSSxDQUFDeEQsTUFBTSxDQUFDNkQsT0FBTyxDQUFDbEMsQ0FBQUEsUUFBU0EsTUFBTThDLE1BQU07UUFDekMsSUFBSSxDQUFDekUsTUFBTSxDQUFDMEUsS0FBSztRQUNqQixJQUFJLENBQUN4RSxZQUFZLEdBQUc7SUFDdEI7SUFFQSwrQkFBK0I7SUFDL0J5RSxjQUFvQjtRQUNsQjlFLDBDQUFNQSxDQUFDK0UsR0FBRyxFQUFFZDtJQUNkO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXR0dXJ1LXBwYXR1cnUtZnJvbnRlbmQvLi9zcmMvbGliL2dhbWUtZW5naW5lL0F1ZGlvTWFuYWdlci50cz9kYjg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhvd2wsIEhvd2xlciB9IGZyb20gJ2hvd2xlcidcbmltcG9ydCB7IEF1ZGlvQ29uZmlnIH0gZnJvbSAnLi90eXBlcydcblxuaW50ZXJmYWNlIEF1ZGlvQXNzZXQge1xuICBpZDogc3RyaW5nXG4gIHNyYzogc3RyaW5nW11cbiAgdm9sdW1lPzogbnVtYmVyXG4gIGxvb3A/OiBib29sZWFuXG4gIHByZWxvYWQ/OiBib29sZWFuXG59XG5cbmV4cG9ydCBjbGFzcyBBdWRpb01hbmFnZXIge1xuICBwcml2YXRlIHNvdW5kczogTWFwPHN0cmluZywgSG93bD4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBjdXJyZW50TXVzaWM6IEhvd2wgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGNvbmZpZzogQXVkaW9Db25maWdcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIG1hc3RlclZvbHVtZTogMC43LFxuICAgICAgbXVzaWNWb2x1bWU6IDAuNSxcbiAgICAgIHNmeFZvbHVtZTogMC44LFxuICAgICAgZW5hYmxlU3BhdGlhbDogdHJ1ZSxcbiAgICAgIGVuYWJsZUR5bmFtaWNBdWRpbzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBIb3dsZXIg7KCE7JetIOyEpOyglVxuICAgICAgSG93bGVyLnZvbHVtZSh0aGlzLmNvbmZpZy5tYXN0ZXJWb2x1bWUpXG5cbiAgICAgIC8vIOq4sOuzuCDsgqzsmrTrk5wg7JeQ7IWLIOuhnOuTnFxuICAgICAgYXdhaXQgdGhpcy5sb2FkRGVmYXVsdEFzc2V0cygpXG5cbiAgICAgIGNvbnNvbGUubG9nKCdBdWRpb01hbmFnZXIg7LSI6riw7ZmUIOyZhOujjCcpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1ZGlvTWFuYWdlciDstIjquLDtmZQg7Iuk7YyoOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWREZWZhdWx0QXNzZXRzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRlZmF1bHRBc3NldHM6IEF1ZGlvQXNzZXRbXSA9IFtcbiAgICAgIC8vIFVJIOyCrOyatOuTnFxuICAgICAge1xuICAgICAgICBpZDogJ3VpX2NsaWNrJyxcbiAgICAgICAgc3JjOiBbJy9hdWRpby91aS9jbGljay5tcDMnLCAnL2F1ZGlvL3VpL2NsaWNrLndlYm0nXSxcbiAgICAgICAgdm9sdW1lOiAwLjYsXG4gICAgICAgIHByZWxvYWQ6IHRydWVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAndWlfaG92ZXInLFxuICAgICAgICBzcmM6IFsnL2F1ZGlvL3VpL2hvdmVyLm1wMycsICcvYXVkaW8vdWkvaG92ZXIud2VibSddLFxuICAgICAgICB2b2x1bWU6IDAuNCxcbiAgICAgICAgcHJlbG9hZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICd1aV9zdWNjZXNzJyxcbiAgICAgICAgc3JjOiBbJy9hdWRpby91aS9zdWNjZXNzLm1wMycsICcvYXVkaW8vdWkvc3VjY2Vzcy53ZWJtJ10sXG4gICAgICAgIHZvbHVtZTogMC43LFxuICAgICAgICBwcmVsb2FkOiB0cnVlXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ3VpX2Vycm9yJyxcbiAgICAgICAgc3JjOiBbJy9hdWRpby91aS9lcnJvci5tcDMnLCAnL2F1ZGlvL3VpL2Vycm9yLndlYm0nXSxcbiAgICAgICAgdm9sdW1lOiAwLjYsXG4gICAgICAgIHByZWxvYWQ6IHRydWVcbiAgICAgIH0sXG5cbiAgICAgIC8vIOqyjOyehCDtmqjqs7zsnYxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdnYW1lX3N0YXJ0JyxcbiAgICAgICAgc3JjOiBbJy9hdWRpby9nYW1lL3N0YXJ0Lm1wMycsICcvYXVkaW8vZ2FtZS9zdGFydC53ZWJtJ10sXG4gICAgICAgIHZvbHVtZTogMC44LFxuICAgICAgICBwcmVsb2FkOiB0cnVlXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2dhbWVfZW5kJyxcbiAgICAgICAgc3JjOiBbJy9hdWRpby9nYW1lL2VuZC5tcDMnLCAnL2F1ZGlvL2dhbWUvZW5kLndlYm0nXSxcbiAgICAgICAgdm9sdW1lOiAwLjgsXG4gICAgICAgIHByZWxvYWQ6IHRydWVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAncG9pbnRfc2NvcmVkJyxcbiAgICAgICAgc3JjOiBbJy9hdWRpby9nYW1lL3BvaW50Lm1wMycsICcvYXVkaW8vZ2FtZS9wb2ludC53ZWJtJ10sXG4gICAgICAgIHZvbHVtZTogMC43LFxuICAgICAgICBwcmVsb2FkOiB0cnVlXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ3Bvd2VyX3VwJyxcbiAgICAgICAgc3JjOiBbJy9hdWRpby9nYW1lL3Bvd2VydXAubXAzJywgJy9hdWRpby9nYW1lL3Bvd2VydXAud2VibSddLFxuICAgICAgICB2b2x1bWU6IDAuOCxcbiAgICAgICAgcHJlbG9hZDogdHJ1ZVxuICAgICAgfSxcblxuICAgICAgLy8g66y866asIO2aqOqzvOydjFxuICAgICAge1xuICAgICAgICBpZDogJ3BoeXNpY3NfY29sbGlzaW9uJyxcbiAgICAgICAgc3JjOiBbJy9hdWRpby9waHlzaWNzL2NvbGxpc2lvbi5tcDMnLCAnL2F1ZGlvL3BoeXNpY3MvY29sbGlzaW9uLndlYm0nXSxcbiAgICAgICAgdm9sdW1lOiAwLjUsXG4gICAgICAgIHByZWxvYWQ6IHRydWVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAncGh5c2ljc19leHBsb3Npb24nLFxuICAgICAgICBzcmM6IFsnL2F1ZGlvL3BoeXNpY3MvZXhwbG9zaW9uLm1wMycsICcvYXVkaW8vcGh5c2ljcy9leHBsb3Npb24ud2VibSddLFxuICAgICAgICB2b2x1bWU6IDAuOSxcbiAgICAgICAgcHJlbG9hZDogdHJ1ZVxuICAgICAgfSxcblxuICAgICAgLy8g67Cw6rK97J2M7JWFXG4gICAgICB7XG4gICAgICAgIGlkOiAnbXVzaWNfbWVudScsXG4gICAgICAgIHNyYzogWycvYXVkaW8vbXVzaWMvbWVudS5tcDMnLCAnL2F1ZGlvL211c2ljL21lbnUud2VibSddLFxuICAgICAgICB2b2x1bWU6IDAuMyxcbiAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgcHJlbG9hZDogZmFsc2VcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnbXVzaWNfZ2FtZV9iYXR0bGUnLFxuICAgICAgICBzcmM6IFsnL2F1ZGlvL211c2ljL2JhdHRsZS5tcDMnLCAnL2F1ZGlvL211c2ljL2JhdHRsZS53ZWJtJ10sXG4gICAgICAgIHZvbHVtZTogMC40LFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICBwcmVsb2FkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdtdXNpY19nYW1lX3B1enpsZScsXG4gICAgICAgIHNyYzogWycvYXVkaW8vbXVzaWMvcHV6emxlLm1wMycsICcvYXVkaW8vbXVzaWMvcHV6emxlLndlYm0nXSxcbiAgICAgICAgdm9sdW1lOiAwLjMsXG4gICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgIHByZWxvYWQ6IGZhbHNlXG4gICAgICB9XG4gICAgXVxuXG4gICAgLy8g67mE64+Z6riw66GcIOyCrOyatOuTnCDroZzrk5xcbiAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoXG4gICAgICBkZWZhdWx0QXNzZXRzLm1hcChhc3NldCA9PiB0aGlzLmxvYWRTb3VuZChhc3NldCkpXG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkU291bmQoYXNzZXQ6IEF1ZGlvQXNzZXQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgc291bmQgPSBuZXcgSG93bCh7XG4gICAgICAgIHNyYzogYXNzZXQuc3JjLFxuICAgICAgICB2b2x1bWU6IChhc3NldC52b2x1bWUgfHwgMSkgKiB0aGlzLmNvbmZpZy5zZnhWb2x1bWUsXG4gICAgICAgIGxvb3A6IGFzc2V0Lmxvb3AgfHwgZmFsc2UsXG4gICAgICAgIHByZWxvYWQ6IGFzc2V0LnByZWxvYWQgIT09IGZhbHNlLFxuICAgICAgICBodG1sNTogYXNzZXQubG9vcCwgLy8g66Oo7ZSEIOyCrOyatOuTnOuKlCBIVE1MNSDsmKTrlJTsmKQg7IKs7JqpXG4gICAgICAgIG9ubG9hZDogKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDsgqzsmrTrk5wg66Gc65Oc65CoOiAke2Fzc2V0LmlkfWApXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIG9ubG9hZGVycm9yOiAoaWQsIGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGDsgqzsmrTrk5wg66Gc65OcIOyLpO2MqDogJHthc3NldC5pZH1gLCBlcnJvcilcbiAgICAgICAgICByZXNvbHZlKCkgLy8g7Iuk7Yyo7ZW064+EIOqzhOyGjSDsp4TtlolcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgdGhpcy5zb3VuZHMuc2V0KGFzc2V0LmlkLCBzb3VuZClcbiAgICB9KVxuICB9XG5cbiAgLy8g7Zqo6rO87J2MIOyerOyDnVxuICBwbGF5U291bmQoc291bmRJZDogc3RyaW5nLCBvcHRpb25zOiB7XG4gICAgdm9sdW1lPzogbnVtYmVyXG4gICAgcmF0ZT86IG51bWJlclxuICAgIHNlZWs/OiBudW1iZXJcbiAgICBsb29wPzogYm9vbGVhblxuICAgIGZhZGU/OiB7IGZyb206IG51bWJlciwgdG86IG51bWJlciwgZHVyYXRpb246IG51bWJlciB9XG4gICAgc3BhdGlhbD86IHsgeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciB9XG4gIH0gPSB7fSk6IG51bWJlciB8IG51bGwge1xuICAgIGNvbnN0IHNvdW5kID0gdGhpcy5zb3VuZHMuZ2V0KHNvdW5kSWQpXG4gICAgaWYgKCFzb3VuZCkge1xuICAgICAgY29uc29sZS53YXJuKGDsgqzsmrTrk5zrpbwg7LC+7J2EIOyImCDsl4bsirXri4jri6Q6ICR7c291bmRJZH1gKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICAvLyDrs7zrpagg7ISk7KCVXG4gICAgaWYgKG9wdGlvbnMudm9sdW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNvdW5kLnZvbHVtZShvcHRpb25zLnZvbHVtZSAqIHRoaXMuY29uZmlnLnNmeFZvbHVtZSlcbiAgICB9XG5cbiAgICAvLyDsnqzsg50g7IaN64+EIOyEpOyglVxuICAgIGlmIChvcHRpb25zLnJhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc291bmQucmF0ZShvcHRpb25zLnJhdGUpXG4gICAgfVxuXG4gICAgLy8g7Iuc7J6RIOychOy5mCDshKTsoJVcbiAgICBpZiAob3B0aW9ucy5zZWVrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNvdW5kLnNlZWsob3B0aW9ucy5zZWVrKVxuICAgIH1cblxuICAgIC8vIOujqO2UhCDshKTsoJVcbiAgICBpZiAob3B0aW9ucy5sb29wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNvdW5kLmxvb3Aob3B0aW9ucy5sb29wKVxuICAgIH1cblxuICAgIC8vIOyCrOyatOuTnCDsnqzsg51cbiAgICBjb25zdCBpZCA9IHNvdW5kLnBsYXkoKVxuXG4gICAgLy8g7Y6Y7J2065OcIO2aqOqzvFxuICAgIGlmIChvcHRpb25zLmZhZGUpIHtcbiAgICAgIHNvdW5kLmZhZGUob3B0aW9ucy5mYWRlLmZyb20sIG9wdGlvbnMuZmFkZS50bywgb3B0aW9ucy5mYWRlLmR1cmF0aW9uLCBpZClcbiAgICB9XG5cbiAgICAvLyAzRCDqs7XqsIQg7Jik65SU7JikIChXZWJBdWRpbyBBUEkg7IKs7JqpIOyLnClcbiAgICBpZiAob3B0aW9ucy5zcGF0aWFsICYmIHRoaXMuY29uZmlnLmVuYWJsZVNwYXRpYWwpIHtcbiAgICAgIHNvdW5kLnBvcyhvcHRpb25zLnNwYXRpYWwueCwgb3B0aW9ucy5zcGF0aWFsLnksIG9wdGlvbnMuc3BhdGlhbC56LCBpZClcbiAgICB9XG5cbiAgICByZXR1cm4gaWRcbiAgfVxuXG4gIC8vIOuwsOqyveydjOyVhSDsnqzsg51cbiAgcGxheU11c2ljKG11c2ljSWQ6IHN0cmluZywgZmFkZUluRHVyYXRpb24gPSAxMDAwKTogdm9pZCB7XG4gICAgY29uc3QgbXVzaWMgPSB0aGlzLnNvdW5kcy5nZXQobXVzaWNJZClcbiAgICBpZiAoIW11c2ljKSB7XG4gICAgICBjb25zb2xlLndhcm4oYOydjOyVheydhCDssL7snYQg7IiYIOyXhuyKteuLiOuLpDogJHttdXNpY0lkfWApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyDquLDsobQg7J2M7JWFIO2OmOydtOuTnOyVhOybg1xuICAgIGlmICh0aGlzLmN1cnJlbnRNdXNpYyAmJiB0aGlzLmN1cnJlbnRNdXNpYy5wbGF5aW5nKCkpIHtcbiAgICAgIHRoaXMuY3VycmVudE11c2ljLmZhZGUodGhpcy5jdXJyZW50TXVzaWMudm9sdW1lKCksIDAsIDUwMClcbiAgICAgIHRoaXMuY3VycmVudE11c2ljLm9uY2UoJ2ZhZGUnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY3VycmVudE11c2ljPy5zdG9wKClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8g7IOIIOydjOyVhSDshKTsoJUg67CPIOyerOyDnVxuICAgIG11c2ljLnZvbHVtZSgwKVxuICAgIG11c2ljLmxvb3AodHJ1ZSlcbiAgICBjb25zdCBpZCA9IG11c2ljLnBsYXkoKVxuXG4gICAgaWYgKGlkKSB7XG4gICAgICAvLyDtjpjsnbTrk5zsnbhcbiAgICAgIG11c2ljLmZhZGUoMCwgdGhpcy5jb25maWcubXVzaWNWb2x1bWUsIGZhZGVJbkR1cmF0aW9uLCBpZClcbiAgICAgIHRoaXMuY3VycmVudE11c2ljID0gbXVzaWNcbiAgICB9XG4gIH1cblxuICAvLyDsgqzsmrTrk5wg7KCV7KeAXG4gIHN0b3BTb3VuZChzb3VuZElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBzb3VuZCA9IHRoaXMuc291bmRzLmdldChzb3VuZElkKVxuICAgIGlmIChzb3VuZCkge1xuICAgICAgc291bmQuc3RvcCgpXG4gICAgfVxuICB9XG5cbiAgLy8g7J2M7JWFIOygleyngFxuICBzdG9wTXVzaWMoZmFkZU91dER1cmF0aW9uID0gMTAwMCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmN1cnJlbnRNdXNpYyAmJiB0aGlzLmN1cnJlbnRNdXNpYy5wbGF5aW5nKCkpIHtcbiAgICAgIGlmIChmYWRlT3V0RHVyYXRpb24gPiAwKSB7XG4gICAgICAgIHRoaXMuY3VycmVudE11c2ljLmZhZGUodGhpcy5jdXJyZW50TXVzaWMudm9sdW1lKCksIDAsIGZhZGVPdXREdXJhdGlvbilcbiAgICAgICAgdGhpcy5jdXJyZW50TXVzaWMub25jZSgnZmFkZScsICgpID0+IHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRNdXNpYz8uc3RvcCgpXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmN1cnJlbnRNdXNpYy5zdG9wKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyDrqqjrk6Ag7IKs7Jq065OcIOydvOyLnOygleyngFxuICBwYXVzZSgpOiB2b2lkIHtcbiAgICB0aGlzLnNvdW5kcy5mb3JFYWNoKHNvdW5kID0+IHtcbiAgICAgIGlmIChzb3VuZC5wbGF5aW5nKCkpIHtcbiAgICAgICAgc291bmQucGF1c2UoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyDrqqjrk6Ag7IKs7Jq065OcIOyerOqwnFxuICByZXN1bWUoKTogdm9pZCB7XG4gICAgdGhpcy5zb3VuZHMuZm9yRWFjaChzb3VuZCA9PiB7XG4gICAgICBzb3VuZC5wbGF5KClcbiAgICB9KVxuICB9XG5cbiAgLy8g66qo65OgIOyCrOyatOuTnCDsoJXsp4BcbiAgc3RvcCgpOiB2b2lkIHtcbiAgICB0aGlzLnNvdW5kcy5mb3JFYWNoKHNvdW5kID0+IHNvdW5kLnN0b3AoKSlcbiAgICB0aGlzLmN1cnJlbnRNdXNpYyA9IG51bGxcbiAgfVxuXG4gIC8vIOuzvOulqCDshKTsoJVcbiAgc2V0TWFzdGVyVm9sdW1lKHZvbHVtZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb25maWcubWFzdGVyVm9sdW1lID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdm9sdW1lKSlcbiAgICBIb3dsZXIudm9sdW1lKHRoaXMuY29uZmlnLm1hc3RlclZvbHVtZSlcbiAgfVxuXG4gIHNldE11c2ljVm9sdW1lKHZvbHVtZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb25maWcubXVzaWNWb2x1bWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB2b2x1bWUpKVxuICAgIGlmICh0aGlzLmN1cnJlbnRNdXNpYykge1xuICAgICAgdGhpcy5jdXJyZW50TXVzaWMudm9sdW1lKHRoaXMuY29uZmlnLm11c2ljVm9sdW1lKVxuICAgIH1cbiAgfVxuXG4gIHNldFNmeFZvbHVtZSh2b2x1bWU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29uZmlnLnNmeFZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZvbHVtZSkpXG4gICAgLy8gU0ZYIOuzvOulqOydgCDri6TsnYwg7J6s7IOd7IucIOyggeyaqeuQqFxuICB9XG5cbiAgLy8g7ISk7KCVIOyXheuNsOydtO2KuFxuICB1cGRhdGVDb25maWcoY29uZmlnOiBQYXJ0aWFsPEF1ZGlvQ29uZmlnPik6IHZvaWQge1xuICAgIHRoaXMuY29uZmlnID0geyAuLi50aGlzLmNvbmZpZywgLi4uY29uZmlnIH1cblxuICAgIGlmIChjb25maWcubWFzdGVyVm9sdW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIEhvd2xlci52b2x1bWUodGhpcy5jb25maWcubWFzdGVyVm9sdW1lKVxuICAgIH1cblxuICAgIGlmIChjb25maWcubXVzaWNWb2x1bWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1cnJlbnRNdXNpYykge1xuICAgICAgdGhpcy5jdXJyZW50TXVzaWMudm9sdW1lKHRoaXMuY29uZmlnLm11c2ljVm9sdW1lKVxuICAgIH1cbiAgfVxuXG4gIC8vIO2YhOyerCDshKTsoJUg67CY7ZmYXG4gIGdldENvbmZpZygpOiBBdWRpb0NvbmZpZyB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy5jb25maWcgfVxuICB9XG5cbiAgLy8g7IKs7Jq065OcIOy2lOqwgCDroZzrk5xcbiAgYXN5bmMgbG9hZEN1c3RvbVNvdW5kKGFzc2V0OiBBdWRpb0Fzc2V0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5sb2FkU291bmQoYXNzZXQpXG4gIH1cblxuICAvLyDrqZTrqqjrpqwg7KCV66asXG4gIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wKClcbiAgICB0aGlzLnNvdW5kcy5mb3JFYWNoKHNvdW5kID0+IHNvdW5kLnVubG9hZCgpKVxuICAgIHRoaXMuc291bmRzLmNsZWFyKClcbiAgICB0aGlzLmN1cnJlbnRNdXNpYyA9IG51bGxcbiAgfVxuXG4gIC8vIOyYpOuUlOyYpCDsu6jthY3siqTtirgg7Zmc7ISx7ZmUICjsgqzsmqnsnpAg7IOB7Zi47J6R7JqpIO2bhCDtmLjstpwpXG4gIGVuYWJsZUF1ZGlvKCk6IHZvaWQge1xuICAgIEhvd2xlci5jdHg/LnJlc3VtZSgpXG4gIH1cbn0iXSwibmFtZXMiOlsiSG93bCIsIkhvd2xlciIsIkF1ZGlvTWFuYWdlciIsImNvbnN0cnVjdG9yIiwic291bmRzIiwiTWFwIiwiY3VycmVudE11c2ljIiwiY29uZmlnIiwibWFzdGVyVm9sdW1lIiwibXVzaWNWb2x1bWUiLCJzZnhWb2x1bWUiLCJlbmFibGVTcGF0aWFsIiwiZW5hYmxlRHluYW1pY0F1ZGlvIiwiaW5pdGlhbGl6ZSIsInZvbHVtZSIsImxvYWREZWZhdWx0QXNzZXRzIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZGVmYXVsdEFzc2V0cyIsImlkIiwic3JjIiwicHJlbG9hZCIsImxvb3AiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsIm1hcCIsImFzc2V0IiwibG9hZFNvdW5kIiwicmVzb2x2ZSIsInJlamVjdCIsInNvdW5kIiwiaHRtbDUiLCJvbmxvYWQiLCJvbmxvYWRlcnJvciIsIndhcm4iLCJzZXQiLCJwbGF5U291bmQiLCJzb3VuZElkIiwib3B0aW9ucyIsImdldCIsInVuZGVmaW5lZCIsInJhdGUiLCJzZWVrIiwicGxheSIsImZhZGUiLCJmcm9tIiwidG8iLCJkdXJhdGlvbiIsInNwYXRpYWwiLCJwb3MiLCJ4IiwieSIsInoiLCJwbGF5TXVzaWMiLCJtdXNpY0lkIiwiZmFkZUluRHVyYXRpb24iLCJtdXNpYyIsInBsYXlpbmciLCJvbmNlIiwic3RvcCIsInN0b3BTb3VuZCIsInN0b3BNdXNpYyIsImZhZGVPdXREdXJhdGlvbiIsInBhdXNlIiwiZm9yRWFjaCIsInJlc3VtZSIsInNldE1hc3RlclZvbHVtZSIsIk1hdGgiLCJtYXgiLCJtaW4iLCJzZXRNdXNpY1ZvbHVtZSIsInNldFNmeFZvbHVtZSIsInVwZGF0ZUNvbmZpZyIsImdldENvbmZpZyIsImxvYWRDdXN0b21Tb3VuZCIsImRlc3Ryb3kiLCJ1bmxvYWQiLCJjbGVhciIsImVuYWJsZUF1ZGlvIiwiY3R4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/game-engine/AudioManager.ts\n");

/***/ }),

/***/ "./src/lib/game-engine/GameEngineManager.ts":
/*!**************************************************!*\
  !*** ./src/lib/game-engine/GameEngineManager.ts ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameEngineManager: () => (/* binding */ GameEngineManager)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _scenes_PhysicsBattleRoyaleScene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scenes/PhysicsBattleRoyaleScene */ \"./src/lib/game-engine/scenes/PhysicsBattleRoyaleScene.ts\");\n/* harmony import */ var _scenes_PuzzleRaceScene__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scenes/PuzzleRaceScene */ \"./src/lib/game-engine/scenes/PuzzleRaceScene.ts\");\n/* harmony import */ var _scenes_RhythmActionScene__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scenes/RhythmActionScene */ \"./src/lib/game-engine/scenes/RhythmActionScene.ts\");\n/* harmony import */ var _NetworkManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./NetworkManager */ \"./src/lib/game-engine/NetworkManager.ts\");\n/* harmony import */ var _AudioManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AudioManager */ \"./src/lib/game-engine/AudioManager.ts\");\n/* harmony import */ var _InputManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./InputManager */ \"./src/lib/game-engine/InputManager.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_NetworkManager__WEBPACK_IMPORTED_MODULE_4__]);\n_NetworkManager__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\nclass GameEngineManager {\n    constructor(managerConfig){\n        this.managerConfig = managerConfig;\n        this.game = null;\n        // 기본 게임 설정 with 사용자 설정 오버라이드\n        this.config = {\n            width: 800,\n            height: 600,\n            autoStart: false,\n            maxPlayers: 4,\n            gameMode: \"singleplayer\",\n            difficulty: \"medium\",\n            enablePhysics: true,\n            enableAudio: true,\n            enableParticles: true,\n            ...managerConfig.config\n        };\n        // 매니저들 초기화\n        this.networkManager = new _NetworkManager__WEBPACK_IMPORTED_MODULE_4__.NetworkManager();\n        this.audioManager = new _AudioManager__WEBPACK_IMPORTED_MODULE_5__.AudioManager();\n        this.inputManager = new _InputManager__WEBPACK_IMPORTED_MODULE_6__.InputManager();\n        // 초기 게임 상태\n        this.gameState = {\n            status: \"idle\",\n            currentPlayers: [],\n            gameObjects: {},\n            score: {}\n        };\n    }\n    async initialize() {\n        try {\n            // 매니저들 초기화\n            await this.audioManager.initialize();\n            await this.inputManager.initialize();\n            if (this.config.gameMode === \"multiplayer\") {\n                await this.networkManager.initialize();\n            }\n            // Phaser 게임 설정\n            const phaserConfig = {\n                type: (phaser__WEBPACK_IMPORTED_MODULE_0___default().AUTO),\n                width: this.config.width,\n                height: this.config.height,\n                parent: this.managerConfig.parent,\n                backgroundColor: \"#1a1a2e\",\n                physics: this.config.enablePhysics ? {\n                    default: \"matter\",\n                    matter: {\n                        gravity: {\n                            x: 0,\n                            y: 0.8\n                        },\n                        debug: \"development\" === \"development\"\n                    }\n                } : undefined,\n                scene: this.createGameScenes(),\n                callbacks: {\n                    postBoot: this.onGameReady.bind(this)\n                }\n            };\n            // Phaser 게임 인스턴스 생성\n            this.game = new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Game)(phaserConfig);\n            this.gameState.status = \"loading\";\n        } catch (error) {\n            this.handleError(new Error(`게임 초기화 실패: ${error}`));\n        }\n    }\n    createGameScenes() {\n        const scenes = [];\n        switch(this.managerConfig.gameType){\n            case \"physics_battle_royale\":\n                scenes.push(new _scenes_PhysicsBattleRoyaleScene__WEBPACK_IMPORTED_MODULE_1__.PhysicsBattleRoyaleScene(this));\n                break;\n            case \"puzzle_race\":\n                scenes.push(new _scenes_PuzzleRaceScene__WEBPACK_IMPORTED_MODULE_2__.PuzzleRaceScene(this));\n                break;\n            case \"rhythm_action\":\n                scenes.push(new _scenes_RhythmActionScene__WEBPACK_IMPORTED_MODULE_3__.RhythmActionScene(this));\n                break;\n            default:\n                // 기본 게임 씬\n                scenes.push(new _scenes_PhysicsBattleRoyaleScene__WEBPACK_IMPORTED_MODULE_1__.PhysicsBattleRoyaleScene(this));\n        }\n        return scenes;\n    }\n    onGameReady() {\n        this.gameState.status = \"ready\";\n        console.log(`게임 준비 완료: ${this.managerConfig.gameType}`);\n    }\n    async startGame() {\n        if (this.gameState.status !== \"ready\") {\n            throw new Error(\"게임이 준비되지 않았습니다\");\n        }\n        try {\n            this.gameState.status = \"playing\";\n            if (this.config.gameMode === \"multiplayer\") {\n                await this.networkManager.joinGame(this.managerConfig.gameType);\n            }\n            // 현재 활성 씬에 게임 시작 신호\n            const currentScene = this.game?.scene.getScenes(true)[0];\n            if (currentScene && \"startGame\" in currentScene) {\n                currentScene.startGame();\n            }\n            console.log(\"게임 시작!\");\n        } catch (error) {\n            this.handleError(new Error(`게임 시작 실패: ${error}`));\n        }\n    }\n    pauseGame() {\n        if (this.gameState.status === \"playing\") {\n            this.gameState.status = \"paused\";\n            this.game?.scene.pause();\n            this.audioManager.pause();\n        }\n    }\n    resumeGame() {\n        if (this.gameState.status === \"paused\") {\n            this.gameState.status = \"playing\";\n            this.game?.scene.resume();\n            this.audioManager.resume();\n        }\n    }\n    restartGame() {\n        this.gameState.status = \"ready\";\n        this.gameState.score = {};\n        this.gameState.gameObjects = {};\n        // 현재 씬 재시작\n        const currentScene = this.game?.scene.getScenes(true)[0];\n        if (currentScene) {\n            currentScene.scene.restart();\n        }\n    }\n    endGame(finalScore) {\n        this.gameState.status = \"ended\";\n        this.audioManager.stop();\n        if (this.config.gameMode === \"multiplayer\") {\n            this.networkManager.leaveGame();\n        }\n        this.managerConfig.onGameEnd?.(finalScore);\n    }\n    destroy() {\n        this.audioManager.destroy();\n        this.inputManager.destroy();\n        this.networkManager.destroy();\n        if (this.game) {\n            this.game.destroy(true);\n            this.game = null;\n        }\n    }\n    // Getter 메서드들\n    getGameState() {\n        return {\n            ...this.gameState\n        };\n    }\n    getConfig() {\n        return {\n            ...this.config\n        };\n    }\n    getGame() {\n        return this.game;\n    }\n    getNetworkManager() {\n        return this.networkManager;\n    }\n    getAudioManager() {\n        return this.audioManager;\n    }\n    getInputManager() {\n        return this.inputManager;\n    }\n    // 네트워크 메시지 처리\n    handleNetworkMessage(message) {\n        const currentScene = this.game?.scene.getScenes(true)[0];\n        if (currentScene && \"onNetworkMessage\" in currentScene) {\n            currentScene.onNetworkMessage(message);\n        }\n    }\n    // 플레이어 관리\n    addPlayer(player) {\n        this.gameState.currentPlayers.push(player);\n    }\n    removePlayer(playerId) {\n        this.gameState.currentPlayers = this.gameState.currentPlayers.filter((p)=>p.id !== playerId);\n    }\n    updatePlayerScore(playerId, score) {\n        this.gameState.score[playerId] = score;\n        const player = this.gameState.currentPlayers.find((p)=>p.id === playerId);\n        if (player) {\n            player.score = score;\n        }\n    }\n    handleError(error) {\n        console.error(\"GameEngineManager Error:\", error);\n        this.managerConfig.onError?.(error);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2dhbWUtZW5naW5lL0dhbWVFbmdpbmVNYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUEyQjtBQUVpRDtBQUNsQjtBQUNJO0FBQ2I7QUFDSjtBQUNBO0FBVXRDLE1BQU1PO0lBUVhDLFlBQVksYUFBOEMsQ0FBRTthQUF4Q0MsZ0JBQUFBO2FBUFpDLE9BQTJCO1FBUWpDLDZCQUE2QjtRQUM3QixJQUFJLENBQUNDLE1BQU0sR0FBRztZQUNaQyxPQUFPO1lBQ1BDLFFBQVE7WUFDUkMsV0FBVztZQUNYQyxZQUFZO1lBQ1pDLFVBQVU7WUFDVkMsWUFBWTtZQUNaQyxlQUFlO1lBQ2ZDLGFBQWE7WUFDYkMsaUJBQWlCO1lBQ2pCLEdBQUdYLGNBQWNFLE1BQU07UUFDekI7UUFFQSxXQUFXO1FBQ1gsSUFBSSxDQUFDVSxjQUFjLEdBQUcsSUFBSWpCLDJEQUFjQTtRQUN4QyxJQUFJLENBQUNrQixZQUFZLEdBQUcsSUFBSWpCLHVEQUFZQTtRQUNwQyxJQUFJLENBQUNrQixZQUFZLEdBQUcsSUFBSWpCLHVEQUFZQTtRQUVwQyxXQUFXO1FBQ1gsSUFBSSxDQUFDa0IsU0FBUyxHQUFHO1lBQ2ZDLFFBQVE7WUFDUkMsZ0JBQWdCLEVBQUU7WUFDbEJDLGFBQWEsQ0FBQztZQUNkQyxPQUFPLENBQUM7UUFDVjtJQUNGO0lBRUEsTUFBTUMsYUFBNEI7UUFDaEMsSUFBSTtZQUNGLFdBQVc7WUFDWCxNQUFNLElBQUksQ0FBQ1AsWUFBWSxDQUFDTyxVQUFVO1lBQ2xDLE1BQU0sSUFBSSxDQUFDTixZQUFZLENBQUNNLFVBQVU7WUFFbEMsSUFBSSxJQUFJLENBQUNsQixNQUFNLENBQUNLLFFBQVEsS0FBSyxlQUFlO2dCQUMxQyxNQUFNLElBQUksQ0FBQ0ssY0FBYyxDQUFDUSxVQUFVO1lBQ3RDO1lBRUEsZUFBZTtZQUNmLE1BQU1DLGVBQTZDO2dCQUNqREMsTUFBTS9CLG9EQUFXO2dCQUNqQlksT0FBTyxJQUFJLENBQUNELE1BQU0sQ0FBQ0MsS0FBSztn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QSxPQUFPekQsS0FBSyxHQUFHQTtRQUNqQjtJQUNGO0lBRVF3QixZQUFZRCxLQUFZLEVBQVE7UUFDdENNLFFBQVFOLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLElBQUksQ0FBQzFDLGFBQWEsQ0FBQ29GLE9BQU8sR0FBRzFDO0lBQy9CO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXR0dXJ1LXBwYXR1cnUtZnJvbnRlbmQvLi9zcmMvbGliL2dhbWUtZW5naW5lL0dhbWVFbmdpbmVNYW5hZ2VyLnRzP2RjNGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInXG5pbXBvcnQgeyBHYW1lQ29uZmlnLCBHYW1lVHlwZSwgR2FtZVN0YXRlLCBHYW1lUGxheWVyLCBOZXR3b3JrTWVzc2FnZSB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBQaHlzaWNzQmF0dGxlUm95YWxlU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9QaHlzaWNzQmF0dGxlUm95YWxlU2NlbmUnXG5pbXBvcnQgeyBQdXp6bGVSYWNlU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9QdXp6bGVSYWNlU2NlbmUnXG5pbXBvcnQgeyBSaHl0aG1BY3Rpb25TY2VuZSB9IGZyb20gJy4vc2NlbmVzL1JoeXRobUFjdGlvblNjZW5lJ1xuaW1wb3J0IHsgTmV0d29ya01hbmFnZXIgfSBmcm9tICcuL05ldHdvcmtNYW5hZ2VyJ1xuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSAnLi9BdWRpb01hbmFnZXInXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWFuYWdlcidcblxuaW50ZXJmYWNlIEdhbWVFbmdpbmVNYW5hZ2VyQ29uZmlnIHtcbiAgcGFyZW50OiBIVE1MRWxlbWVudFxuICBnYW1lVHlwZTogR2FtZVR5cGVcbiAgY29uZmlnOiBQYXJ0aWFsPEdhbWVDb25maWc+XG4gIG9uR2FtZUVuZD86IChzY29yZTogbnVtYmVyKSA9PiB2b2lkXG4gIG9uRXJyb3I/OiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBjbGFzcyBHYW1lRW5naW5lTWFuYWdlciB7XG4gIHByaXZhdGUgZ2FtZTogUGhhc2VyLkdhbWUgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIG5ldHdvcmtNYW5hZ2VyOiBOZXR3b3JrTWFuYWdlclxuICBwcml2YXRlIGF1ZGlvTWFuYWdlcjogQXVkaW9NYW5hZ2VyXG4gIHByaXZhdGUgaW5wdXRNYW5hZ2VyOiBJbnB1dE1hbmFnZXJcbiAgcHJpdmF0ZSBnYW1lU3RhdGU6IEdhbWVTdGF0ZVxuICBwcml2YXRlIGNvbmZpZzogR2FtZUNvbmZpZ1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbWFuYWdlckNvbmZpZzogR2FtZUVuZ2luZU1hbmFnZXJDb25maWcpIHtcbiAgICAvLyDquLDrs7gg6rKM7J6EIOyEpOyglSB3aXRoIOyCrOyaqeyekCDshKTsoJUg7Jik67KE65287J2065OcXG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICB3aWR0aDogODAwLFxuICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICBhdXRvU3RhcnQ6IGZhbHNlLFxuICAgICAgbWF4UGxheWVyczogNCxcbiAgICAgIGdhbWVNb2RlOiAnc2luZ2xlcGxheWVyJyxcbiAgICAgIGRpZmZpY3VsdHk6ICdtZWRpdW0nLFxuICAgICAgZW5hYmxlUGh5c2ljczogdHJ1ZSxcbiAgICAgIGVuYWJsZUF1ZGlvOiB0cnVlLFxuICAgICAgZW5hYmxlUGFydGljbGVzOiB0cnVlLFxuICAgICAgLi4ubWFuYWdlckNvbmZpZy5jb25maWdcbiAgICB9XG5cbiAgICAvLyDrp6Tri4jsoIDrk6Qg7LSI6riw7ZmUXG4gICAgdGhpcy5uZXR3b3JrTWFuYWdlciA9IG5ldyBOZXR3b3JrTWFuYWdlcigpXG4gICAgdGhpcy5hdWRpb01hbmFnZXIgPSBuZXcgQXVkaW9NYW5hZ2VyKClcbiAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIoKVxuXG4gICAgLy8g7LSI6riwIOqyjOyehCDsg4Htg5xcbiAgICB0aGlzLmdhbWVTdGF0ZSA9IHtcbiAgICAgIHN0YXR1czogJ2lkbGUnLFxuICAgICAgY3VycmVudFBsYXllcnM6IFtdLFxuICAgICAgZ2FtZU9iamVjdHM6IHt9LFxuICAgICAgc2NvcmU6IHt9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8g66ek64uI7KCA65OkIOy0iOq4sO2ZlFxuICAgICAgYXdhaXQgdGhpcy5hdWRpb01hbmFnZXIuaW5pdGlhbGl6ZSgpXG4gICAgICBhd2FpdCB0aGlzLmlucHV0TWFuYWdlci5pbml0aWFsaXplKClcblxuICAgICAgaWYgKHRoaXMuY29uZmlnLmdhbWVNb2RlID09PSAnbXVsdGlwbGF5ZXInKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubmV0d29ya01hbmFnZXIuaW5pdGlhbGl6ZSgpXG4gICAgICB9XG5cbiAgICAgIC8vIFBoYXNlciDqsozsnoQg7ISk7KCVXG4gICAgICBjb25zdCBwaGFzZXJDb25maWc6IFBoYXNlci5UeXBlcy5Db3JlLkdhbWVDb25maWcgPSB7XG4gICAgICAgIHR5cGU6IFBoYXNlci5BVVRPLFxuICAgICAgICB3aWR0aDogdGhpcy5jb25maWcud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5jb25maWcuaGVpZ2h0LFxuICAgICAgICBwYXJlbnQ6IHRoaXMubWFuYWdlckNvbmZpZy5wYXJlbnQsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMxYTFhMmUnLFxuICAgICAgICBwaHlzaWNzOiB0aGlzLmNvbmZpZy5lbmFibGVQaHlzaWNzID8ge1xuICAgICAgICAgIGRlZmF1bHQ6ICdtYXR0ZXInLFxuICAgICAgICAgIG1hdHRlcjoge1xuICAgICAgICAgICAgZ3Jhdml0eTogeyB4OiAwLCB5OiAwLjggfSxcbiAgICAgICAgICAgIGRlYnVnOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50J1xuICAgICAgICAgIH1cbiAgICAgICAgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc2NlbmU6IHRoaXMuY3JlYXRlR2FtZVNjZW5lcygpLFxuICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICBwb3N0Qm9vdDogdGhpcy5vbkdhbWVSZWFkeS5iaW5kKHRoaXMpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGhhc2VyIOqyjOyehCDsnbjsiqTthLTsiqQg7IOd7ISxXG4gICAgICB0aGlzLmdhbWUgPSBuZXcgUGhhc2VyLkdhbWUocGhhc2VyQ29uZmlnKVxuICAgICAgdGhpcy5nYW1lU3RhdGUuc3RhdHVzID0gJ2xvYWRpbmcnXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5oYW5kbGVFcnJvcihuZXcgRXJyb3IoYOqyjOyehCDstIjquLDtmZQg7Iuk7YyoOiAke2Vycm9yfWApKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlR2FtZVNjZW5lcygpOiBQaGFzZXIuVHlwZXMuU2NlbmVzLkNyZWF0ZVNjZW5lRnJvbU9iamVjdENvbmZpZ1tdIHtcbiAgICBjb25zdCBzY2VuZXMgPSBbXVxuXG4gICAgc3dpdGNoICh0aGlzLm1hbmFnZXJDb25maWcuZ2FtZVR5cGUpIHtcbiAgICAgIGNhc2UgJ3BoeXNpY3NfYmF0dGxlX3JveWFsZSc6XG4gICAgICAgIHNjZW5lcy5wdXNoKG5ldyBQaHlzaWNzQmF0dGxlUm95YWxlU2NlbmUodGhpcykpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdwdXp6bGVfcmFjZSc6XG4gICAgICAgIHNjZW5lcy5wdXNoKG5ldyBQdXp6bGVSYWNlU2NlbmUodGhpcykpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdyaHl0aG1fYWN0aW9uJzpcbiAgICAgICAgc2NlbmVzLnB1c2gobmV3IFJoeXRobUFjdGlvblNjZW5lKHRoaXMpKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8g6riw67O4IOqyjOyehCDslKxcbiAgICAgICAgc2NlbmVzLnB1c2gobmV3IFBoeXNpY3NCYXR0bGVSb3lhbGVTY2VuZSh0aGlzKSlcbiAgICB9XG5cbiAgICByZXR1cm4gc2NlbmVzXG4gIH1cblxuICBwcml2YXRlIG9uR2FtZVJlYWR5KCk6IHZvaWQge1xuICAgIHRoaXMuZ2FtZVN0YXRlLnN0YXR1cyA9ICdyZWFkeSdcbiAgICBjb25zb2xlLmxvZyhg6rKM7J6EIOykgOu5hCDsmYTro4w6ICR7dGhpcy5tYW5hZ2VyQ29uZmlnLmdhbWVUeXBlfWApXG4gIH1cblxuICBhc3luYyBzdGFydEdhbWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuZ2FtZVN0YXRlLnN0YXR1cyAhPT0gJ3JlYWR5Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfqsozsnoTsnbQg7KSA67mE65CY7KeAIOyViuyVmOyKteuLiOuLpCcpXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZ2FtZVN0YXRlLnN0YXR1cyA9ICdwbGF5aW5nJ1xuXG4gICAgICBpZiAodGhpcy5jb25maWcuZ2FtZU1vZGUgPT09ICdtdWx0aXBsYXllcicpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZXR3b3JrTWFuYWdlci5qb2luR2FtZSh0aGlzLm1hbmFnZXJDb25maWcuZ2FtZVR5cGUpXG4gICAgICB9XG5cbiAgICAgIC8vIO2YhOyerCDtmZzshLEg7JSs7JeQIOqyjOyehCDsi5zsnpEg7Iug7Zi4XG4gICAgICBjb25zdCBjdXJyZW50U2NlbmUgPSB0aGlzLmdhbWU/LnNjZW5lLmdldFNjZW5lcyh0cnVlKVswXVxuICAgICAgaWYgKGN1cnJlbnRTY2VuZSAmJiAnc3RhcnRHYW1lJyBpbiBjdXJyZW50U2NlbmUpIHtcbiAgICAgICAgKGN1cnJlbnRTY2VuZSBhcyBhbnkpLnN0YXJ0R2FtZSgpXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCfqsozsnoQg7Iuc7J6RIScpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IobmV3IEVycm9yKGDqsozsnoQg7Iuc7J6RIOyLpO2MqDogJHtlcnJvcn1gKSlcbiAgICB9XG4gIH1cblxuICBwYXVzZUdhbWUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZ2FtZVN0YXRlLnN0YXR1cyA9PT0gJ3BsYXlpbmcnKSB7XG4gICAgICB0aGlzLmdhbWVTdGF0ZS5zdGF0dXMgPSAncGF1c2VkJ1xuICAgICAgdGhpcy5nYW1lPy5zY2VuZS5wYXVzZSgpXG4gICAgICB0aGlzLmF1ZGlvTWFuYWdlci5wYXVzZSgpXG4gICAgfVxuICB9XG5cbiAgcmVzdW1lR2FtZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5nYW1lU3RhdGUuc3RhdHVzID09PSAncGF1c2VkJykge1xuICAgICAgdGhpcy5nYW1lU3RhdGUuc3RhdHVzID0gJ3BsYXlpbmcnXG4gICAgICB0aGlzLmdhbWU/LnNjZW5lLnJlc3VtZSgpXG4gICAgICB0aGlzLmF1ZGlvTWFuYWdlci5yZXN1bWUoKVxuICAgIH1cbiAgfVxuXG4gIHJlc3RhcnRHYW1lKCk6IHZvaWQge1xuICAgIHRoaXMuZ2FtZVN0YXRlLnN0YXR1cyA9ICdyZWFkeSdcbiAgICB0aGlzLmdhbWVTdGF0ZS5zY29yZSA9IHt9XG4gICAgdGhpcy5nYW1lU3RhdGUuZ2FtZU9iamVjdHMgPSB7fVxuXG4gICAgLy8g7ZiE7J6sIOyUrCDsnqzsi5zsnpFcbiAgICBjb25zdCBjdXJyZW50U2NlbmUgPSB0aGlzLmdhbWU/LnNjZW5lLmdldFNjZW5lcyh0cnVlKVswXVxuICAgIGlmIChjdXJyZW50U2NlbmUpIHtcbiAgICAgIGN1cnJlbnRTY2VuZS5zY2VuZS5yZXN0YXJ0KClcbiAgICB9XG4gIH1cblxuICBlbmRHYW1lKGZpbmFsU2NvcmU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZ2FtZVN0YXRlLnN0YXR1cyA9ICdlbmRlZCdcbiAgICB0aGlzLmF1ZGlvTWFuYWdlci5zdG9wKClcblxuICAgIGlmICh0aGlzLmNvbmZpZy5nYW1lTW9kZSA9PT0gJ211bHRpcGxheWVyJykge1xuICAgICAgdGhpcy5uZXR3b3JrTWFuYWdlci5sZWF2ZUdhbWUoKVxuICAgIH1cblxuICAgIHRoaXMubWFuYWdlckNvbmZpZy5vbkdhbWVFbmQ/LihmaW5hbFNjb3JlKVxuICB9XG5cbiAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmF1ZGlvTWFuYWdlci5kZXN0cm95KClcbiAgICB0aGlzLmlucHV0TWFuYWdlci5kZXN0cm95KClcbiAgICB0aGlzLm5ldHdvcmtNYW5hZ2VyLmRlc3Ryb3koKVxuXG4gICAgaWYgKHRoaXMuZ2FtZSkge1xuICAgICAgdGhpcy5nYW1lLmRlc3Ryb3kodHJ1ZSlcbiAgICAgIHRoaXMuZ2FtZSA9IG51bGxcbiAgICB9XG4gIH1cblxuICAvLyBHZXR0ZXIg66mU7ISc65Oc65OkXG4gIGdldEdhbWVTdGF0ZSgpOiBHYW1lU3RhdGUge1xuICAgIHJldHVybiB7IC4uLnRoaXMuZ2FtZVN0YXRlIH1cbiAgfVxuXG4gIGdldENvbmZpZygpOiBHYW1lQ29uZmlnIHtcbiAgICByZXR1cm4geyAuLi50aGlzLmNvbmZpZyB9XG4gIH1cblxuICBnZXRHYW1lKCk6IFBoYXNlci5HYW1lIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuZ2FtZVxuICB9XG5cbiAgZ2V0TmV0d29ya01hbmFnZXIoKTogTmV0d29ya01hbmFnZXIge1xuICAgIHJldHVybiB0aGlzLm5ldHdvcmtNYW5hZ2VyXG4gIH1cblxuICBnZXRBdWRpb01hbmFnZXIoKTogQXVkaW9NYW5hZ2VyIHtcbiAgICByZXR1cm4gdGhpcy5hdWRpb01hbmFnZXJcbiAgfVxuXG4gIGdldElucHV0TWFuYWdlcigpOiBJbnB1dE1hbmFnZXIge1xuICAgIHJldHVybiB0aGlzLmlucHV0TWFuYWdlclxuICB9XG5cbiAgLy8g64Sk7Yq47JuM7YGsIOuplOyLnOyngCDsspjrpqxcbiAgaGFuZGxlTmV0d29ya01lc3NhZ2UobWVzc2FnZTogTmV0d29ya01lc3NhZ2UpOiB2b2lkIHtcbiAgICBjb25zdCBjdXJyZW50U2NlbmUgPSB0aGlzLmdhbWU/LnNjZW5lLmdldFNjZW5lcyh0cnVlKVswXVxuICAgIGlmIChjdXJyZW50U2NlbmUgJiYgJ29uTmV0d29ya01lc3NhZ2UnIGluIGN1cnJlbnRTY2VuZSkge1xuICAgICAgKGN1cnJlbnRTY2VuZSBhcyBhbnkpLm9uTmV0d29ya01lc3NhZ2UobWVzc2FnZSlcbiAgICB9XG4gIH1cblxuICAvLyDtlIzroIjsnbTslrQg6rSA66asXG4gIGFkZFBsYXllcihwbGF5ZXI6IEdhbWVQbGF5ZXIpOiB2b2lkIHtcbiAgICB0aGlzLmdhbWVTdGF0ZS5jdXJyZW50UGxheWVycy5wdXNoKHBsYXllcilcbiAgfVxuXG4gIHJlbW92ZVBsYXllcihwbGF5ZXJJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5nYW1lU3RhdGUuY3VycmVudFBsYXllcnMgPSB0aGlzLmdhbWVTdGF0ZS5jdXJyZW50UGxheWVycy5maWx0ZXIoXG4gICAgICBwID0+IHAuaWQgIT09IHBsYXllcklkXG4gICAgKVxuICB9XG5cbiAgdXBkYXRlUGxheWVyU2NvcmUocGxheWVySWQ6IHN0cmluZywgc2NvcmU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZ2FtZVN0YXRlLnNjb3JlW3BsYXllcklkXSA9IHNjb3JlXG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5nYW1lU3RhdGUuY3VycmVudFBsYXllcnMuZmluZChwID0+IHAuaWQgPT09IHBsYXllcklkKVxuICAgIGlmIChwbGF5ZXIpIHtcbiAgICAgIHBsYXllci5zY29yZSA9IHNjb3JlXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogRXJyb3IpOiB2b2lkIHtcbiAgICBjb25zb2xlLmVycm9yKCdHYW1lRW5naW5lTWFuYWdlciBFcnJvcjonLCBlcnJvcilcbiAgICB0aGlzLm1hbmFnZXJDb25maWcub25FcnJvcj8uKGVycm9yKVxuICB9XG59Il0sIm5hbWVzIjpbIlBoYXNlciIsIlBoeXNpY3NCYXR0bGVSb3lhbGVTY2VuZSIsIlB1enpsZVJhY2VTY2VuZSIsIlJoeXRobUFjdGlvblNjZW5lIiwiTmV0d29ya01hbmFnZXIiLCJBdWRpb01hbmFnZXIiLCJJbnB1dE1hbmFnZXIiLCJHYW1lRW5naW5lTWFuYWdlciIsImNvbnN0cnVjdG9yIiwibWFuYWdlckNvbmZpZyIsImdhbWUiLCJjb25maWciLCJ3aWR0aCIsImhlaWdodCIsImF1dG9TdGFydCIsIm1heFBsYXllcnMiLCJnYW1lTW9kZSIsImRpZmZpY3VsdHkiLCJlbmFibGVQaHlzaWNzIiwiZW5hYmxlQXVkaW8iLCJlbmFibGVQYXJ0aWNsZXMiLCJuZXR3b3JrTWFuYWdlciIsImF1ZGlvTWFuYWdlciIsImlucHV0TWFuYWdlciIsImdhbWVTdGF0ZSIsInN0YXR1cyIsImN1cnJlbnRQbGF5ZXJzIiwiZ2FtZU9iamVjdHMiLCJzY29yZSIsImluaXRpYWxpemUiLCJwaGFzZXJDb25maWciLCJ0eXBlIiwiQVVUTyIsInBhcmVudCIsImJhY2tncm91bmRDb2xvciIsInBoeXNpY3MiLCJkZWZhdWx0IiwibWF0dGVyIiwiZ3Jhdml0eSIsIngiLCJ5IiwiZGVidWciLCJwcm9jZXNzIiwidW5kZWZpbmVkIiwic2NlbmUiLCJjcmVhdGVHYW1lU2NlbmVzIiwiY2FsbGJhY2tzIiwicG9zdEJvb3QiLCJvbkdhbWVSZWFkeSIsImJpbmQiLCJHYW1lIiwiZXJyb3IiLCJoYW5kbGVFcnJvciIsIkVycm9yIiwic2NlbmVzIiwiZ2FtZVR5cGUiLCJwdXNoIiwiY29uc29sZSIsImxvZyIsInN0YXJ0R2FtZSIsImpvaW5HYW1lIiwiY3VycmVudFNjZW5lIiwiZ2V0U2NlbmVzIiwicGF1c2VHYW1lIiwicGF1c2UiLCJyZXN1bWVHYW1lIiwicmVzdW1lIiwicmVzdGFydEdhbWUiLCJyZXN0YXJ0IiwiZW5kR2FtZSIsImZpbmFsU2NvcmUiLCJzdG9wIiwibGVhdmVHYW1lIiwib25HYW1lRW5kIiwiZGVzdHJveSIsImdldEdhbWVTdGF0ZSIsImdldENvbmZpZyIsImdldEdhbWUiLCJnZXROZXR3b3JrTWFuYWdlciIsImdldEF1ZGlvTWFuYWdlciIsImdldElucHV0TWFuYWdlciIsImhhbmRsZU5ldHdvcmtNZXNzYWdlIiwibWVzc2FnZSIsIm9uTmV0d29ya01lc3NhZ2UiLCJhZGRQbGF5ZXIiLCJwbGF5ZXIiLCJyZW1vdmVQbGF5ZXIiLCJwbGF5ZXJJZCIsImZpbHRlciIsInAiLCJpZCIsInVwZGF0ZVBsYXllclNjb3JlIiwiZmluZCIsIm9uRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/game-engine/GameEngineManager.ts\n");

/***/ }),

/***/ "./src/lib/game-engine/InputManager.ts":
/*!*********************************************!*\
  !*** ./src/lib/game-engine/InputManager.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InputManager: () => (/* binding */ InputManager)\n/* harmony export */ });\nclass InputManager {\n    constructor(){\n        this.keyStates = new Map();\n        this.mouseState = {\n            x: 0,\n            y: 0,\n            buttons: [\n                false,\n                false,\n                false\n            ] // left, middle, right\n        };\n        this.touchState = new Map();\n        this.listeners = new Map();\n        this.inputMapping = {\n            move: {\n                up: [\n                    \"KeyW\",\n                    \"ArrowUp\"\n                ],\n                down: [\n                    \"KeyS\",\n                    \"ArrowDown\"\n                ],\n                left: [\n                    \"KeyA\",\n                    \"ArrowLeft\"\n                ],\n                right: [\n                    \"KeyD\",\n                    \"ArrowRight\"\n                ]\n            },\n            action: {\n                primary: [\n                    \"Space\",\n                    \"Enter\",\n                    \"MouseLeft\"\n                ],\n                secondary: [\n                    \"ShiftLeft\",\n                    \"ShiftRight\",\n                    \"MouseRight\"\n                ],\n                special: [\n                    \"KeyE\",\n                    \"KeyF\"\n                ],\n                pause: [\n                    \"Escape\",\n                    \"KeyP\"\n                ]\n            },\n            ui: {\n                menu: [\n                    \"Escape\",\n                    \"KeyM\"\n                ],\n                chat: [\n                    \"KeyT\",\n                    \"KeyC\"\n                ],\n                scoreboard: [\n                    \"Tab\"\n                ]\n            }\n        };\n    }\n    async initialize() {\n        try {\n            // 키보드 이벤트 리스너\n            document.addEventListener(\"keydown\", this.handleKeyDown.bind(this));\n            document.addEventListener(\"keyup\", this.handleKeyUp.bind(this));\n            // 마우스 이벤트 리스너\n            document.addEventListener(\"mousedown\", this.handleMouseDown.bind(this));\n            document.addEventListener(\"mouseup\", this.handleMouseUp.bind(this));\n            document.addEventListener(\"mousemove\", this.handleMouseMove.bind(this));\n            document.addEventListener(\"wheel\", this.handleMouseWheel.bind(this));\n            // 터치 이벤트 리스너 (모바일)\n            document.addEventListener(\"touchstart\", this.handleTouchStart.bind(this));\n            document.addEventListener(\"touchmove\", this.handleTouchMove.bind(this));\n            document.addEventListener(\"touchend\", this.handleTouchEnd.bind(this));\n            // 포커스 관련 이벤트\n            window.addEventListener(\"blur\", this.handleWindowBlur.bind(this));\n            window.addEventListener(\"focus\", this.handleWindowFocus.bind(this));\n            // 컨텍스트 메뉴 비활성화 (게임 중 우클릭 방지)\n            document.addEventListener(\"contextmenu\", (e)=>e.preventDefault());\n            console.log(\"InputManager 초기화 완료\");\n        } catch (error) {\n            console.error(\"InputManager 초기화 실패:\", error);\n            throw error;\n        }\n    }\n    // 키보드 이벤트 처리\n    handleKeyDown(event) {\n        if (event.repeat) return; // 키 반복 무시\n        const key = event.code;\n        this.keyStates.set(key, true);\n        // 액션 매핑 확인 및 이벤트 발생\n        this.checkActionMapping(key, true);\n        // 기본 브라우저 동작 차단 (게임 키만)\n        if (this.isGameKey(key)) {\n            event.preventDefault();\n        }\n        this.emit(\"keydown\", {\n            key,\n            event\n        });\n    }\n    handleKeyUp(event) {\n        const key = event.code;\n        this.keyStates.set(key, false);\n        this.checkActionMapping(key, false);\n        if (this.isGameKey(key)) {\n            event.preventDefault();\n        }\n        this.emit(\"keyup\", {\n            key,\n            event\n        });\n    }\n    // 마우스 이벤트 처리\n    handleMouseDown(event) {\n        this.mouseState.buttons[event.button] = true;\n        const mouseKey = `Mouse${this.getMouseButtonName(event.button)}`;\n        this.checkActionMapping(mouseKey, true);\n        this.emit(\"mousedown\", {\n            button: event.button,\n            x: event.clientX,\n            y: event.clientY,\n            event\n        });\n    }\n    handleMouseUp(event) {\n        this.mouseState.buttons[event.button] = false;\n        const mouseKey = `Mouse${this.getMouseButtonName(event.button)}`;\n        this.checkActionMapping(mouseKey, false);\n        this.emit(\"mouseup\", {\n            button: event.button,\n            x: event.clientX,\n            y: event.clientY,\n            event\n        });\n    }\n    handleMouseMove(event) {\n        this.mouseState.x = event.clientX;\n        this.mouseState.y = event.clientY;\n        this.emit(\"mousemove\", {\n            x: event.clientX,\n            y: event.clientY,\n            deltaX: event.movementX,\n            deltaY: event.movementY,\n            event\n        });\n    }\n    handleMouseWheel(event) {\n        this.emit(\"mousewheel\", {\n            deltaX: event.deltaX,\n            deltaY: event.deltaY,\n            deltaZ: event.deltaZ,\n            event\n        });\n        // 게임 중 스크롤 방지\n        event.preventDefault();\n    }\n    // 터치 이벤트 처리 (모바일)\n    handleTouchStart(event) {\n        for (const touch of Array.from(event.touches)){\n            this.touchState.set(touch.identifier, {\n                x: touch.clientX,\n                y: touch.clientY\n            });\n        }\n        this.emit(\"touchstart\", {\n            touches: Array.from(event.touches),\n            event\n        });\n        // 모바일에서 스크롤 방지\n        event.preventDefault();\n    }\n    handleTouchMove(event) {\n        for (const touch of Array.from(event.touches)){\n            const prevTouch = this.touchState.get(touch.identifier);\n            if (prevTouch) {\n                this.touchState.set(touch.identifier, {\n                    x: touch.clientX,\n                    y: touch.clientY\n                });\n            }\n        }\n        this.emit(\"touchmove\", {\n            touches: Array.from(event.touches),\n            event\n        });\n        event.preventDefault();\n    }\n    handleTouchEnd(event) {\n        for (const touch of Array.from(event.changedTouches)){\n            this.touchState.delete(touch.identifier);\n        }\n        this.emit(\"touchend\", {\n            touches: Array.from(event.changedTouches),\n            event\n        });\n        event.preventDefault();\n    }\n    // 윈도우 포커스 처리\n    handleWindowBlur() {\n        // 포커스를 잃으면 모든 키 상태 리셋\n        this.keyStates.clear();\n        this.mouseState.buttons.fill(false);\n        this.touchState.clear();\n        this.emit(\"focus_lost\", {});\n    }\n    handleWindowFocus() {\n        this.emit(\"focus_gained\", {});\n    }\n    // 액션 매핑 확인\n    checkActionMapping(inputKey, isPressed) {\n        // 이동 액션 확인\n        for (const [direction, keys] of Object.entries(this.inputMapping.move)){\n            if (keys.includes(inputKey)) {\n                this.emit(`move_${direction}`, {\n                    pressed: isPressed,\n                    inputKey\n                });\n            }\n        }\n        // 액션 버튼 확인\n        for (const [action, keys] of Object.entries(this.inputMapping.action)){\n            if (keys.includes(inputKey)) {\n                this.emit(`action_${action}`, {\n                    pressed: isPressed,\n                    inputKey\n                });\n            }\n        }\n        // UI 액션 확인\n        for (const [uiAction, keys] of Object.entries(this.inputMapping.ui)){\n            if (keys.includes(inputKey)) {\n                this.emit(`ui_${uiAction}`, {\n                    pressed: isPressed,\n                    inputKey\n                });\n            }\n        }\n    }\n    // 유틸리티 메서드들\n    getMouseButtonName(button) {\n        switch(button){\n            case 0:\n                return \"Left\";\n            case 1:\n                return \"Middle\";\n            case 2:\n                return \"Right\";\n            default:\n                return `${button}`;\n        }\n    }\n    isGameKey(key) {\n        // 게임에서 사용하는 키인지 확인\n        const allGameKeys = [\n            ...this.inputMapping.move.up,\n            ...this.inputMapping.move.down,\n            ...this.inputMapping.move.left,\n            ...this.inputMapping.move.right,\n            ...this.inputMapping.action.primary,\n            ...this.inputMapping.action.secondary,\n            ...this.inputMapping.action.special,\n            ...this.inputMapping.action.pause\n        ];\n        return allGameKeys.includes(key);\n    }\n    // 공개 API\n    isKeyPressed(key) {\n        return this.keyStates.get(key) || false;\n    }\n    isMouseButtonPressed(button) {\n        return this.mouseState.buttons[button] || false;\n    }\n    getMousePosition() {\n        return {\n            x: this.mouseState.x,\n            y: this.mouseState.y\n        };\n    }\n    getTouchPositions() {\n        return Array.from(this.touchState.entries()).map(([id, pos])=>({\n                id,\n                x: pos.x,\n                y: pos.y\n            }));\n    }\n    // 액션 상태 확인\n    isMovePressed(direction) {\n        return this.inputMapping.move[direction].some((key)=>this.isKeyPressed(key));\n    }\n    isActionPressed(action) {\n        return this.inputMapping.action[action].some((key)=>{\n            if (key.startsWith(\"Mouse\")) {\n                const button = key === \"MouseLeft\" ? 0 : key === \"MouseRight\" ? 2 : 1;\n                return this.isMouseButtonPressed(button);\n            }\n            return this.isKeyPressed(key);\n        });\n    }\n    // 입력 매핑 업데이트\n    updateInputMapping(mapping) {\n        this.inputMapping = {\n            ...this.inputMapping,\n            ...mapping\n        };\n    }\n    getInputMapping() {\n        return {\n            ...this.inputMapping\n        };\n    }\n    // 이벤트 리스너 관리\n    on(event, callback) {\n        if (!this.listeners.has(event)) {\n            this.listeners.set(event, []);\n        }\n        this.listeners.get(event).push(callback);\n    }\n    off(event, callback) {\n        const eventListeners = this.listeners.get(event);\n        if (eventListeners) {\n            const index = eventListeners.indexOf(callback);\n            if (index > -1) {\n                eventListeners.splice(index, 1);\n            }\n        }\n    }\n    emit(event, data) {\n        const eventListeners = this.listeners.get(event);\n        if (eventListeners) {\n            eventListeners.forEach((callback)=>callback(data));\n        }\n    }\n    // 메모리 정리\n    destroy() {\n        // 이벤트 리스너 제거\n        document.removeEventListener(\"keydown\", this.handleKeyDown.bind(this));\n        document.removeEventListener(\"keyup\", this.handleKeyUp.bind(this));\n        document.removeEventListener(\"mousedown\", this.handleMouseDown.bind(this));\n        document.removeEventListener(\"mouseup\", this.handleMouseUp.bind(this));\n        document.removeEventListener(\"mousemove\", this.handleMouseMove.bind(this));\n        document.removeEventListener(\"wheel\", this.handleMouseWheel.bind(this));\n        document.removeEventListener(\"touchstart\", this.handleTouchStart.bind(this));\n        document.removeEventListener(\"touchmove\", this.handleTouchMove.bind(this));\n        document.removeEventListener(\"touchend\", this.handleTouchEnd.bind(this));\n        window.removeEventListener(\"blur\", this.handleWindowBlur.bind(this));\n        window.removeEventListener(\"focus\", this.handleWindowFocus.bind(this));\n        // 상태 초기화\n        this.keyStates.clear();\n        this.touchState.clear();\n        this.listeners.clear();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y0FBYyxJQUFJLENBQUM1RSxnQkFBZ0IsQ0FBQ04sSUFBSSxDQUFDLElBQUk7UUFDMUVILFNBQVNxRixtQkFBbUIsQ0FBQyxhQUFhLElBQUksQ0FBQzNFLGVBQWUsQ0FBQ1AsSUFBSSxDQUFDLElBQUk7UUFDeEVILFNBQVNxRixtQkFBbUIsQ0FBQyxZQUFZLElBQUksQ0FBQzFFLGNBQWMsQ0FBQ1IsSUFBSSxDQUFDLElBQUk7UUFDdEVTLE9BQU95RSxtQkFBbUIsQ0FBQyxRQUFRLElBQUksQ0FBQ3hFLGdCQUFnQixDQUFDVixJQUFJLENBQUMsSUFBSTtRQUNsRVMsT0FBT3lFLG1CQUFtQixDQUFDLFNBQVMsSUFBSSxDQUFDdkUsaUJBQWlCLENBQUNYLElBQUksQ0FBQyxJQUFJO1FBRXBFLFNBQVM7UUFDVCxJQUFJLENBQUMzQixTQUFTLENBQUN1RSxLQUFLO1FBQ3BCLElBQUksQ0FBQ2pFLFVBQVUsQ0FBQ2lFLEtBQUs7UUFDckIsSUFBSSxDQUFDaEUsU0FBUyxDQUFDZ0UsS0FBSztJQUN0QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGl0dHVydS1wcGF0dXJ1LWZyb250ZW5kLy4vc3JjL2xpYi9nYW1lLWVuZ2luZS9JbnB1dE1hbmFnZXIudHM/NmViZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnB1dE1hcHBpbmcgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgY2xhc3MgSW5wdXRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBrZXlTdGF0ZXM6IE1hcDxzdHJpbmcsIGJvb2xlYW4+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgbW91c2VTdGF0ZSA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgYnV0dG9uczogW2ZhbHNlLCBmYWxzZSwgZmFsc2VdIC8vIGxlZnQsIG1pZGRsZSwgcmlnaHRcbiAgfVxuICBwcml2YXRlIHRvdWNoU3RhdGU6IE1hcDxudW1iZXIsIHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfT4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBpbnB1dE1hcHBpbmc6IElucHV0TWFwcGluZ1xuICBwcml2YXRlIGxpc3RlbmVyczogTWFwPHN0cmluZywgQXJyYXk8KGV2ZW50OiBhbnkpID0+IHZvaWQ+PiA9IG5ldyBNYXAoKVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW5wdXRNYXBwaW5nID0ge1xuICAgICAgbW92ZToge1xuICAgICAgICB1cDogWydLZXlXJywgJ0Fycm93VXAnXSxcbiAgICAgICAgZG93bjogWydLZXlTJywgJ0Fycm93RG93biddLFxuICAgICAgICBsZWZ0OiBbJ0tleUEnLCAnQXJyb3dMZWZ0J10sXG4gICAgICAgIHJpZ2h0OiBbJ0tleUQnLCAnQXJyb3dSaWdodCddXG4gICAgICB9LFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIHByaW1hcnk6IFsnU3BhY2UnLCAnRW50ZXInLCAnTW91c2VMZWZ0J10sXG4gICAgICAgIHNlY29uZGFyeTogWydTaGlmdExlZnQnLCAnU2hpZnRSaWdodCcsICdNb3VzZVJpZ2h0J10sXG4gICAgICAgIHNwZWNpYWw6IFsnS2V5RScsICdLZXlGJ10sXG4gICAgICAgIHBhdXNlOiBbJ0VzY2FwZScsICdLZXlQJ11cbiAgICAgIH0sXG4gICAgICB1aToge1xuICAgICAgICBtZW51OiBbJ0VzY2FwZScsICdLZXlNJ10sXG4gICAgICAgIGNoYXQ6IFsnS2V5VCcsICdLZXlDJ10sXG4gICAgICAgIHNjb3JlYm9hcmQ6IFsnVGFiJ11cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyDtgqTrs7Trk5wg7J2067Kk7Yq4IOumrOyKpOuEiFxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpKVxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmhhbmRsZUtleVVwLmJpbmQodGhpcykpXG5cbiAgICAgIC8vIOuniOyasOyKpCDsnbTrsqTtirgg66as7Iqk64SIXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpKVxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlTW91c2VVcC5iaW5kKHRoaXMpKVxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3VzZU1vdmUuYmluZCh0aGlzKSlcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5oYW5kbGVNb3VzZVdoZWVsLmJpbmQodGhpcykpXG5cbiAgICAgIC8vIO2EsOy5mCDsnbTrsqTtirgg66as7Iqk64SIICjrqqjrsJTsnbwpXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LmJpbmQodGhpcykpXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmhhbmRsZVRvdWNoTW92ZS5iaW5kKHRoaXMpKVxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmhhbmRsZVRvdWNoRW5kLmJpbmQodGhpcykpXG5cbiAgICAgIC8vIO2PrOy7pOyKpCDqtIDroKgg7J2067Kk7Yq4XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuaGFuZGxlV2luZG93Qmx1ci5iaW5kKHRoaXMpKVxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5oYW5kbGVXaW5kb3dGb2N1cy5iaW5kKHRoaXMpKVxuXG4gICAgICAvLyDsu6jthY3siqTtirgg66mU64m0IOu5hO2ZnOyEse2ZlCAo6rKM7J6EIOykkSDsmrDtgbTrpq0g67Cp7KeAKVxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKVxuXG4gICAgICBjb25zb2xlLmxvZygnSW5wdXRNYW5hZ2VyIOy0iOq4sO2ZlCDsmYTro4wnKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdJbnB1dE1hbmFnZXIg7LSI6riw7ZmUIOyLpO2MqDonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgLy8g7YKk67O065OcIOydtOuypO2KuCDsspjrpqxcbiAgcHJpdmF0ZSBoYW5kbGVLZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LnJlcGVhdCkgcmV0dXJuIC8vIO2CpCDrsJjrs7Ug66y07IucXG5cbiAgICBjb25zdCBrZXkgPSBldmVudC5jb2RlXG4gICAgdGhpcy5rZXlTdGF0ZXMuc2V0KGtleSwgdHJ1ZSlcblxuICAgIC8vIOyVoeyFmCDrp6TtlZEg7ZmV7J24IOuwjyDsnbTrsqTtirgg67Cc7IOdXG4gICAgdGhpcy5jaGVja0FjdGlvbk1hcHBpbmcoa2V5LCB0cnVlKVxuXG4gICAgLy8g6riw67O4IOu4jOudvOyasOyggCDrj5nsnpEg7LCo64uoICjqsozsnoQg7YKk66eMKVxuICAgIGlmICh0aGlzLmlzR2FtZUtleShrZXkpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdrZXlkb3duJywgeyBrZXksIGV2ZW50IH0pXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgY29uc3Qga2V5ID0gZXZlbnQuY29kZVxuICAgIHRoaXMua2V5U3RhdGVzLnNldChrZXksIGZhbHNlKVxuXG4gICAgdGhpcy5jaGVja0FjdGlvbk1hcHBpbmcoa2V5LCBmYWxzZSlcblxuICAgIGlmICh0aGlzLmlzR2FtZUtleShrZXkpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCdrZXl1cCcsIHsga2V5LCBldmVudCB9KVxuICB9XG5cbiAgLy8g66eI7Jqw7IqkIOydtOuypO2KuCDsspjrpqxcbiAgcHJpdmF0ZSBoYW5kbGVNb3VzZURvd24oZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICB0aGlzLm1vdXNlU3RhdGUuYnV0dG9uc1tldmVudC5idXR0b25dID0gdHJ1ZVxuXG4gICAgY29uc3QgbW91c2VLZXkgPSBgTW91c2Uke3RoaXMuZ2V0TW91c2VCdXR0b25OYW1lKGV2ZW50LmJ1dHRvbil9YFxuICAgIHRoaXMuY2hlY2tBY3Rpb25NYXBwaW5nKG1vdXNlS2V5LCB0cnVlKVxuXG4gICAgdGhpcy5lbWl0KCdtb3VzZWRvd24nLCB7XG4gICAgICBidXR0b246IGV2ZW50LmJ1dHRvbixcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICB5OiBldmVudC5jbGllbnRZLFxuICAgICAgZXZlbnRcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbnNbZXZlbnQuYnV0dG9uXSA9IGZhbHNlXG5cbiAgICBjb25zdCBtb3VzZUtleSA9IGBNb3VzZSR7dGhpcy5nZXRNb3VzZUJ1dHRvbk5hbWUoZXZlbnQuYnV0dG9uKX1gXG4gICAgdGhpcy5jaGVja0FjdGlvbk1hcHBpbmcobW91c2VLZXksIGZhbHNlKVxuXG4gICAgdGhpcy5lbWl0KCdtb3VzZXVwJywge1xuICAgICAgYnV0dG9uOiBldmVudC5idXR0b24sXG4gICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgeTogZXZlbnQuY2xpZW50WSxcbiAgICAgIGV2ZW50XG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5tb3VzZVN0YXRlLnggPSBldmVudC5jbGllbnRYXG4gICAgdGhpcy5tb3VzZVN0YXRlLnkgPSBldmVudC5jbGllbnRZXG5cbiAgICB0aGlzLmVtaXQoJ21vdXNlbW92ZScsIHtcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICB5OiBldmVudC5jbGllbnRZLFxuICAgICAgZGVsdGFYOiBldmVudC5tb3ZlbWVudFgsXG4gICAgICBkZWx0YVk6IGV2ZW50Lm1vdmVtZW50WSxcbiAgICAgIGV2ZW50XG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTW91c2VXaGVlbChldmVudDogV2hlZWxFdmVudCk6IHZvaWQge1xuICAgIHRoaXMuZW1pdCgnbW91c2V3aGVlbCcsIHtcbiAgICAgIGRlbHRhWDogZXZlbnQuZGVsdGFYLFxuICAgICAgZGVsdGFZOiBldmVudC5kZWx0YVksXG4gICAgICBkZWx0YVo6IGV2ZW50LmRlbHRhWixcbiAgICAgIGV2ZW50XG4gICAgfSlcblxuICAgIC8vIOqyjOyehCDspJEg7Iqk7YGs66GkIOuwqeyngFxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIC8vIO2EsOy5mCDsnbTrsqTtirgg7LKY66asICjrqqjrsJTsnbwpXG4gIHByaXZhdGUgaGFuZGxlVG91Y2hTdGFydChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgdG91Y2ggb2YgQXJyYXkuZnJvbShldmVudC50b3VjaGVzKSkge1xuICAgICAgdGhpcy50b3VjaFN0YXRlLnNldCh0b3VjaC5pZGVudGlmaWVyLCB7XG4gICAgICAgIHg6IHRvdWNoLmNsaWVudFgsXG4gICAgICAgIHk6IHRvdWNoLmNsaWVudFlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0Jywge1xuICAgICAgdG91Y2hlczogQXJyYXkuZnJvbShldmVudC50b3VjaGVzKSxcbiAgICAgIGV2ZW50XG4gICAgfSlcblxuICAgIC8vIOuqqOuwlOydvOyXkOyEnCDsiqTtgazroaQg67Cp7KeAXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVUb3VjaE1vdmUoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IHRvdWNoIG9mIEFycmF5LmZyb20oZXZlbnQudG91Y2hlcykpIHtcbiAgICAgIGNvbnN0IHByZXZUb3VjaCA9IHRoaXMudG91Y2hTdGF0ZS5nZXQodG91Y2guaWRlbnRpZmllcilcbiAgICAgIGlmIChwcmV2VG91Y2gpIHtcbiAgICAgICAgdGhpcy50b3VjaFN0YXRlLnNldCh0b3VjaC5pZGVudGlmaWVyLCB7XG4gICAgICAgICAgeDogdG91Y2guY2xpZW50WCxcbiAgICAgICAgICB5OiB0b3VjaC5jbGllbnRZXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCd0b3VjaG1vdmUnLCB7XG4gICAgICB0b3VjaGVzOiBBcnJheS5mcm9tKGV2ZW50LnRvdWNoZXMpLFxuICAgICAgZXZlbnRcbiAgICB9KVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVUb3VjaEVuZChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgdG91Y2ggb2YgQXJyYXkuZnJvbShldmVudC5jaGFuZ2VkVG91Y2hlcykpIHtcbiAgICAgIHRoaXMudG91Y2hTdGF0ZS5kZWxldGUodG91Y2guaWRlbnRpZmllcilcbiAgICB9XG5cbiAgICB0aGlzLmVtaXQoJ3RvdWNoZW5kJywge1xuICAgICAgdG91Y2hlczogQXJyYXkuZnJvbShldmVudC5jaGFuZ2VkVG91Y2hlcyksXG4gICAgICBldmVudFxuICAgIH0pXG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cblxuICAvLyDsnIjrj4TsmrAg7Y+s7Luk7IqkIOyymOumrFxuICBwcml2YXRlIGhhbmRsZVdpbmRvd0JsdXIoKTogdm9pZCB7XG4gICAgLy8g7Y+s7Luk7Iqk66W8IOyeg+ycvOuptCDrqqjrk6Ag7YKkIOyDge2DnCDrpqzshYtcbiAgICB0aGlzLmtleVN0YXRlcy5jbGVhcigpXG4gICAgdGhpcy5tb3VzZVN0YXRlLmJ1dHRvbnMuZmlsbChmYWxzZSlcbiAgICB0aGlzLnRvdWNoU3RhdGUuY2xlYXIoKVxuXG4gICAgdGhpcy5lbWl0KCdmb2N1c19sb3N0Jywge30pXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVdpbmRvd0ZvY3VzKCk6IHZvaWQge1xuICAgIHRoaXMuZW1pdCgnZm9jdXNfZ2FpbmVkJywge30pXG4gIH1cblxuICAvLyDslaHshZgg66ek7ZWRIO2ZleyduFxuICBwcml2YXRlIGNoZWNrQWN0aW9uTWFwcGluZyhpbnB1dEtleTogc3RyaW5nLCBpc1ByZXNzZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAvLyDsnbTrj5kg7JWh7IWYIO2ZleyduFxuICAgIGZvciAoY29uc3QgW2RpcmVjdGlvbiwga2V5c10gb2YgT2JqZWN0LmVudHJpZXModGhpcy5pbnB1dE1hcHBpbmcubW92ZSkpIHtcbiAgICAgIGlmIChrZXlzLmluY2x1ZGVzKGlucHV0S2V5KSkge1xuICAgICAgICB0aGlzLmVtaXQoYG1vdmVfJHtkaXJlY3Rpb259YCwgeyBwcmVzc2VkOiBpc1ByZXNzZWQsIGlucHV0S2V5IH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g7JWh7IWYIOuyhO2KvCDtmZXsnbhcbiAgICBmb3IgKGNvbnN0IFthY3Rpb24sIGtleXNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuaW5wdXRNYXBwaW5nLmFjdGlvbikpIHtcbiAgICAgIGlmIChrZXlzLmluY2x1ZGVzKGlucHV0S2V5KSkge1xuICAgICAgICB0aGlzLmVtaXQoYGFjdGlvbl8ke2FjdGlvbn1gLCB7IHByZXNzZWQ6IGlzUHJlc3NlZCwgaW5wdXRLZXkgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVSSDslaHshZgg7ZmV7J24XG4gICAgZm9yIChjb25zdCBbdWlBY3Rpb24sIGtleXNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuaW5wdXRNYXBwaW5nLnVpKSkge1xuICAgICAgaWYgKGtleXMuaW5jbHVkZXMoaW5wdXRLZXkpKSB7XG4gICAgICAgIHRoaXMuZW1pdChgdWlfJHt1aUFjdGlvbn1gLCB7IHByZXNzZWQ6IGlzUHJlc3NlZCwgaW5wdXRLZXkgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyDsnKDti7jrpqzti7Ag66mU7ISc65Oc65OkXG4gIHByaXZhdGUgZ2V0TW91c2VCdXR0b25OYW1lKGJ1dHRvbjogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKGJ1dHRvbikge1xuICAgICAgY2FzZSAwOiByZXR1cm4gJ0xlZnQnXG4gICAgICBjYXNlIDE6IHJldHVybiAnTWlkZGxlJ1xuICAgICAgY2FzZSAyOiByZXR1cm4gJ1JpZ2h0J1xuICAgICAgZGVmYXVsdDogcmV0dXJuIGAke2J1dHRvbn1gXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc0dhbWVLZXkoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAvLyDqsozsnoTsl5DshJwg7IKs7Jqp7ZWY64qUIO2CpOyduOyngCDtmZXsnbhcbiAgICBjb25zdCBhbGxHYW1lS2V5cyA9IFtcbiAgICAgIC4uLnRoaXMuaW5wdXRNYXBwaW5nLm1vdmUudXAsXG4gICAgICAuLi50aGlzLmlucHV0TWFwcGluZy5tb3ZlLmRvd24sXG4gICAgICAuLi50aGlzLmlucHV0TWFwcGluZy5tb3ZlLmxlZnQsXG4gICAgICAuLi50aGlzLmlucHV0TWFwcGluZy5tb3ZlLnJpZ2h0LFxuICAgICAgLi4udGhpcy5pbnB1dE1hcHBpbmcuYWN0aW9uLnByaW1hcnksXG4gICAgICAuLi50aGlzLmlucHV0TWFwcGluZy5hY3Rpb24uc2Vjb25kYXJ5LFxuICAgICAgLi4udGhpcy5pbnB1dE1hcHBpbmcuYWN0aW9uLnNwZWNpYWwsXG4gICAgICAuLi50aGlzLmlucHV0TWFwcGluZy5hY3Rpb24ucGF1c2VcbiAgICBdXG5cbiAgICByZXR1cm4gYWxsR2FtZUtleXMuaW5jbHVkZXMoa2V5KVxuICB9XG5cbiAgLy8g6rO16rCcIEFQSVxuICBpc0tleVByZXNzZWQoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5rZXlTdGF0ZXMuZ2V0KGtleSkgfHwgZmFsc2VcbiAgfVxuXG4gIGlzTW91c2VCdXR0b25QcmVzc2VkKGJ1dHRvbjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubW91c2VTdGF0ZS5idXR0b25zW2J1dHRvbl0gfHwgZmFsc2VcbiAgfVxuXG4gIGdldE1vdXNlUG9zaXRpb24oKTogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9IHtcbiAgICByZXR1cm4geyB4OiB0aGlzLm1vdXNlU3RhdGUueCwgeTogdGhpcy5tb3VzZVN0YXRlLnkgfVxuICB9XG5cbiAgZ2V0VG91Y2hQb3NpdGlvbnMoKTogQXJyYXk8eyBpZDogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciB9PiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy50b3VjaFN0YXRlLmVudHJpZXMoKSkubWFwKChbaWQsIHBvc10pID0+ICh7XG4gICAgICBpZCxcbiAgICAgIHg6IHBvcy54LFxuICAgICAgeTogcG9zLnlcbiAgICB9KSlcbiAgfVxuXG4gIC8vIOyVoeyFmCDsg4Htg5wg7ZmV7J24XG4gIGlzTW92ZVByZXNzZWQoZGlyZWN0aW9uOiAndXAnIHwgJ2Rvd24nIHwgJ2xlZnQnIHwgJ3JpZ2h0Jyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlucHV0TWFwcGluZy5tb3ZlW2RpcmVjdGlvbl0uc29tZShrZXkgPT4gdGhpcy5pc0tleVByZXNzZWQoa2V5KSlcbiAgfVxuXG4gIGlzQWN0aW9uUHJlc3NlZChhY3Rpb246ICdwcmltYXJ5JyB8ICdzZWNvbmRhcnknIHwgJ3NwZWNpYWwnIHwgJ3BhdXNlJyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlucHV0TWFwcGluZy5hY3Rpb25bYWN0aW9uXS5zb21lKGtleSA9PiB7XG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ01vdXNlJykpIHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0ga2V5ID09PSAnTW91c2VMZWZ0JyA/IDAgOiBrZXkgPT09ICdNb3VzZVJpZ2h0JyA/IDIgOiAxXG4gICAgICAgIHJldHVybiB0aGlzLmlzTW91c2VCdXR0b25QcmVzc2VkKGJ1dHRvbilcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmlzS2V5UHJlc3NlZChrZXkpXG4gICAgfSlcbiAgfVxuXG4gIC8vIOyeheugpSDrp6TtlZEg7JeF642w7J207Yq4XG4gIHVwZGF0ZUlucHV0TWFwcGluZyhtYXBwaW5nOiBQYXJ0aWFsPElucHV0TWFwcGluZz4pOiB2b2lkIHtcbiAgICB0aGlzLmlucHV0TWFwcGluZyA9IHsgLi4udGhpcy5pbnB1dE1hcHBpbmcsIC4uLm1hcHBpbmcgfVxuICB9XG5cbiAgZ2V0SW5wdXRNYXBwaW5nKCk6IElucHV0TWFwcGluZyB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy5pbnB1dE1hcHBpbmcgfVxuICB9XG5cbiAgLy8g7J2067Kk7Yq4IOumrOyKpOuEiCDqtIDrpqxcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IChkYXRhOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyhldmVudCkpIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNldChldmVudCwgW10pXG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzLmdldChldmVudCkhLnB1c2goY2FsbGJhY2spXG4gIH1cblxuICBvZmYoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IChkYXRhOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCBldmVudExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChldmVudClcbiAgICBpZiAoZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gZXZlbnRMaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaylcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGV2ZW50TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGVtaXQoZXZlbnQ6IHN0cmluZywgZGF0YTogYW55KTogdm9pZCB7XG4gICAgY29uc3QgZXZlbnRMaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5nZXQoZXZlbnQpXG4gICAgaWYgKGV2ZW50TGlzdGVuZXJzKSB7XG4gICAgICBldmVudExpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGRhdGEpKVxuICAgIH1cbiAgfVxuXG4gIC8vIOuplOuqqOumrCDsoJXrpqxcbiAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAvLyDsnbTrsqTtirgg66as7Iqk64SIIOygnOqxsFxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuaGFuZGxlS2V5VXAuYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmhhbmRsZU1vdXNlVXAuYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlTW92ZS5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5oYW5kbGVNb3VzZVdoZWVsLmJpbmQodGhpcykpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuaGFuZGxlVG91Y2hTdGFydC5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlVG91Y2hNb3ZlLmJpbmQodGhpcykpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmhhbmRsZVRvdWNoRW5kLmJpbmQodGhpcykpXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLmhhbmRsZVdpbmRvd0JsdXIuYmluZCh0aGlzKSlcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmhhbmRsZVdpbmRvd0ZvY3VzLmJpbmQodGhpcykpXG5cbiAgICAvLyDsg4Htg5wg7LSI6riw7ZmUXG4gICAgdGhpcy5rZXlTdGF0ZXMuY2xlYXIoKVxuICAgIHRoaXMudG91Y2hTdGF0ZS5jbGVhcigpXG4gICAgdGhpcy5saXN0ZW5lcnMuY2xlYXIoKVxuICB9XG59Il0sIm5hbWVzIjpbIklucHV0TWFuYWdlciIsImNvbnN0cnVjdG9yIiwia2V5U3RhdGVzIiwiTWFwIiwibW91c2VTdGF0ZSIsIngiLCJ5IiwiYnV0dG9ucyIsInRvdWNoU3RhdGUiLCJsaXN0ZW5lcnMiLCJpbnB1dE1hcHBpbmciLCJtb3ZlIiwidXAiLCJkb3duIiwibGVmdCIsInJpZ2h0IiwiYWN0aW9uIiwicHJpbWFyeSIsInNlY29uZGFyeSIsInNwZWNpYWwiLCJwYXVzZSIsInVpIiwibWVudSIsImNoYXQiLCJzY29yZWJvYXJkIiwiaW5pdGlhbGl6ZSIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUtleURvd24iLCJiaW5kIiwiaGFuZGxlS2V5VXAiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVNb3VzZVVwIiwiaGFuZGxlTW91c2VNb3ZlIiwiaGFuZGxlTW91c2VXaGVlbCIsImhhbmRsZVRvdWNoU3RhcnQiLCJoYW5kbGVUb3VjaE1vdmUiLCJoYW5kbGVUb3VjaEVuZCIsIndpbmRvdyIsImhhbmRsZVdpbmRvd0JsdXIiLCJoYW5kbGVXaW5kb3dGb2N1cyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImV2ZW50IiwicmVwZWF0Iiwia2V5IiwiY29kZSIsInNldCIsImNoZWNrQWN0aW9uTWFwcGluZyIsImlzR2FtZUtleSIsImVtaXQiLCJidXR0b24iLCJtb3VzZUtleSIsImdldE1vdXNlQnV0dG9uTmFtZSIsImNsaWVudFgiLCJjbGllbnRZIiwiZGVsdGFYIiwibW92ZW1lbnRYIiwiZGVsdGFZIiwibW92ZW1lbnRZIiwiZGVsdGFaIiwidG91Y2giLCJBcnJheSIsImZyb20iLCJ0b3VjaGVzIiwiaWRlbnRpZmllciIsInByZXZUb3VjaCIsImdldCIsImNoYW5nZWRUb3VjaGVzIiwiZGVsZXRlIiwiY2xlYXIiLCJmaWxsIiwiaW5wdXRLZXkiLCJpc1ByZXNzZWQiLCJkaXJlY3Rpb24iLCJrZXlzIiwiT2JqZWN0IiwiZW50cmllcyIsImluY2x1ZGVzIiwicHJlc3NlZCIsInVpQWN0aW9uIiwiYWxsR2FtZUtleXMiLCJpc0tleVByZXNzZWQiLCJpc01vdXNlQnV0dG9uUHJlc3NlZCIsImdldE1vdXNlUG9zaXRpb24iLCJnZXRUb3VjaFBvc2l0aW9ucyIsIm1hcCIsImlkIiwicG9zIiwiaXNNb3ZlUHJlc3NlZCIsInNvbWUiLCJpc0FjdGlvblByZXNzZWQiLCJzdGFydHNXaXRoIiwidXBkYXRlSW5wdXRNYXBwaW5nIiwibWFwcGluZyIsImdldElucHV0TWFwcGluZyIsIm9uIiwiY2FsbGJhY2siLCJoYXMiLCJwdXNoIiwib2ZmIiwiZXZlbnRMaXN0ZW5lcnMiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJkYXRhIiwiZm9yRWFjaCIsImRlc3Ryb3kiLCJyZW1vdmVFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/game-engine/InputManager.ts\n");

/***/ }),

/***/ "./src/lib/game-engine/NetworkManager.ts":
/*!***********************************************!*\
  !*** ./src/lib/game-engine/NetworkManager.ts ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NetworkManager: () => (/* binding */ NetworkManager)\n/* harmony export */ });\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io-client */ \"socket.io-client\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io_client__WEBPACK_IMPORTED_MODULE_0__]);\nsocket_io_client__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nclass NetworkManager {\n    async initialize() {\n        try {\n            // Socket.IO 연결 설정\n            this.socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(\"ws://localhost:8080\" || 0, {\n                transports: [\n                    \"websocket\",\n                    \"polling\"\n                ],\n                timeout: 10000,\n                reconnection: true,\n                reconnectionAttempts: 5,\n                reconnectionDelay: 1000\n            });\n            // 이벤트 리스너 등록\n            this.setupEventListeners();\n            // 연결 대기\n            await new Promise((resolve, reject)=>{\n                const timeout = setTimeout(()=>{\n                    reject(new Error(\"서버 연결 시간 초과\"));\n                }, 10000);\n                this.socket.on(\"connect\", ()=>{\n                    clearTimeout(timeout);\n                    this.isConnected = true;\n                    console.log(\"서버에 연결되었습니다\");\n                    resolve();\n                });\n                this.socket.on(\"connect_error\", (error)=>{\n                    clearTimeout(timeout);\n                    reject(new Error(`연결 실패: ${error.message}`));\n                });\n            });\n            // 플레이어 ID 요청\n            await this.requestPlayerId();\n        } catch (error) {\n            console.error(\"NetworkManager 초기화 실패:\", error);\n            throw error;\n        }\n    }\n    setupEventListeners() {\n        if (!this.socket) return;\n        // 연결 이벤트\n        this.socket.on(\"connect\", ()=>{\n            this.isConnected = true;\n            console.log(\"서버 연결됨\");\n        });\n        this.socket.on(\"disconnect\", (reason)=>{\n            this.isConnected = false;\n            console.log(\"서버 연결 끊김:\", reason);\n        });\n        // 게임 관련 이벤트\n        this.socket.on(\"player_joined\", (player)=>{\n            console.log(\"플레이어 참가:\", player);\n            this.onPlayerJoined?.(player);\n        });\n        this.socket.on(\"player_left\", (playerId)=>{\n            console.log(\"플레이어 퇴장:\", playerId);\n            this.onPlayerLeft?.(playerId);\n        });\n        this.socket.on(\"game_started\", (gameData)=>{\n            console.log(\"게임 시작:\", gameData);\n            this.onGameStarted?.(gameData);\n        });\n        this.socket.on(\"game_update\", (update)=>{\n            this.onGameUpdate?.(update);\n        });\n        this.socket.on(\"game_ended\", (result)=>{\n            console.log(\"게임 종료:\", result);\n            this.onGameEnded?.(result);\n        });\n        // 에러 처리\n        this.socket.on(\"error\", (error)=>{\n            console.error(\"서버 에러:\", error);\n            this.onError?.(new Error(error.message || \"서버 에러\"));\n        });\n    }\n    async requestPlayerId() {\n        return new Promise((resolve, reject)=>{\n            if (!this.socket) {\n                reject(new Error(\"소켓이 초기화되지 않았습니다\"));\n                return;\n            }\n            this.socket.emit(\"request_player_id\");\n            this.socket.once(\"player_id_assigned\", (playerId)=>{\n                this.playerId = playerId;\n                console.log(\"플레이어 ID 할당됨:\", playerId);\n                resolve();\n            });\n            setTimeout(()=>{\n                reject(new Error(\"플레이어 ID 할당 시간 초과\"));\n            }, 5000);\n        });\n    }\n    async joinGame(gameType, roomId) {\n        if (!this.isConnected || !this.socket) {\n            throw new Error(\"서버에 연결되지 않았습니다\");\n        }\n        return new Promise((resolve, reject)=>{\n            this.socket.emit(\"join_game\", {\n                gameType,\n                roomId\n            });\n            this.socket.once(\"room_joined\", (room)=>{\n                this.currentRoom = room;\n                console.log(\"방에 참가했습니다:\", room);\n                resolve(room);\n            });\n            this.socket.once(\"join_failed\", (error)=>{\n                reject(new Error(error));\n            });\n            setTimeout(()=>{\n                reject(new Error(\"방 참가 시간 초과\"));\n            }, 10000);\n        });\n    }\n    async createRoom(gameType, roomName, maxPlayers, isPrivate = false) {\n        if (!this.isConnected || !this.socket) {\n            throw new Error(\"서버에 연결되지 않았습니다\");\n        }\n        return new Promise((resolve, reject)=>{\n            this.socket.emit(\"create_room\", {\n                gameType,\n                roomName,\n                maxPlayers,\n                isPrivate\n            });\n            this.socket.once(\"room_created\", (room)=>{\n                this.currentRoom = room;\n                console.log(\"방이 생성되었습니다:\", room);\n                resolve(room);\n            });\n            this.socket.once(\"create_failed\", (error)=>{\n                reject(new Error(error));\n            });\n            setTimeout(()=>{\n                reject(new Error(\"방 생성 시간 초과\"));\n            }, 10000);\n        });\n    }\n    leaveGame() {\n        if (this.socket && this.currentRoom) {\n            this.socket.emit(\"leave_room\", {\n                roomId: this.currentRoom.id\n            });\n            this.currentRoom = null;\n        }\n    }\n    sendGameAction(action, data) {\n        if (!this.isConnected || !this.socket || !this.currentRoom) {\n            console.warn(\"게임 액션 전송 실패: 연결되지 않음\");\n            return;\n        }\n        const message = {\n            type: \"player_action\",\n            roomId: this.currentRoom.id,\n            playerId: this.playerId,\n            data: {\n                action,\n                ...data\n            },\n            timestamp: Date.now()\n        };\n        this.socket.emit(\"game_action\", message);\n    }\n    sendChatMessage(message) {\n        if (!this.isConnected || !this.socket || !this.currentRoom) {\n            console.warn(\"채팅 메시지 전송 실패: 연결되지 않음\");\n            return;\n        }\n        this.socket.emit(\"chat_message\", {\n            roomId: this.currentRoom.id,\n            playerId: this.playerId,\n            message,\n            timestamp: Date.now()\n        });\n    }\n    // Getter 메서드들\n    getPlayerId() {\n        return this.playerId;\n    }\n    getCurrentRoom() {\n        return this.currentRoom;\n    }\n    isGameConnected() {\n        return this.isConnected && this.socket !== null;\n    }\n    getRoomId() {\n        return this.currentRoom?.id || null;\n    }\n    // 연결 상태 확인\n    async ping() {\n        if (!this.socket || !this.isConnected) {\n            throw new Error(\"연결되지 않았습니다\");\n        }\n        const start = Date.now();\n        return new Promise((resolve, reject)=>{\n            this.socket.emit(\"ping\");\n            this.socket.once(\"pong\", ()=>{\n                const latency = Date.now() - start;\n                resolve(latency);\n            });\n            setTimeout(()=>{\n                reject(new Error(\"핑 시간 초과\"));\n            }, 5000);\n        });\n    }\n    destroy() {\n        if (this.socket) {\n            this.socket.disconnect();\n            this.socket = null;\n        }\n        this.isConnected = false;\n        this.currentRoom = null;\n        this.playerId = null;\n    }\n    constructor(){\n        this.socket = null;\n        this.isConnected = false;\n        this.currentRoom = null;\n        this.playerId = null;\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBRWxCLElBQUksQ0FBQ25DLE1BQU0sQ0FBRW9DLElBQUksQ0FBQyxRQUFRO2dCQUN4QixNQUFNMkIsVUFBVVQsS0FBS0MsR0FBRyxLQUFLTztnQkFDN0JuRCxRQUFRb0Q7WUFDVjtZQUVBbEQsV0FBVztnQkFDVEQsT0FBTyxJQUFJRSxNQUFNO1lBQ25CLEdBQUc7UUFDTDtJQUNGO0lBRUFrRCxVQUFnQjtRQUNkLElBQUksSUFBSSxDQUFDaEUsTUFBTSxFQUFFO1lBQ2YsSUFBSSxDQUFDQSxNQUFNLENBQUNpRSxVQUFVO1lBQ3RCLElBQUksQ0FBQ2pFLE1BQU0sR0FBRztRQUNoQjtRQUVBLElBQUksQ0FBQ2lCLFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUN3QixXQUFXLEdBQUc7UUFDbkIsSUFBSSxDQUFDZixRQUFRLEdBQUc7SUFDbEI7O2FBdFFRMUIsU0FBd0I7YUFDeEJpQixjQUFjO2FBQ2R3QixjQUErQjthQUMvQmYsV0FBMEI7O0FBb1FwQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BpdHR1cnUtcHBhdHVydS1mcm9udGVuZC8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvTmV0d29ya01hbmFnZXIudHM/ZDc4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbywgU29ja2V0IH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCdcbmltcG9ydCB7IEdhbWVUeXBlLCBOZXR3b3JrTWVzc2FnZSwgR2FtZVBsYXllciwgR2FtZVJvb20gfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgY2xhc3MgTmV0d29ya01hbmFnZXIge1xuICBwcml2YXRlIHNvY2tldDogU29ja2V0IHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBpc0Nvbm5lY3RlZCA9IGZhbHNlXG4gIHByaXZhdGUgY3VycmVudFJvb206IEdhbWVSb29tIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBwbGF5ZXJJZDogc3RyaW5nIHwgbnVsbCA9IG51bGxcblxuICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBTb2NrZXQuSU8g7Jew6rKwIOyEpOyglVxuICAgICAgdGhpcy5zb2NrZXQgPSBpbyhwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19XU19VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcsIHtcbiAgICAgICAgdHJhbnNwb3J0czogWyd3ZWJzb2NrZXQnLCAncG9sbGluZyddLFxuICAgICAgICB0aW1lb3V0OiAxMDAwMCxcbiAgICAgICAgcmVjb25uZWN0aW9uOiB0cnVlLFxuICAgICAgICByZWNvbm5lY3Rpb25BdHRlbXB0czogNSxcbiAgICAgICAgcmVjb25uZWN0aW9uRGVsYXk6IDEwMDBcbiAgICAgIH0pXG5cbiAgICAgIC8vIOydtOuypO2KuCDrpqzsiqTrhIgg65Ox66GdXG4gICAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKVxuXG4gICAgICAvLyDsl7DqsrAg64yA6riwXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCfshJzrsoQg7Jew6rKwIOyLnOqwhCDstIjqs7wnKSlcbiAgICAgICAgfSwgMTAwMDApXG5cbiAgICAgICAgdGhpcy5zb2NrZXQhLm9uKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlXG4gICAgICAgICAgY29uc29sZS5sb2coJ+yEnOuyhOyXkCDsl7DqsrDrkJjsl4jsirXri4jri6QnKVxuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuc29ja2V0IS5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYOyXsOqysCDsi6TtjKg6ICR7ZXJyb3IubWVzc2FnZX1gKSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIO2UjOugiOydtOyWtCBJRCDsmpTssq1cbiAgICAgIGF3YWl0IHRoaXMucmVxdWVzdFBsYXllcklkKClcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdOZXR3b3JrTWFuYWdlciDstIjquLDtmZQg7Iuk7YyoOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNldHVwRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnNvY2tldCkgcmV0dXJuXG5cbiAgICAvLyDsl7DqsrAg7J2067Kk7Yq4XG4gICAgdGhpcy5zb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZVxuICAgICAgY29uc29sZS5sb2coJ+yEnOuyhCDsl7DqsrDrkKgnKVxuICAgIH0pXG5cbiAgICB0aGlzLnNvY2tldC5vbignZGlzY29ubmVjdCcsIChyZWFzb24pID0+IHtcbiAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZVxuICAgICAgY29uc29sZS5sb2coJ+yEnOuyhCDsl7DqsrAg64GK6rmAOicsIHJlYXNvbilcbiAgICB9KVxuXG4gICAgLy8g6rKM7J6EIOq0gOugqCDsnbTrsqTtirhcbiAgICB0aGlzLnNvY2tldC5vbigncGxheWVyX2pvaW5lZCcsIChwbGF5ZXI6IEdhbWVQbGF5ZXIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCftlIzroIjsnbTslrQg7LC46rCAOicsIHBsYXllcilcbiAgICAgIHRoaXMub25QbGF5ZXJKb2luZWQ/LihwbGF5ZXIpXG4gICAgfSlcblxuICAgIHRoaXMuc29ja2V0Lm9uKCdwbGF5ZXJfbGVmdCcsIChwbGF5ZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn7ZSM66CI7J207Ja0IO2HtOyepTonLCBwbGF5ZXJJZClcbiAgICAgIHRoaXMub25QbGF5ZXJMZWZ0Py4ocGxheWVySWQpXG4gICAgfSlcblxuICAgIHRoaXMuc29ja2V0Lm9uKCdnYW1lX3N0YXJ0ZWQnLCAoZ2FtZURhdGE6IGFueSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ+qyjOyehCDsi5zsnpE6JywgZ2FtZURhdGEpXG4gICAgICB0aGlzLm9uR2FtZVN0YXJ0ZWQ/LihnYW1lRGF0YSlcbiAgICB9KVxuXG4gICAgdGhpcy5zb2NrZXQub24oJ2dhbWVfdXBkYXRlJywgKHVwZGF0ZTogYW55KSA9PiB7XG4gICAgICB0aGlzLm9uR2FtZVVwZGF0ZT8uKHVwZGF0ZSlcbiAgICB9KVxuXG4gICAgdGhpcy5zb2NrZXQub24oJ2dhbWVfZW5kZWQnLCAocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfqsozsnoQg7KKF66OMOicsIHJlc3VsdClcbiAgICAgIHRoaXMub25HYW1lRW5kZWQ/LihyZXN1bHQpXG4gICAgfSlcblxuICAgIC8vIOyXkOufrCDsspjrpqxcbiAgICB0aGlzLnNvY2tldC5vbignZXJyb3InLCAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcign7ISc67KEIOyXkOufrDonLCBlcnJvcilcbiAgICAgIHRoaXMub25FcnJvcj8uKG5ldyBFcnJvcihlcnJvci5tZXNzYWdlIHx8ICfshJzrsoQg7JeQ65+sJykpXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVxdWVzdFBsYXllcklkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc29ja2V0KSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ+yGjOy8k+ydtCDstIjquLDtmZTrkJjsp4Ag7JWK7JWY7Iq164uI64ukJykpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICB0aGlzLnNvY2tldC5lbWl0KCdyZXF1ZXN0X3BsYXllcl9pZCcpXG5cbiAgICAgIHRoaXMuc29ja2V0Lm9uY2UoJ3BsYXllcl9pZF9hc3NpZ25lZCcsIChwbGF5ZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIHRoaXMucGxheWVySWQgPSBwbGF5ZXJJZFxuICAgICAgICBjb25zb2xlLmxvZygn7ZSM66CI7J207Ja0IElEIO2VoOuLueuQqDonLCBwbGF5ZXJJZClcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9KVxuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcign7ZSM66CI7J207Ja0IElEIO2VoOuLuSDsi5zqsIQg7LSI6rO8JykpXG4gICAgICB9LCA1MDAwKVxuICAgIH0pXG4gIH1cblxuICBhc3luYyBqb2luR2FtZShnYW1lVHlwZTogR2FtZVR5cGUsIHJvb21JZD86IHN0cmluZyk6IFByb21pc2U8R2FtZVJvb20+IHtcbiAgICBpZiAoIXRoaXMuaXNDb25uZWN0ZWQgfHwgIXRoaXMuc29ja2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+yEnOuyhOyXkCDsl7DqsrDrkJjsp4Ag7JWK7JWY7Iq164uI64ukJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5zb2NrZXQhLmVtaXQoJ2pvaW5fZ2FtZScsIHsgZ2FtZVR5cGUsIHJvb21JZCB9KVxuXG4gICAgICB0aGlzLnNvY2tldCEub25jZSgncm9vbV9qb2luZWQnLCAocm9vbTogR2FtZVJvb20pID0+IHtcbiAgICAgICAgdGhpcy5jdXJyZW50Um9vbSA9IHJvb21cbiAgICAgICAgY29uc29sZS5sb2coJ+uwqeyXkCDssLjqsIDtlojsirXri4jri6Q6Jywgcm9vbSlcbiAgICAgICAgcmVzb2x2ZShyb29tKVxuICAgICAgfSlcblxuICAgICAgdGhpcy5zb2NrZXQhLm9uY2UoJ2pvaW5fZmFpbGVkJywgKGVycm9yOiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnJvcikpXG4gICAgICB9KVxuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcign67CpIOywuOqwgCDsi5zqsIQg7LSI6rO8JykpXG4gICAgICB9LCAxMDAwMClcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlUm9vbShnYW1lVHlwZTogR2FtZVR5cGUsIHJvb21OYW1lOiBzdHJpbmcsIG1heFBsYXllcnM6IG51bWJlciwgaXNQcml2YXRlID0gZmFsc2UpOiBQcm9taXNlPEdhbWVSb29tPiB7XG4gICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkIHx8ICF0aGlzLnNvY2tldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfshJzrsoTsl5Ag7Jew6rKw65CY7KeAIOyViuyVmOyKteuLiOuLpCcpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuc29ja2V0IS5lbWl0KCdjcmVhdGVfcm9vbScsIHtcbiAgICAgICAgZ2FtZVR5cGUsXG4gICAgICAgIHJvb21OYW1lLFxuICAgICAgICBtYXhQbGF5ZXJzLFxuICAgICAgICBpc1ByaXZhdGVcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuc29ja2V0IS5vbmNlKCdyb29tX2NyZWF0ZWQnLCAocm9vbTogR2FtZVJvb20pID0+IHtcbiAgICAgICAgdGhpcy5jdXJyZW50Um9vbSA9IHJvb21cbiAgICAgICAgY29uc29sZS5sb2coJ+uwqeydtCDsg53shLHrkJjsl4jsirXri4jri6Q6Jywgcm9vbSlcbiAgICAgICAgcmVzb2x2ZShyb29tKVxuICAgICAgfSlcblxuICAgICAgdGhpcy5zb2NrZXQhLm9uY2UoJ2NyZWF0ZV9mYWlsZWQnLCAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKGVycm9yKSlcbiAgICAgIH0pXG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCfrsKkg7IOd7ISxIOyLnOqwhCDstIjqs7wnKSlcbiAgICAgIH0sIDEwMDAwKVxuICAgIH0pXG4gIH1cblxuICBsZWF2ZUdhbWUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc29ja2V0ICYmIHRoaXMuY3VycmVudFJvb20pIHtcbiAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ2xlYXZlX3Jvb20nLCB7IHJvb21JZDogdGhpcy5jdXJyZW50Um9vbS5pZCB9KVxuICAgICAgdGhpcy5jdXJyZW50Um9vbSA9IG51bGxcbiAgICB9XG4gIH1cblxuICBzZW5kR2FtZUFjdGlvbihhY3Rpb246IHN0cmluZywgZGF0YTogYW55KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkIHx8ICF0aGlzLnNvY2tldCB8fCAhdGhpcy5jdXJyZW50Um9vbSkge1xuICAgICAgY29uc29sZS53YXJuKCfqsozsnoQg7JWh7IWYIOyghOyGoSDsi6TtjKg6IOyXsOqysOuQmOyngCDslYrsnYwnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZTogTmV0d29ya01lc3NhZ2UgPSB7XG4gICAgICB0eXBlOiAncGxheWVyX2FjdGlvbicsXG4gICAgICByb29tSWQ6IHRoaXMuY3VycmVudFJvb20uaWQsXG4gICAgICBwbGF5ZXJJZDogdGhpcy5wbGF5ZXJJZCEsXG4gICAgICBkYXRhOiB7IGFjdGlvbiwgLi4uZGF0YSB9LFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfVxuXG4gICAgdGhpcy5zb2NrZXQuZW1pdCgnZ2FtZV9hY3Rpb24nLCBtZXNzYWdlKVxuICB9XG5cbiAgc2VuZENoYXRNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCB8fCAhdGhpcy5zb2NrZXQgfHwgIXRoaXMuY3VycmVudFJvb20pIHtcbiAgICAgIGNvbnNvbGUud2Fybign7LGE7YyFIOuplOyLnOyngCDsoITshqEg7Iuk7YyoOiDsl7DqsrDrkJjsp4Ag7JWK7J2MJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuc29ja2V0LmVtaXQoJ2NoYXRfbWVzc2FnZScsIHtcbiAgICAgIHJvb21JZDogdGhpcy5jdXJyZW50Um9vbS5pZCxcbiAgICAgIHBsYXllcklkOiB0aGlzLnBsYXllcklkLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgIH0pXG4gIH1cblxuICAvLyDsnbTrsqTtirgg7L2c67Cx65OkIC0g7Jm467aA7JeQ7IScIOyEpOyglVxuICBvblBsYXllckpvaW5lZD86IChwbGF5ZXI6IEdhbWVQbGF5ZXIpID0+IHZvaWRcbiAgb25QbGF5ZXJMZWZ0PzogKHBsYXllcklkOiBzdHJpbmcpID0+IHZvaWRcbiAgb25HYW1lU3RhcnRlZD86IChnYW1lRGF0YTogYW55KSA9PiB2b2lkXG4gIG9uR2FtZVVwZGF0ZT86ICh1cGRhdGU6IGFueSkgPT4gdm9pZFxuICBvbkdhbWVFbmRlZD86IChyZXN1bHQ6IGFueSkgPT4gdm9pZFxuICBvbkNoYXRNZXNzYWdlPzogKG1lc3NhZ2U6IGFueSkgPT4gdm9pZFxuICBvbkVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gdm9pZFxuXG4gIC8vIEdldHRlciDrqZTshJzrk5zrk6RcbiAgZ2V0UGxheWVySWQoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMucGxheWVySWRcbiAgfVxuXG4gIGdldEN1cnJlbnRSb29tKCk6IEdhbWVSb29tIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFJvb21cbiAgfVxuXG4gIGlzR2FtZUNvbm5lY3RlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc0Nvbm5lY3RlZCAmJiB0aGlzLnNvY2tldCAhPT0gbnVsbFxuICB9XG5cbiAgZ2V0Um9vbUlkKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRSb29tPy5pZCB8fCBudWxsXG4gIH1cblxuICAvLyDsl7DqsrAg7IOB7YOcIO2ZleyduFxuICBhc3luYyBwaW5nKCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgaWYgKCF0aGlzLnNvY2tldCB8fCAhdGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCfsl7DqsrDrkJjsp4Ag7JWK7JWY7Iq164uI64ukJylcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KClcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLnNvY2tldCEuZW1pdCgncGluZycpXG5cbiAgICAgIHRoaXMuc29ja2V0IS5vbmNlKCdwb25nJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBsYXRlbmN5ID0gRGF0ZS5ub3coKSAtIHN0YXJ0XG4gICAgICAgIHJlc29sdmUobGF0ZW5jeSlcbiAgICAgIH0pXG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCftlZEg7Iuc6rCEIOy0iOqzvCcpKVxuICAgICAgfSwgNTAwMClcbiAgICB9KVxuICB9XG5cbiAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zb2NrZXQpIHtcbiAgICAgIHRoaXMuc29ja2V0LmRpc2Nvbm5lY3QoKVxuICAgICAgdGhpcy5zb2NrZXQgPSBudWxsXG4gICAgfVxuXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlXG4gICAgdGhpcy5jdXJyZW50Um9vbSA9IG51bGxcbiAgICB0aGlzLnBsYXllcklkID0gbnVsbFxuICB9XG59Il0sIm5hbWVzIjpbImlvIiwiTmV0d29ya01hbmFnZXIiLCJpbml0aWFsaXplIiwic29ja2V0IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1dTX1VSTCIsInRyYW5zcG9ydHMiLCJ0aW1lb3V0IiwicmVjb25uZWN0aW9uIiwicmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJyZWNvbm5lY3Rpb25EZWxheSIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNldFRpbWVvdXQiLCJFcnJvciIsIm9uIiwiY2xlYXJUaW1lb3V0IiwiaXNDb25uZWN0ZWQiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJtZXNzYWdlIiwicmVxdWVzdFBsYXllcklkIiwicmVhc29uIiwicGxheWVyIiwib25QbGF5ZXJKb2luZWQiLCJwbGF5ZXJJZCIsIm9uUGxheWVyTGVmdCIsImdhbWVEYXRhIiwib25HYW1lU3RhcnRlZCIsInVwZGF0ZSIsIm9uR2FtZVVwZGF0ZSIsInJlc3VsdCIsIm9uR2FtZUVuZGVkIiwib25FcnJvciIsImVtaXQiLCJvbmNlIiwiam9pbkdhbWUiLCJnYW1lVHlwZSIsInJvb21JZCIsInJvb20iLCJjdXJyZW50Um9vbSIsImNyZWF0ZVJvb20iLCJyb29tTmFtZSIsIm1heFBsYXllcnMiLCJpc1ByaXZhdGUiLCJsZWF2ZUdhbWUiLCJpZCIsInNlbmRHYW1lQWN0aW9uIiwiYWN0aW9uIiwiZGF0YSIsIndhcm4iLCJ0eXBlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInNlbmRDaGF0TWVzc2FnZSIsImdldFBsYXllcklkIiwiZ2V0Q3VycmVudFJvb20iLCJpc0dhbWVDb25uZWN0ZWQiLCJnZXRSb29tSWQiLCJwaW5nIiwic3RhcnQiLCJsYXRlbmN5IiwiZGVzdHJveSIsImRpc2Nvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/game-engine/NetworkManager.ts\n");

/***/ }),

/***/ "./src/lib/game-engine/scenes/PhysicsBattleRoyaleScene.ts":
/*!****************************************************************!*\
  !*** ./src/lib/game-engine/scenes/PhysicsBattleRoyaleScene.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PhysicsBattleRoyaleScene: () => (/* binding */ PhysicsBattleRoyaleScene)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n\nclass PhysicsBattleRoyaleScene extends (phaser__WEBPACK_IMPORTED_MODULE_0___default().Scene) {\n    constructor(gameManager){\n        super({\n            key: \"PhysicsBattleRoyaleScene\"\n        });\n        this.players = new Map();\n        this.obstacles = null;\n        this.powerUps = null;\n        this.particles = null;\n        // 게임 상태\n        this.gameStarted = false;\n        this.gameTimer = 0;\n        this.maxGameTime = 300 // 5분\n        ;\n        this.shrinkingZone = null;\n        this.currentZoneRadius = 800;\n        this.maxZoneRadius = 800;\n        this.minZoneRadius = 100;\n        // UI 요소\n        this.scoreText = null;\n        this.timerText = null;\n        this.playerCountText = null;\n        this.miniMap = null;\n        this.gameManager = gameManager;\n    }\n    preload() {\n        // 기본 색상으로 임시 텍스처 생성\n        this.load.image(\"player\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==\");\n        this.load.image(\"obstacle\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==\");\n        this.load.image(\"powerup\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==\");\n        console.log(\"PhysicsBattleRoyaleScene: 에셋 로딩 완료\");\n    }\n    create() {\n        // 월드 경계 설정\n        this.matter.world.setBounds(0, 0, 1600, 1200, 32, true, true, false, true);\n        // 배경 생성\n        this.createBackground();\n        // 장애물 생성\n        this.createObstacles();\n        // 파워업 시스템 생성\n        this.createPowerUpSystem();\n        // UI 생성\n        this.createUI();\n        // 축소 구역 시스템 생성\n        this.createShrinkingZone();\n        // 파티클 시스템 생성\n        this.createParticleSystem();\n        // 입력 처리\n        this.setupInput();\n        // 카메라 설정\n        this.setupCamera();\n        console.log(\"PhysicsBattleRoyaleScene: 씬 생성 완료\");\n    }\n    createBackground() {\n        // 그라데이션 배경\n        const graphics = this.add.graphics();\n        graphics.fillGradientStyle(0x1a1a2e, 0x16213e, 0x0f3460, 0x533483);\n        graphics.fillRect(0, 0, 1600, 1200);\n        // 격자 패턴\n        graphics.lineStyle(1, 0x333366, 0.3);\n        for(let x = 0; x < 1600; x += 50){\n            graphics.moveTo(x, 0);\n            graphics.lineTo(x, 1200);\n        }\n        for(let y = 0; y < 1200; y += 50){\n            graphics.moveTo(0, y);\n            graphics.lineTo(1600, y);\n        }\n        graphics.strokePath();\n    }\n    createObstacles() {\n        this.obstacles = this.add.group();\n        // 다양한 크기와 모양의 장애물 생성\n        const obstacleConfigs = [\n            {\n                x: 200,\n                y: 200,\n                width: 100,\n                height: 20\n            },\n            {\n                x: 400,\n                y: 300,\n                width: 80,\n                height: 80\n            },\n            {\n                x: 600,\n                y: 400,\n                width: 120,\n                height: 30\n            },\n            {\n                x: 800,\n                y: 250,\n                width: 60,\n                height: 60\n            },\n            {\n                x: 1000,\n                y: 350,\n                width: 140,\n                height: 25\n            },\n            {\n                x: 1200,\n                y: 300,\n                width: 90,\n                height: 90\n            },\n            {\n                x: 300,\n                y: 600,\n                width: 100,\n                height: 100\n            },\n            {\n                x: 700,\n                y: 700,\n                width: 80,\n                height: 40\n            },\n            {\n                x: 1100,\n                y: 800,\n                width: 120,\n                height: 20\n            },\n            {\n                x: 500,\n                y: 900,\n                width: 160,\n                height: 30\n            } // 긴 벽\n        ];\n        obstacleConfigs.forEach((config, index)=>{\n            const obstacle = this.matter.add.rectangle(config.x, config.y, config.width, config.height, {\n                isStatic: true,\n                label: `obstacle_${index}`\n            });\n            // 시각적 표현\n            const graphics = this.add.graphics();\n            graphics.fillStyle(0x666699);\n            graphics.fillRoundedRect(config.x - config.width / 2, config.y - config.height / 2, config.width, config.height, 8);\n            graphics.lineStyle(2, 0x9999cc, 1);\n            graphics.strokeRoundedRect(config.x - config.width / 2, config.y - config.height / 2, config.width, config.height, 8);\n            this.obstacles.add(graphics);\n        });\n    }\n    createPowerUpSystem() {\n        this.powerUps = this.add.group();\n        // 파워업 스폰 위치들\n        const spawnPoints = [\n            {\n                x: 300,\n                y: 150\n            },\n            {\n                x: 500,\n                y: 200\n            },\n            {\n                x: 700,\n                y: 180\n            },\n            {\n                x: 900,\n                y: 220\n            },\n            {\n                x: 1100,\n                y: 160\n            },\n            {\n                x: 350,\n                y: 500\n            },\n            {\n                x: 650,\n                y: 550\n            },\n            {\n                x: 950,\n                y: 480\n            },\n            {\n                x: 1250,\n                y: 520\n            }\n        ];\n        // 초기 파워업 생성\n        this.spawnPowerUps(spawnPoints);\n        // 주기적 파워업 스폰\n        this.time.addEvent({\n            delay: 15000,\n            callback: ()=>this.spawnPowerUps(spawnPoints),\n            loop: true\n        });\n    }\n    spawnPowerUps(spawnPoints) {\n        if (!this.powerUps) return;\n        // 기존 파워업 제거\n        this.powerUps.clear(true, true);\n        const powerUpTypes = [\n            \"speed\",\n            \"shield\",\n            \"jump\",\n            \"damage\"\n        ];\n        spawnPoints.forEach((point)=>{\n            if (Math.random() < 0.6) {\n                const type = phaser__WEBPACK_IMPORTED_MODULE_0___default().Utils.Array.GetRandom(powerUpTypes);\n                const powerUp = this.createPowerUp(point.x, point.y, type);\n                this.powerUps.add(powerUp);\n            }\n        });\n    }\n    createPowerUp(x, y, type) {\n        const container = this.add.container(x, y);\n        // 파워업 색상 매핑\n        const colors = {\n            speed: 0x00ff00,\n            shield: 0x0088ff,\n            jump: 0xffaa00,\n            damage: 0xff0066 // 분홍 - 데미지\n        };\n        // 파워업 시각적 효과\n        const glow = this.add.graphics();\n        glow.fillStyle(colors[type], 0.3);\n        glow.fillCircle(0, 0, 25);\n        const core = this.add.graphics();\n        core.fillStyle(colors[type]);\n        core.fillCircle(0, 0, 15);\n        container.add([\n            glow,\n            core\n        ]);\n        // 회전 애니메이션\n        this.tweens.add({\n            targets: container,\n            rotation: Math.PI * 2,\n            duration: 2000,\n            repeat: -1,\n            ease: \"Linear\"\n        });\n        // 맥박 효과\n        this.tweens.add({\n            targets: glow,\n            scaleX: 1.2,\n            scaleY: 1.2,\n            duration: 1000,\n            yoyo: true,\n            repeat: -1,\n            ease: \"Sine.easeInOut\"\n        })(container).powerUpType = type;\n        return container;\n    }\n    createShrinkingZone() {\n        this.shrinkingZone = this.add.graphics();\n        this.updateShrinkingZone();\n        // 5초 후부터 축소 시작, 30초마다 축소\n        this.time.delayedCall(5000, ()=>{\n            this.time.addEvent({\n                delay: 30000,\n                callback: ()=>this.shrinkZone(),\n                repeat: 8 // 최대 8번 축소\n            });\n        });\n    }\n    updateShrinkingZone() {\n        if (!this.shrinkingZone) return;\n        this.shrinkingZone.clear();\n        // 안전 구역 (초록)\n        this.shrinkingZone.fillStyle(0x00ff00, 0.1);\n        this.shrinkingZone.fillCircle(800, 600, this.currentZoneRadius);\n        // 경고 구역 경계선 (빨강)\n        this.shrinkingZone.lineStyle(4, 0xff0000, 0.8);\n        this.shrinkingZone.strokeCircle(800, 600, this.currentZoneRadius);\n    }\n    shrinkZone() {\n        if (this.currentZoneRadius <= this.minZoneRadius) return;\n        const newRadius = Math.max(this.minZoneRadius, this.currentZoneRadius - (this.maxZoneRadius - this.minZoneRadius) / 8);\n        // 축소 애니메이션\n        this.tweens.add({\n            targets: this,\n            currentZoneRadius: newRadius,\n            duration: 5000,\n            ease: \"Power2.easeInOut\",\n            onUpdate: ()=>{\n                this.updateShrinkingZone();\n                this.checkPlayersInZone();\n            }\n        });\n        // 축소 경고 표시\n        this.showZoneShrinkWarning();\n    }\n    checkPlayersInZone() {\n        this.players.forEach((playerObj, playerId)=>{\n            const distance = phaser__WEBPACK_IMPORTED_MODULE_0___default().Math.Distance.Between(playerObj.x, playerObj.y, 800, 600);\n            if (distance > this.currentZoneRadius) {\n                // 구역 밖 플레이어에게 데미지\n                this.dealZoneDamage(playerId, playerObj);\n            }\n        });\n    }\n    dealZoneDamage(playerId, playerObj) {\n        // 데미지 이펙트\n        if (this.particles) {\n            this.particles.emitParticleAt(playerObj.x, playerObj.y, 10);\n        }\n        // 플레이어 체력 감소 (실제 구현 시 플레이어 상태에 따라)\n        console.log(`플레이어 ${playerId}가 구역 밖에서 데미지를 받았습니다`);\n    }\n    showZoneShrinkWarning() {\n        const warningText = this.add.text(800, 100, \"⚠️ 구역이 축소됩니다!\", {\n            fontSize: \"32px\",\n            color: \"#ff0000\",\n            fontStyle: \"bold\"\n        }).setOrigin(0.5);\n        // 깜빡임 효과\n        this.tweens.add({\n            targets: warningText,\n            alpha: 0,\n            duration: 500,\n            yoyo: true,\n            repeat: 5,\n            onComplete: ()=>warningText.destroy()\n        });\n    }\n    createParticleSystem() {\n        // 환경 파티클 (먼지, 스파크 등)\n        this.particles = this.add.particles(0, 0, \"player\", {\n            scale: {\n                start: 0.3,\n                end: 0\n            },\n            speed: {\n                min: 50,\n                max: 100\n            },\n            alpha: {\n                start: 0.8,\n                end: 0\n            },\n            lifespan: 1000,\n            tint: 0xff6600\n        });\n    }\n    createUI() {\n        // 점수 표시\n        this.scoreText = this.add.text(20, 20, \"Score: 0\", {\n            fontSize: \"24px\",\n            color: \"#ffffff\",\n            fontFamily: \"Arial\",\n            backgroundColor: \"rgba(0,0,0,0.5)\",\n            padding: {\n                x: 10,\n                y: 5\n            }\n        });\n        // 타이머 표시\n        this.timerText = this.add.text(20, 60, \"Time: 5:00\", {\n            fontSize: \"20px\",\n            color: \"#ffff00\",\n            fontFamily: \"Arial\",\n            backgroundColor: \"rgba(0,0,0,0.5)\",\n            padding: {\n                x: 10,\n                y: 5\n            }\n        });\n        // 플레이어 수 표시\n        this.playerCountText = this.add.text(20, 100, \"Players: 1/20\", {\n            fontSize: \"18px\",\n            color: \"#00ff00\",\n            fontFamily: \"Arial\",\n            backgroundColor: \"rgba(0,0,0,0.5)\",\n            padding: {\n                x: 10,\n                y: 5\n            }\n        });\n        // 미니맵\n        this.createMiniMap();\n    }\n    createMiniMap() {\n        const mapSize = 150;\n        const mapX = this.cameras.main.width - mapSize - 20;\n        const mapY = 20;\n        // 미니맵 배경\n        this.miniMap = this.add.graphics();\n        this.miniMap.fillStyle(0x000000, 0.5);\n        this.miniMap.fillRoundedRect(mapX, mapY, mapSize, mapSize, 8);\n        this.miniMap.lineStyle(2, 0xffffff, 0.8);\n        this.miniMap.strokeRoundedRect(mapX, mapY, mapSize, mapSize, 8);\n        // 미니맵 업데이트를 위한 컨테이너\n        this.miniMap.setScrollFactor(0) // UI 고정\n        ;\n    }\n    setupInput() {\n        const inputManager = this.gameManager.getInputManager();\n        // 움직임 입력 처리\n        inputManager.on(\"move_up\", (data)=>{\n            if (data.pressed) this.handlePlayerMove(\"up\");\n        });\n        inputManager.on(\"move_down\", (data)=>{\n            if (data.pressed) this.handlePlayerMove(\"down\");\n        });\n        inputManager.on(\"move_left\", (data)=>{\n            if (data.pressed) this.handlePlayerMove(\"left\");\n        });\n        inputManager.on(\"move_right\", (data)=>{\n            if (data.pressed) this.handlePlayerMove(\"right\");\n        });\n        // 액션 입력 처리\n        inputManager.on(\"action_primary\", (data)=>{\n            if (data.pressed) this.handlePlayerAction(\"primary\");\n        });\n    }\n    handlePlayerMove(direction) {\n        // 로컬 플레이어 이동 처리\n        const networkManager = this.gameManager.getNetworkManager();\n        if (networkManager.isGameConnected()) {\n            networkManager.sendGameAction(\"move\", {\n                direction\n            });\n        } else {\n            // 싱글플레이어 모드\n            this.moveLocalPlayer(direction);\n        }\n    }\n    handlePlayerAction(action) {\n        console.log(`플레이어 액션: ${action}`);\n        const networkManager = this.gameManager.getNetworkManager();\n        if (networkManager.isGameConnected()) {\n            networkManager.sendGameAction(\"action\", {\n                action\n            });\n        }\n    }\n    moveLocalPlayer(direction) {\n        // 로컬 플레이어 이동 로직 (데모용)\n        console.log(`로컬 플레이어 이동: ${direction}`);\n    }\n    setupCamera() {\n        // 카메라 스무스 팔로우 설정\n        this.cameras.main.setLerp(0.05, 0.05);\n        this.cameras.main.setZoom(1);\n    }\n    // 외부에서 호출되는 메서드들\n    startGame() {\n        this.gameStarted = true;\n        console.log(\"PhysicsBattleRoyale 게임 시작!\");\n        // 게임 시작 사운드\n        this.gameManager.getAudioManager().playSound(\"game_start\");\n        // 타이머 시작\n        this.time.addEvent({\n            delay: 1000,\n            callback: ()=>{\n                this.gameTimer++;\n                this.updateTimer();\n            },\n            loop: true\n        });\n    }\n    onNetworkMessage(message) {\n        switch(message.data.action){\n            case \"move\":\n                this.handleNetworkPlayerMove(message.playerId, message.data.direction);\n                break;\n            case \"action\":\n                this.handleNetworkPlayerAction(message.playerId, message.data.action);\n                break;\n            default:\n                console.log(\"알 수 없는 네트워크 메시지:\", message);\n        }\n    }\n    handleNetworkPlayerMove(playerId, direction) {\n        console.log(`네트워크 플레이어 ${playerId} 이동: ${direction}`);\n    // 실제 플레이어 오브젝트 이동 로직\n    }\n    handleNetworkPlayerAction(playerId, action) {\n        console.log(`네트워크 플레이어 ${playerId} 액션: ${action}`);\n    }\n    updateTimer() {\n        if (!this.timerText) return;\n        const minutes = Math.floor((this.maxGameTime - this.gameTimer) / 60);\n        const seconds = (this.maxGameTime - this.gameTimer) % 60;\n        this.timerText.setText(`Time: ${minutes}:${seconds.toString().padStart(2, \"0\")}`);\n        if (this.gameTimer >= this.maxGameTime) {\n            this.endGame();\n        }\n    }\n    endGame() {\n        this.gameStarted = false;\n        console.log(\"게임 종료!\");\n        // 게임 종료 처리\n        this.gameManager.endGame(100) // 임시 점수\n        ;\n    }\n    update(time, delta) {\n        if (!this.gameStarted) return;\n        // 게임 로직 업데이트\n        this.updateMiniMap();\n    }\n    updateMiniMap() {\n        if (!this.miniMap) return;\n    // 미니맵 갱신 로직\n    // 플레이어 위치, 구역 상태 등을 미니맵에 표시\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2dhbWUtZW5naW5lL3NjZW5lcy9QaHlzaWNzQmF0dGxlUm95YWxlU2NlbmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBSXBCLE1BQU1DLGlDQUFpQ0QscURBQVk7SUFzQnhERyxZQUFZQyxXQUE4QixDQUFFO1FBQzFDLEtBQUssQ0FBQztZQUFFQyxLQUFLO1FBQTJCO2FBckJsQ0MsVUFBc0QsSUFBSUM7YUFDMURDLFlBQTZDO2FBQzdDQyxXQUE0QzthQUM1Q0MsWUFBaUU7UUFFekUsUUFBUTthQUNBQyxjQUFjO2FBQ2RDLFlBQVk7YUFDWkMsY0FBYyxJQUFJLEtBQUs7O2FBQ3ZCQyxnQkFBb0Q7YUFDcERDLG9CQUFvQjthQUNwQkMsZ0JBQWdCO2FBQ2hCQyxnQkFBZ0I7UUFFeEIsUUFBUTthQUNBQyxZQUE0QzthQUM1Q0MsWUFBNEM7YUFDNUNDLGtCQUFrRDthQUNsREMsVUFBOEM7UUFJcEQsSUFBSSxDQUFDakIsV0FBVyxHQUFHQTtJQUNyQjtJQUVBa0IsVUFBZ0I7UUFDZCxvQkFBb0I7UUFDcEIsSUFBSSxDQUFDQyxJQUFJLENBQUNDLEtBQUssQ0FBQyxVQUFVO1FBQzFCLElBQUksQ0FBQ0QsSUFBSSxDQUFDQyxLQUFLLENBQUMsWUFBWTtRQUM1QixJQUFJLENBQUNELElBQUksQ0FBQ0MsS0FBSyxDQUFDLFdBQVc7UUFFM0JDLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0lBRUFDLFNBQWU7UUFDYixXQUFXO1FBQ1gsSUFBSSxDQUFDQyxNQUFNLENBQUNDLEtBQUssQ0FBQ0MsU0FBUyxDQUFDLEdBQUcsR0FBRyxNQUFNLE1BQU0sSUFBSSxNQUFNLE1BQU0sT0FBTztRQUVyRSxRQUFRO1FBQ1IsSUFBSSxDQUFDQyxnQkFBZ0I7UUFFckIsU0FBUztRQUNULElBQUksQ0FBQ0MsZUFBZTtRQUVwQixhQUFhO1FBQ2IsSUFBSSxDQUFDQyxtQkFBbUI7UUFFeEIsUUFBUTtRQUNSLElBQUksQ0FBQ0MsUUFBUTtRQUViLGVBQWU7UUFDZixJQUFJLENB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SUFBSSxDQUFDMUosV0FBVyxHQUFHLElBQUksQ0FBQ0QsU0FBUyxJQUFJO1FBQ2pFLE1BQU00SixVQUFVLENBQUMsSUFBSSxDQUFDM0osV0FBVyxHQUFHLElBQUksQ0FBQ0QsU0FBUyxJQUFJO1FBRXRELElBQUksQ0FBQ08sU0FBUyxDQUFDc0osT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFSCxRQUFRLENBQUMsRUFBRUUsUUFBUUUsUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRyxLQUFLLENBQUM7UUFFaEYsSUFBSSxJQUFJLENBQUMvSixTQUFTLElBQUksSUFBSSxDQUFDQyxXQUFXLEVBQUU7WUFDdEMsSUFBSSxDQUFDK0osT0FBTztRQUNkO0lBQ0Y7SUFFUUEsVUFBZ0I7UUFDdEIsSUFBSSxDQUFDakssV0FBVyxHQUFHO1FBQ25CYyxRQUFRQyxHQUFHLENBQUM7UUFFWixXQUFXO1FBQ1gsSUFBSSxDQUFDdEIsV0FBVyxDQUFDd0ssT0FBTyxDQUFDLEtBQUssUUFBUTs7SUFDeEM7SUFFQUMsT0FBTzVHLElBQVksRUFBRTZHLEtBQWEsRUFBUTtRQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDbkssV0FBVyxFQUFFO1FBRXZCLGFBQWE7UUFDYixJQUFJLENBQUNvSyxhQUFhO0lBQ3BCO0lBRVFBLGdCQUFzQjtRQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDMUosT0FBTyxFQUFFO0lBRW5CLFlBQVk7SUFDWiw0QkFBNEI7SUFDOUI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BpdHR1cnUtcHBhdHVydS1mcm9udGVuZC8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvc2NlbmVzL1BoeXNpY3NCYXR0bGVSb3lhbGVTY2VuZS50cz8zNjA1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJ1xuaW1wb3J0IHsgR2FtZUVuZ2luZU1hbmFnZXIgfSBmcm9tICcuLi9HYW1lRW5naW5lTWFuYWdlcidcbmltcG9ydCB7IEdhbWVQbGF5ZXIsIE5ldHdvcmtNZXNzYWdlIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmV4cG9ydCBjbGFzcyBQaHlzaWNzQmF0dGxlUm95YWxlU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICBwcml2YXRlIGdhbWVNYW5hZ2VyOiBHYW1lRW5naW5lTWFuYWdlclxuICBwcml2YXRlIHBsYXllcnM6IE1hcDxzdHJpbmcsIFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0PiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIG9ic3RhY2xlczogUGhhc2VyLkdhbWVPYmplY3RzLkdyb3VwIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBwb3dlclVwczogUGhhc2VyLkdhbWVPYmplY3RzLkdyb3VwIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBwYXJ0aWNsZXM6IFBoYXNlci5HYW1lT2JqZWN0cy5QYXJ0aWNsZXMuUGFydGljbGVFbWl0dGVyIHwgbnVsbCA9IG51bGxcblxuICAvLyDqsozsnoQg7IOB7YOcXG4gIHByaXZhdGUgZ2FtZVN0YXJ0ZWQgPSBmYWxzZVxuICBwcml2YXRlIGdhbWVUaW1lciA9IDBcbiAgcHJpdmF0ZSBtYXhHYW1lVGltZSA9IDMwMCAvLyA167aEXG4gIHByaXZhdGUgc2hyaW5raW5nWm9uZTogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBjdXJyZW50Wm9uZVJhZGl1cyA9IDgwMFxuICBwcml2YXRlIG1heFpvbmVSYWRpdXMgPSA4MDBcbiAgcHJpdmF0ZSBtaW5ab25lUmFkaXVzID0gMTAwXG5cbiAgLy8gVUkg7JqU7IaMXG4gIHByaXZhdGUgc2NvcmVUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dCB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgdGltZXJUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dCB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgcGxheWVyQ291bnRUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dCB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgbWluaU1hcDogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzIHwgbnVsbCA9IG51bGxcblxuICBjb25zdHJ1Y3RvcihnYW1lTWFuYWdlcjogR2FtZUVuZ2luZU1hbmFnZXIpIHtcbiAgICBzdXBlcih7IGtleTogJ1BoeXNpY3NCYXR0bGVSb3lhbGVTY2VuZScgfSlcbiAgICB0aGlzLmdhbWVNYW5hZ2VyID0gZ2FtZU1hbmFnZXJcbiAgfVxuXG4gIHByZWxvYWQoKTogdm9pZCB7XG4gICAgLy8g6riw67O4IOyDieyDgeycvOuhnCDsnoTsi5wg7YWN7Iqk7LKYIOyDneyEsVxuICAgIHRoaXMubG9hZC5pbWFnZSgncGxheWVyJywgJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFEVWxFUVZSNDJtTmtZUGhmRHdBQ2h3R0E2MGU2a2dBQUFBQkpSVTVFcmtKZ2dnPT0nKVxuICAgIHRoaXMubG9hZC5pbWFnZSgnb2JzdGFjbGUnLCAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQURVbEVRVlI0Mm1Oa1lQaGZEd0FDaHdHQTYwZTZrZ0FBQUFCSlJVNUVya0pnZ2c9PScpXG4gICAgdGhpcy5sb2FkLmltYWdlKCdwb3dlcnVwJywgJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFEVWxFUVZSNDJtTmtZUGhmRHdBQ2h3R0E2MGU2a2dBQUFBQkpSVTVFcmtKZ2dnPT0nKVxuXG4gICAgY29uc29sZS5sb2coJ1BoeXNpY3NCYXR0bGVSb3lhbGVTY2VuZTog7JeQ7IWLIOuhnOuUqSDsmYTro4wnKVxuICB9XG5cbiAgY3JlYXRlKCk6IHZvaWQge1xuICAgIC8vIOyblOuTnCDqsr3qs4Qg7ISk7KCVXG4gICAgdGhpcy5tYXR0ZXIud29ybGQuc2V0Qm91bmRzKDAsIDAsIDE2MDAsIDEyMDAsIDMyLCB0cnVlLCB0cnVlLCBmYWxzZSwgdHJ1ZSlcblxuICAgIC8vIOuwsOqyvSDsg53shLFcbiAgICB0aGlzLmNyZWF0ZUJhY2tncm91bmQoKVxuXG4gICAgLy8g7J6l7JWg66y8IOyDneyEsVxuICAgIHRoaXMuY3JlYXRlT2JzdGFjbGVzKClcblxuICAgIC8vIO2MjOybjOyXhSDsi5zsiqTthZwg7IOd7ISxXG4gICAgdGhpcy5jcmVhdGVQb3dlclVwU3lzdGVtKClcblxuICAgIC8vIFVJIOyDneyEsVxuICAgIHRoaXMuY3JlYXRlVUkoKVxuXG4gICAgLy8g7LaV7IaMIOq1rOyXrSDsi5zsiqTthZwg7IOd7ISxXG4gICAgdGhpcy5jcmVhdGVTaHJpbmtpbmdab25lKClcblxuICAgIC8vIO2MjO2LsO2BtCDsi5zsiqTthZwg7IOd7ISxXG4gICAgdGhpcy5jcmVhdGVQYXJ0aWNsZVN5c3RlbSgpXG5cbiAgICAvLyDsnoXroKUg7LKY66asXG4gICAgdGhpcy5zZXR1cElucHV0KClcblxuICAgIC8vIOy5tOuplOudvCDshKTsoJVcbiAgICB0aGlzLnNldHVwQ2FtZXJhKClcblxuICAgIGNvbnNvbGUubG9nKCdQaHlzaWNzQmF0dGxlUm95YWxlU2NlbmU6IOyUrCDsg53shLEg7JmE66OMJylcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQmFja2dyb3VuZCgpOiB2b2lkIHtcbiAgICAvLyDqt7jrnbzrjbDsnbTshZgg67Cw6rK9XG4gICAgY29uc3QgZ3JhcGhpY3MgPSB0aGlzLmFkZC5ncmFwaGljcygpXG4gICAgZ3JhcGhpY3MuZmlsbEdyYWRpZW50U3R5bGUoMHgxYTFhMmUsIDB4MTYyMTNlLCAweDBmMzQ2MCwgMHg1MzM0ODMpXG4gICAgZ3JhcGhpY3MuZmlsbFJlY3QoMCwgMCwgMTYwMCwgMTIwMClcblxuICAgIC8vIOqyqeyekCDtjKjthLRcbiAgICBncmFwaGljcy5saW5lU3R5bGUoMSwgMHgzMzMzNjYsIDAuMylcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDE2MDA7IHggKz0gNTApIHtcbiAgICAgIGdyYXBoaWNzLm1vdmVUbyh4LCAwKVxuICAgICAgZ3JhcGhpY3MubGluZVRvKHgsIDEyMDApXG4gICAgfVxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgMTIwMDsgeSArPSA1MCkge1xuICAgICAgZ3JhcGhpY3MubW92ZVRvKDAsIHkpXG4gICAgICBncmFwaGljcy5saW5lVG8oMTYwMCwgeSlcbiAgICB9XG4gICAgZ3JhcGhpY3Muc3Ryb2tlUGF0aCgpXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU9ic3RhY2xlcygpOiB2b2lkIHtcbiAgICB0aGlzLm9ic3RhY2xlcyA9IHRoaXMuYWRkLmdyb3VwKClcblxuICAgIC8vIOuLpOyWke2VnCDtgazquLDsmYAg66qo7JaR7J2YIOyepeyVoOusvCDsg53shLFcbiAgICBjb25zdCBvYnN0YWNsZUNvbmZpZ3MgPSBbXG4gICAgICB7IHg6IDIwMCwgeTogMjAwLCB3aWR0aDogMTAwLCBoZWlnaHQ6IDIwIH0sIC8vIO2UjOueq+2PvFxuICAgICAgeyB4OiA0MDAsIHk6IDMwMCwgd2lkdGg6IDgwLCBoZWlnaHQ6IDgwIH0sIC8vIOygleyCrOqwge2YlSDruJTroZ1cbiAgICAgIHsgeDogNjAwLCB5OiA0MDAsIHdpZHRoOiAxMjAsIGhlaWdodDogMzAgfSwgLy8g6ri0IO2UjOueq+2PvFxuICAgICAgeyB4OiA4MDAsIHk6IDI1MCwgd2lkdGg6IDYwLCBoZWlnaHQ6IDYwIH0sIC8vIOyekeydgCDruJTroZ1cbiAgICAgIHsgeDogMTAwMCwgeTogMzUwLCB3aWR0aDogMTQwLCBoZWlnaHQ6IDI1IH0sIC8vIOygkO2UhOuMgFxuICAgICAgeyB4OiAxMjAwLCB5OiAzMDAsIHdpZHRoOiA5MCwgaGVpZ2h0OiA5MCB9LCAvLyDtgbAg67iU66GdXG4gICAgICB7IHg6IDMwMCwgeTogNjAwLCB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCB9LCAvLyDspJHslZkg7J6l7JWg66y8XG4gICAgICB7IHg6IDcwMCwgeTogNzAwLCB3aWR0aDogODAsIGhlaWdodDogNDAgfSwgLy8g7JeE7Y+Q66y8XG4gICAgICB7IHg6IDExMDAsIHk6IDgwMCwgd2lkdGg6IDEyMCwgaGVpZ2h0OiAyMCB9LCAvLyDri6TrpqxcbiAgICAgIHsgeDogNTAwLCB5OiA5MDAsIHdpZHRoOiAxNjAsIGhlaWdodDogMzAgfSAvLyDquLQg67K9XG4gICAgXVxuXG4gICAgb2JzdGFjbGVDb25maWdzLmZvckVhY2goKGNvbmZpZywgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IG9ic3RhY2xlID0gdGhpcy5tYXR0ZXIuYWRkLnJlY3RhbmdsZShcbiAgICAgICAgY29uZmlnLngsIGNvbmZpZy55LCBjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQsXG4gICAgICAgIHsgaXNTdGF0aWM6IHRydWUsIGxhYmVsOiBgb2JzdGFjbGVfJHtpbmRleH1gIH1cbiAgICAgIClcblxuICAgICAgLy8g7Iuc6rCB7KCBIO2RnO2YhFxuICAgICAgY29uc3QgZ3JhcGhpY3MgPSB0aGlzLmFkZC5ncmFwaGljcygpXG4gICAgICBncmFwaGljcy5maWxsU3R5bGUoMHg2NjY2OTkpXG4gICAgICBncmFwaGljcy5maWxsUm91bmRlZFJlY3QoXG4gICAgICAgIGNvbmZpZy54IC0gY29uZmlnLndpZHRoIC8gMixcbiAgICAgICAgY29uZmlnLnkgLSBjb25maWcuaGVpZ2h0IC8gMixcbiAgICAgICAgY29uZmlnLndpZHRoLCBjb25maWcuaGVpZ2h0LCA4XG4gICAgICApXG4gICAgICBncmFwaGljcy5saW5lU3R5bGUoMiwgMHg5OTk5Y2MsIDEpXG4gICAgICBncmFwaGljcy5zdHJva2VSb3VuZGVkUmVjdChcbiAgICAgICAgY29uZmlnLnggLSBjb25maWcud2lkdGggLyAyLFxuICAgICAgICBjb25maWcueSAtIGNvbmZpZy5oZWlnaHQgLyAyLFxuICAgICAgICBjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQsIDhcbiAgICAgIClcblxuICAgICAgdGhpcy5vYnN0YWNsZXMhLmFkZChncmFwaGljcylcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVQb3dlclVwU3lzdGVtKCk6IHZvaWQge1xuICAgIHRoaXMucG93ZXJVcHMgPSB0aGlzLmFkZC5ncm91cCgpXG5cbiAgICAvLyDtjIzsm4zsl4Ug7Iqk7Y+wIOychOy5mOuTpFxuICAgIGNvbnN0IHNwYXduUG9pbnRzID0gW1xuICAgICAgeyB4OiAzMDAsIHk6IDE1MCB9LCB7IHg6IDUwMCwgeTogMjAwIH0sIHsgeDogNzAwLCB5OiAxODAgfSxcbiAgICAgIHsgeDogOTAwLCB5OiAyMjAgfSwgeyB4OiAxMTAwLCB5OiAxNjAgfSwgeyB4OiAzNTAsIHk6IDUwMCB9LFxuICAgICAgeyB4OiA2NTAsIHk6IDU1MCB9LCB7IHg6IDk1MCwgeTogNDgwIH0sIHsgeDogMTI1MCwgeTogNTIwIH1cbiAgICBdXG5cbiAgICAvLyDstIjquLAg7YyM7JuM7JeFIOyDneyEsVxuICAgIHRoaXMuc3Bhd25Qb3dlclVwcyhzcGF3blBvaW50cylcblxuICAgIC8vIOyjvOq4sOyggSDtjIzsm4zsl4Ug7Iqk7Y+wXG4gICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcbiAgICAgIGRlbGF5OiAxNTAwMCwgLy8gMTXstIjrp4jri6RcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnNwYXduUG93ZXJVcHMoc3Bhd25Qb2ludHMpLFxuICAgICAgbG9vcDogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHNwYXduUG93ZXJVcHMoc3Bhd25Qb2ludHM6IEFycmF5PHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfT4pOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMucG93ZXJVcHMpIHJldHVyblxuXG4gICAgLy8g6riw7KG0IO2MjOybjOyXhSDsoJzqsbBcbiAgICB0aGlzLnBvd2VyVXBzLmNsZWFyKHRydWUsIHRydWUpXG5cbiAgICBjb25zdCBwb3dlclVwVHlwZXMgPSBbJ3NwZWVkJywgJ3NoaWVsZCcsICdqdW1wJywgJ2RhbWFnZSddXG5cbiAgICBzcGF3blBvaW50cy5mb3JFYWNoKHBvaW50ID0+IHtcbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC42KSB7IC8vIDYwJSDtmZXrpaDroZwg7Iqk7Y+wXG4gICAgICAgIGNvbnN0IHR5cGUgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKHBvd2VyVXBUeXBlcylcbiAgICAgICAgY29uc3QgcG93ZXJVcCA9IHRoaXMuY3JlYXRlUG93ZXJVcChwb2ludC54LCBwb2ludC55LCB0eXBlKVxuICAgICAgICB0aGlzLnBvd2VyVXBzIS5hZGQocG93ZXJVcClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVQb3dlclVwKHg6IG51bWJlciwgeTogbnVtYmVyLCB0eXBlOiBzdHJpbmcpOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIoeCwgeSlcblxuICAgIC8vIO2MjOybjOyXhSDsg4nsg4Eg66ek7ZWRXG4gICAgY29uc3QgY29sb3JzID0ge1xuICAgICAgc3BlZWQ6IDB4MDBmZjAwLCAgIC8vIOy0iOuhnSAtIOyKpO2UvOuTnFxuICAgICAgc2hpZWxkOiAweDAwODhmZiwgIC8vIO2MjOuekSAtIOuztO2YuOuniVxuICAgICAganVtcDogMHhmZmFhMDAsICAgIC8vIOyjvO2ZqSAtIOygkO2UhFxuICAgICAgZGFtYWdlOiAweGZmMDA2NiAgIC8vIOu2hO2ZjSAtIOuNsOuvuOyngFxuICAgIH1cblxuICAgIC8vIO2MjOybjOyXhSDsi5zqsIHsoIEg7Zqo6rO8XG4gICAgY29uc3QgZ2xvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKClcbiAgICBnbG93LmZpbGxTdHlsZShjb2xvcnNbdHlwZSBhcyBrZXlvZiB0eXBlb2YgY29sb3JzXSwgMC4zKVxuICAgIGdsb3cuZmlsbENpcmNsZSgwLCAwLCAyNSlcblxuICAgIGNvbnN0IGNvcmUgPSB0aGlzLmFkZC5ncmFwaGljcygpXG4gICAgY29yZS5maWxsU3R5bGUoY29sb3JzW3R5cGUgYXMga2V5b2YgdHlwZW9mIGNvbG9yc10pXG4gICAgY29yZS5maWxsQ2lyY2xlKDAsIDAsIDE1KVxuXG4gICAgY29udGFpbmVyLmFkZChbZ2xvdywgY29yZV0pXG5cbiAgICAvLyDtmozsoIQg7JWg64uI66mU7J207IWYXG4gICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgIHRhcmdldHM6IGNvbnRhaW5lcixcbiAgICAgIHJvdGF0aW9uOiBNYXRoLlBJICogMixcbiAgICAgIGR1cmF0aW9uOiAyMDAwLFxuICAgICAgcmVwZWF0OiAtMSxcbiAgICAgIGVhc2U6ICdMaW5lYXInXG4gICAgfSlcblxuICAgIC8vIOunpeuwlSDtmqjqs7xcbiAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgdGFyZ2V0czogZ2xvdyxcbiAgICAgIHNjYWxlWDogMS4yLFxuICAgICAgc2NhbGVZOiAxLjIsXG4gICAgICBkdXJhdGlvbjogMTAwMCxcbiAgICAgIHlveW86IHRydWUsXG4gICAgICByZXBlYXQ6IC0xLFxuICAgICAgZWFzZTogJ1NpbmUuZWFzZUluT3V0J1xuICAgIH0pXG5cbiAgICAvLyDrqZTtg4DrjbDsnbTthLAg7KCA7J6lXG4gICAgKGNvbnRhaW5lciBhcyBhbnkpLnBvd2VyVXBUeXBlID0gdHlwZVxuXG4gICAgcmV0dXJuIGNvbnRhaW5lclxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVTaHJpbmtpbmdab25lKCk6IHZvaWQge1xuICAgIHRoaXMuc2hyaW5raW5nWm9uZSA9IHRoaXMuYWRkLmdyYXBoaWNzKClcbiAgICB0aGlzLnVwZGF0ZVNocmlua2luZ1pvbmUoKVxuXG4gICAgLy8gNey0iCDtm4TrtoDthLAg7LaV7IaMIOyLnOyekSwgMzDstIjrp4jri6Qg7LaV7IaMXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMDAsICgpID0+IHtcbiAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICAgIGRlbGF5OiAzMDAwMCwgLy8gMzDstIjrp4jri6RcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuc2hyaW5rWm9uZSgpLFxuICAgICAgICByZXBlYXQ6IDggLy8g7LWc64yAIDjrsogg7LaV7IaMXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVNocmlua2luZ1pvbmUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnNocmlua2luZ1pvbmUpIHJldHVyblxuXG4gICAgdGhpcy5zaHJpbmtpbmdab25lLmNsZWFyKClcblxuICAgIC8vIOyViOyghCDqtazsl60gKOy0iOuhnSlcbiAgICB0aGlzLnNocmlua2luZ1pvbmUuZmlsbFN0eWxlKDB4MDBmZjAwLCAwLjEpXG4gICAgdGhpcy5zaHJpbmtpbmdab25lLmZpbGxDaXJjbGUoODAwLCA2MDAsIHRoaXMuY3VycmVudFpvbmVSYWRpdXMpXG5cbiAgICAvLyDqsr3qs6Ag6rWs7JetIOqyveqzhOyEoCAo67mo6rCVKVxuICAgIHRoaXMuc2hyaW5raW5nWm9uZS5saW5lU3R5bGUoNCwgMHhmZjAwMDAsIDAuOClcbiAgICB0aGlzLnNocmlua2luZ1pvbmUuc3Ryb2tlQ2lyY2xlKDgwMCwgNjAwLCB0aGlzLmN1cnJlbnRab25lUmFkaXVzKVxuICB9XG5cbiAgcHJpdmF0ZSBzaHJpbmtab25lKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmN1cnJlbnRab25lUmFkaXVzIDw9IHRoaXMubWluWm9uZVJhZGl1cykgcmV0dXJuXG5cbiAgICBjb25zdCBuZXdSYWRpdXMgPSBNYXRoLm1heChcbiAgICAgIHRoaXMubWluWm9uZVJhZGl1cyxcbiAgICAgIHRoaXMuY3VycmVudFpvbmVSYWRpdXMgLSAodGhpcy5tYXhab25lUmFkaXVzIC0gdGhpcy5taW5ab25lUmFkaXVzKSAvIDhcbiAgICApXG5cbiAgICAvLyDstpXshowg7JWg64uI66mU7J207IWYXG4gICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgIHRhcmdldHM6IHRoaXMsXG4gICAgICBjdXJyZW50Wm9uZVJhZGl1czogbmV3UmFkaXVzLFxuICAgICAgZHVyYXRpb246IDUwMDAsXG4gICAgICBlYXNlOiAnUG93ZXIyLmVhc2VJbk91dCcsXG4gICAgICBvblVwZGF0ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVNocmlua2luZ1pvbmUoKVxuICAgICAgICB0aGlzLmNoZWNrUGxheWVyc0luWm9uZSgpXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIOy2leyGjCDqsr3qs6Ag7ZGc7IucXG4gICAgdGhpcy5zaG93Wm9uZVNocmlua1dhcm5pbmcoKVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1BsYXllcnNJblpvbmUoKTogdm9pZCB7XG4gICAgdGhpcy5wbGF5ZXJzLmZvckVhY2goKHBsYXllck9iaiwgcGxheWVySWQpID0+IHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gUGhhc2VyLk1hdGguRGlzdGFuY2UuQmV0d2VlbihcbiAgICAgICAgKHBsYXllck9iaiBhcyBhbnkpLngsIChwbGF5ZXJPYmogYXMgYW55KS55LCA4MDAsIDYwMFxuICAgICAgKVxuXG4gICAgICBpZiAoZGlzdGFuY2UgPiB0aGlzLmN1cnJlbnRab25lUmFkaXVzKSB7XG4gICAgICAgIC8vIOq1rOyXrSDrsJYg7ZSM66CI7J207Ja07JeQ6rKMIOuNsOuvuOyngFxuICAgICAgICB0aGlzLmRlYWxab25lRGFtYWdlKHBsYXllcklkLCBwbGF5ZXJPYmopXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgZGVhbFpvbmVEYW1hZ2UocGxheWVySWQ6IHN0cmluZywgcGxheWVyT2JqOiBQaGFzZXIuR2FtZU9iamVjdHMuR2FtZU9iamVjdCk6IHZvaWQge1xuICAgIC8vIOuNsOuvuOyngCDsnbTtjpntirhcbiAgICBpZiAodGhpcy5wYXJ0aWNsZXMpIHtcbiAgICAgIHRoaXMucGFydGljbGVzLmVtaXRQYXJ0aWNsZUF0KChwbGF5ZXJPYmogYXMgYW55KS54LCAocGxheWVyT2JqIGFzIGFueSkueSwgMTApXG4gICAgfVxuXG4gICAgLy8g7ZSM66CI7J207Ja0IOyytOugpSDqsJDshowgKOyLpOygnCDqtaztmIQg7IucIO2UjOugiOydtOyWtCDsg4Htg5zsl5Ag65Sw6528KVxuICAgIGNvbnNvbGUubG9nKGDtlIzroIjsnbTslrQgJHtwbGF5ZXJJZH3qsIAg6rWs7JetIOuwluyXkOyEnCDrjbDrr7jsp4Drpbwg67Cb7JWY7Iq164uI64ukYClcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1pvbmVTaHJpbmtXYXJuaW5nKCk6IHZvaWQge1xuICAgIGNvbnN0IHdhcm5pbmdUZXh0ID0gdGhpcy5hZGQudGV4dCg4MDAsIDEwMCwgJ+KaoO+4jyDqtazsl63snbQg7LaV7IaM65Cp64uI64ukIScsIHtcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXG4gICAgICBjb2xvcjogJyNmZjAwMDAnLFxuICAgICAgZm9udFN0eWxlOiAnYm9sZCdcbiAgICB9KS5zZXRPcmlnaW4oMC41KVxuXG4gICAgLy8g6rmc67mh7J6EIO2aqOqzvFxuICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICB0YXJnZXRzOiB3YXJuaW5nVGV4dCxcbiAgICAgIGFscGhhOiAwLFxuICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgIHlveW86IHRydWUsXG4gICAgICByZXBlYXQ6IDUsXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB3YXJuaW5nVGV4dC5kZXN0cm95KClcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVQYXJ0aWNsZVN5c3RlbSgpOiB2b2lkIHtcbiAgICAvLyDtmZjqsr0g7YyM7Yuw7YG0ICjrqLzsp4AsIOyKpO2MjO2BrCDrk7EpXG4gICAgdGhpcy5wYXJ0aWNsZXMgPSB0aGlzLmFkZC5wYXJ0aWNsZXMoMCwgMCwgJ3BsYXllcicsIHtcbiAgICAgIHNjYWxlOiB7IHN0YXJ0OiAwLjMsIGVuZDogMCB9LFxuICAgICAgc3BlZWQ6IHsgbWluOiA1MCwgbWF4OiAxMDAgfSxcbiAgICAgIGFscGhhOiB7IHN0YXJ0OiAwLjgsIGVuZDogMCB9LFxuICAgICAgbGlmZXNwYW46IDEwMDAsXG4gICAgICB0aW50OiAweGZmNjYwMFxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVVJKCk6IHZvaWQge1xuICAgIC8vIOygkOyImCDtkZzsi5xcbiAgICB0aGlzLnNjb3JlVGV4dCA9IHRoaXMuYWRkLnRleHQoMjAsIDIwLCAnU2NvcmU6IDAnLCB7XG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxuICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNSknLFxuICAgICAgcGFkZGluZzogeyB4OiAxMCwgeTogNSB9XG4gICAgfSlcblxuICAgIC8vIO2DgOydtOuouCDtkZzsi5xcbiAgICB0aGlzLnRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQoMjAsIDYwLCAnVGltZTogNTowMCcsIHtcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICBjb2xvcjogJyNmZmZmMDAnLFxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC41KScsXG4gICAgICBwYWRkaW5nOiB7IHg6IDEwLCB5OiA1IH1cbiAgICB9KVxuXG4gICAgLy8g7ZSM66CI7J207Ja0IOyImCDtkZzsi5xcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQoMjAsIDEwMCwgJ1BsYXllcnM6IDEvMjAnLCB7XG4gICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgY29sb3I6ICcjMDBmZjAwJyxcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNSknLFxuICAgICAgcGFkZGluZzogeyB4OiAxMCwgeTogNSB9XG4gICAgfSlcblxuICAgIC8vIOuvuOuLiOuntVxuICAgIHRoaXMuY3JlYXRlTWluaU1hcCgpXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU1pbmlNYXAoKTogdm9pZCB7XG4gICAgY29uc3QgbWFwU2l6ZSA9IDE1MFxuICAgIGNvbnN0IG1hcFggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIG1hcFNpemUgLSAyMFxuICAgIGNvbnN0IG1hcFkgPSAyMFxuXG4gICAgLy8g66+464uI66e1IOuwsOqyvVxuICAgIHRoaXMubWluaU1hcCA9IHRoaXMuYWRkLmdyYXBoaWNzKClcbiAgICB0aGlzLm1pbmlNYXAuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjUpXG4gICAgdGhpcy5taW5pTWFwLmZpbGxSb3VuZGVkUmVjdChtYXBYLCBtYXBZLCBtYXBTaXplLCBtYXBTaXplLCA4KVxuICAgIHRoaXMubWluaU1hcC5saW5lU3R5bGUoMiwgMHhmZmZmZmYsIDAuOClcbiAgICB0aGlzLm1pbmlNYXAuc3Ryb2tlUm91bmRlZFJlY3QobWFwWCwgbWFwWSwgbWFwU2l6ZSwgbWFwU2l6ZSwgOClcblxuICAgIC8vIOuvuOuLiOuntSDsl4XrjbDsnbTtirjrpbwg7JyE7ZWcIOy7qO2FjOydtOuEiFxuICAgIHRoaXMubWluaU1hcC5zZXRTY3JvbGxGYWN0b3IoMCkgLy8gVUkg6rOg7KCVXG4gIH1cblxuICBwcml2YXRlIHNldHVwSW5wdXQoKTogdm9pZCB7XG4gICAgY29uc3QgaW5wdXRNYW5hZ2VyID0gdGhpcy5nYW1lTWFuYWdlci5nZXRJbnB1dE1hbmFnZXIoKVxuXG4gICAgLy8g7JuA7KeB7J6EIOyeheugpSDsspjrpqxcbiAgICBpbnB1dE1hbmFnZXIub24oJ21vdmVfdXAnLCAoZGF0YTogYW55KSA9PiB7XG4gICAgICBpZiAoZGF0YS5wcmVzc2VkKSB0aGlzLmhhbmRsZVBsYXllck1vdmUoJ3VwJylcbiAgICB9KVxuXG4gICAgaW5wdXRNYW5hZ2VyLm9uKCdtb3ZlX2Rvd24nLCAoZGF0YTogYW55KSA9PiB7XG4gICAgICBpZiAoZGF0YS5wcmVzc2VkKSB0aGlzLmhhbmRsZVBsYXllck1vdmUoJ2Rvd24nKVxuICAgIH0pXG5cbiAgICBpbnB1dE1hbmFnZXIub24oJ21vdmVfbGVmdCcsIChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGlmIChkYXRhLnByZXNzZWQpIHRoaXMuaGFuZGxlUGxheWVyTW92ZSgnbGVmdCcpXG4gICAgfSlcblxuICAgIGlucHV0TWFuYWdlci5vbignbW92ZV9yaWdodCcsIChkYXRhOiBhbnkpID0+IHtcbiAgICAgIGlmIChkYXRhLnByZXNzZWQpIHRoaXMuaGFuZGxlUGxheWVyTW92ZSgncmlnaHQnKVxuICAgIH0pXG5cbiAgICAvLyDslaHshZgg7J6F66ClIOyymOumrFxuICAgIGlucHV0TWFuYWdlci5vbignYWN0aW9uX3ByaW1hcnknLCAoZGF0YTogYW55KSA9PiB7XG4gICAgICBpZiAoZGF0YS5wcmVzc2VkKSB0aGlzLmhhbmRsZVBsYXllckFjdGlvbigncHJpbWFyeScpXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUGxheWVyTW92ZShkaXJlY3Rpb246IHN0cmluZyk6IHZvaWQge1xuICAgIC8vIOuhnOy7rCDtlIzroIjsnbTslrQg7J2064+ZIOyymOumrFxuICAgIGNvbnN0IG5ldHdvcmtNYW5hZ2VyID0gdGhpcy5nYW1lTWFuYWdlci5nZXROZXR3b3JrTWFuYWdlcigpXG5cbiAgICBpZiAobmV0d29ya01hbmFnZXIuaXNHYW1lQ29ubmVjdGVkKCkpIHtcbiAgICAgIG5ldHdvcmtNYW5hZ2VyLnNlbmRHYW1lQWN0aW9uKCdtb3ZlJywgeyBkaXJlY3Rpb24gfSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g7Iux6riA7ZSM66CI7J207Ja0IOuqqOuTnFxuICAgICAgdGhpcy5tb3ZlTG9jYWxQbGF5ZXIoZGlyZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUGxheWVyQWN0aW9uKGFjdGlvbjogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coYO2UjOugiOydtOyWtCDslaHshZg6ICR7YWN0aW9ufWApXG5cbiAgICBjb25zdCBuZXR3b3JrTWFuYWdlciA9IHRoaXMuZ2FtZU1hbmFnZXIuZ2V0TmV0d29ya01hbmFnZXIoKVxuXG4gICAgaWYgKG5ldHdvcmtNYW5hZ2VyLmlzR2FtZUNvbm5lY3RlZCgpKSB7XG4gICAgICBuZXR3b3JrTWFuYWdlci5zZW5kR2FtZUFjdGlvbignYWN0aW9uJywgeyBhY3Rpb24gfSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG1vdmVMb2NhbFBsYXllcihkaXJlY3Rpb246IHN0cmluZyk6IHZvaWQge1xuICAgIC8vIOuhnOy7rCDtlIzroIjsnbTslrQg7J2064+ZIOuhnOyngSAo642w66qo7JqpKVxuICAgIGNvbnNvbGUubG9nKGDroZzsu6wg7ZSM66CI7J207Ja0IOydtOuPmTogJHtkaXJlY3Rpb259YClcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBDYW1lcmEoKTogdm9pZCB7XG4gICAgLy8g7Lm066mU6528IOyKpOustOyKpCDtjJTroZzsmrAg7ISk7KCVXG4gICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0TGVycCgwLjA1LCAwLjA1KVxuICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldFpvb20oMSlcbiAgfVxuXG4gIC8vIOyZuOu2gOyXkOyEnCDtmLjstpzrkJjripQg66mU7ISc65Oc65OkXG4gIHN0YXJ0R2FtZSgpOiB2b2lkIHtcbiAgICB0aGlzLmdhbWVTdGFydGVkID0gdHJ1ZVxuICAgIGNvbnNvbGUubG9nKCdQaHlzaWNzQmF0dGxlUm95YWxlIOqyjOyehCDsi5zsnpEhJylcblxuICAgIC8vIOqyjOyehCDsi5zsnpEg7IKs7Jq065OcXG4gICAgdGhpcy5nYW1lTWFuYWdlci5nZXRBdWRpb01hbmFnZXIoKS5wbGF5U291bmQoJ2dhbWVfc3RhcnQnKVxuXG4gICAgLy8g7YOA7J2066i4IOyLnOyekVxuICAgIHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICBkZWxheTogMTAwMCxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuZ2FtZVRpbWVyKytcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcigpXG4gICAgICB9LFxuICAgICAgbG9vcDogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBvbk5ldHdvcmtNZXNzYWdlKG1lc3NhZ2U6IE5ldHdvcmtNZXNzYWdlKTogdm9pZCB7XG4gICAgc3dpdGNoIChtZXNzYWdlLmRhdGEuYWN0aW9uKSB7XG4gICAgICBjYXNlICdtb3ZlJzpcbiAgICAgICAgdGhpcy5oYW5kbGVOZXR3b3JrUGxheWVyTW92ZShtZXNzYWdlLnBsYXllcklkISwgbWVzc2FnZS5kYXRhLmRpcmVjdGlvbilcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2FjdGlvbic6XG4gICAgICAgIHRoaXMuaGFuZGxlTmV0d29ya1BsYXllckFjdGlvbihtZXNzYWdlLnBsYXllcklkISwgbWVzc2FnZS5kYXRhLmFjdGlvbilcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKCfslYwg7IiYIOyXhuuKlCDrhKTtirjsm4ztgawg66mU7Iuc7KeAOicsIG1lc3NhZ2UpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVOZXR3b3JrUGxheWVyTW92ZShwbGF5ZXJJZDogc3RyaW5nLCBkaXJlY3Rpb246IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKGDrhKTtirjsm4ztgawg7ZSM66CI7J207Ja0ICR7cGxheWVySWR9IOydtOuPmTogJHtkaXJlY3Rpb259YClcbiAgICAvLyDsi6TsoJwg7ZSM66CI7J207Ja0IOyYpOu4jOygne2KuCDsnbTrj5kg66Gc7KeBXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU5ldHdvcmtQbGF5ZXJBY3Rpb24ocGxheWVySWQ6IHN0cmluZywgYWN0aW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZyhg64Sk7Yq47JuM7YGsIO2UjOugiOydtOyWtCAke3BsYXllcklkfSDslaHshZg6ICR7YWN0aW9ufWApXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVRpbWVyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy50aW1lclRleHQpIHJldHVyblxuXG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKHRoaXMubWF4R2FtZVRpbWUgLSB0aGlzLmdhbWVUaW1lcikgLyA2MClcbiAgICBjb25zdCBzZWNvbmRzID0gKHRoaXMubWF4R2FtZVRpbWUgLSB0aGlzLmdhbWVUaW1lcikgJSA2MFxuXG4gICAgdGhpcy50aW1lclRleHQuc2V0VGV4dChgVGltZTogJHttaW51dGVzfToke3NlY29uZHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWApXG5cbiAgICBpZiAodGhpcy5nYW1lVGltZXIgPj0gdGhpcy5tYXhHYW1lVGltZSkge1xuICAgICAgdGhpcy5lbmRHYW1lKClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGVuZEdhbWUoKTogdm9pZCB7XG4gICAgdGhpcy5nYW1lU3RhcnRlZCA9IGZhbHNlXG4gICAgY29uc29sZS5sb2coJ+qyjOyehCDsooXro4whJylcblxuICAgIC8vIOqyjOyehCDsooXro4wg7LKY66asXG4gICAgdGhpcy5nYW1lTWFuYWdlci5lbmRHYW1lKDEwMCkgLy8g7J6E7IucIOygkOyImFxuICB9XG5cbiAgdXBkYXRlKHRpbWU6IG51bWJlciwgZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy5nYW1lU3RhcnRlZCkgcmV0dXJuXG5cbiAgICAvLyDqsozsnoQg66Gc7KeBIOyXheuNsOydtO2KuFxuICAgIHRoaXMudXBkYXRlTWluaU1hcCgpXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZU1pbmlNYXAoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm1pbmlNYXApIHJldHVyblxuXG4gICAgLy8g66+464uI66e1IOqwseyLoCDroZzsp4FcbiAgICAvLyDtlIzroIjsnbTslrQg7JyE7LmYLCDqtazsl60g7IOB7YOcIOuTseydhCDrr7jri4jrp7Xsl5Ag7ZGc7IucXG4gIH1cbn0iXSwibmFtZXMiOlsiUGhhc2VyIiwiUGh5c2ljc0JhdHRsZVJveWFsZVNjZW5lIiwiU2NlbmUiLCJjb25zdHJ1Y3RvciIsImdhbWVNYW5hZ2VyIiwia2V5IiwicGxheWVycyIsIk1hcCIsIm9ic3RhY2xlcyIsInBvd2VyVXBzIiwicGFydGljbGVzIiwiZ2FtZVN0YXJ0ZWQiLCJnYW1lVGltZXIiLCJtYXhHYW1lVGltZSIsInNocmlua2luZ1pvbmUiLCJjdXJyZW50Wm9uZVJhZGl1cyIsIm1heFpvbmVSYWRpdXMiLCJtaW5ab25lUmFkaXVzIiwic2NvcmVUZXh0IiwidGltZXJUZXh0IiwicGxheWVyQ291bnRUZXh0IiwibWluaU1hcCIsInByZWxvYWQiLCJsb2FkIiwiaW1hZ2UiLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlIiwibWF0dGVyIiwid29ybGQiLCJzZXRCb3VuZHMiLCJjcmVhdGVCYWNrZ3JvdW5kIiwiY3JlYXRlT2JzdGFjbGVzIiwiY3JlYXRlUG93ZXJVcFN5c3RlbSIsImNyZWF0ZVVJIiwiY3JlYXRlU2hyaW5raW5nWm9uZSIsImNyZWF0ZVBhcnRpY2xlU3lzdGVtIiwic2V0dXBJbnB1dCIsInNldHVwQ2FtZXJhIiwiZ3JhcGhpY3MiLCJhZGQiLCJmaWxsR3JhZGllbnRTdHlsZSIsImZpbGxSZWN0IiwibGluZVN0eWxlIiwieCIsIm1vdmVUbyIsImxpbmVUbyIsInkiLCJzdHJva2VQYXRoIiwiZ3JvdXAiLCJvYnN0YWNsZUNvbmZpZ3MiLCJ3aWR0aCIsImhlaWdodCIsImZvckVhY2giLCJjb25maWciLCJpbmRleCIsIm9ic3RhY2xlIiwicmVjdGFuZ2xlIiwiaXNTdGF0aWMiLCJsYWJlbCIsImZpbGxTdHlsZSIsImZpbGxSb3VuZGVkUmVjdCIsInN0cm9rZVJvdW5kZWRSZWN0Iiwic3Bhd25Qb2ludHMiLCJzcGF3blBvd2VyVXBzIiwidGltZSIsImFkZEV2ZW50IiwiZGVsYXkiLCJjYWxsYmFjayIsImxvb3AiLCJjbGVhciIsInBvd2VyVXBUeXBlcyIsInBvaW50IiwiTWF0aCIsInJhbmRvbSIsInR5cGUiLCJVdGlscyIsIkFycmF5IiwiR2V0UmFuZG9tIiwicG93ZXJVcCIsImNyZWF0ZVBvd2VyVXAiLCJjb250YWluZXIiLCJjb2xvcnMiLCJzcGVlZCIsInNoaWVsZCIsImp1bXAiLCJkYW1hZ2UiLCJnbG93IiwiZmlsbENpcmNsZSIsImNvcmUiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwicm90YXRpb24iLCJQSSIsImR1cmF0aW9uIiwicmVwZWF0IiwiZWFzZSIsInNjYWxlWCIsInNjYWxlWSIsInlveW8iLCJwb3dlclVwVHlwZSIsInVwZGF0ZVNocmlua2luZ1pvbmUiLCJkZWxheWVkQ2FsbCIsInNocmlua1pvbmUiLCJzdHJva2VDaXJjbGUiLCJuZXdSYWRpdXMiLCJtYXgiLCJvblVwZGF0ZSIsImNoZWNrUGxheWVyc0luWm9uZSIsInNob3dab25lU2hyaW5rV2FybmluZyIsInBsYXllck9iaiIsInBsYXllcklkIiwiZGlzdGFuY2UiLCJEaXN0YW5jZSIsIkJldHdlZW4iLCJkZWFsWm9uZURhbWFnZSIsImVtaXRQYXJ0aWNsZUF0Iiwid2FybmluZ1RleHQiLCJ0ZXh0IiwiZm9udFNpemUiLCJjb2xvciIsImZvbnRTdHlsZSIsInNldE9yaWdpbiIsImFscGhhIiwib25Db21wbGV0ZSIsImRlc3Ryb3kiLCJzY2FsZSIsInN0YXJ0IiwiZW5kIiwibWluIiwibGlmZXNwYW4iLCJ0aW50IiwiZm9udEZhbWlseSIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJjcmVhdGVNaW5pTWFwIiwibWFwU2l6ZSIsIm1hcFgiLCJjYW1lcmFzIiwibWFpbiIsIm1hcFkiLCJzZXRTY3JvbGxGYWN0b3IiLCJpbnB1dE1hbmFnZXIiLCJnZXRJbnB1dE1hbmFnZXIiLCJvbiIsImRhdGEiLCJwcmVzc2VkIiwiaGFuZGxlUGxheWVyTW92ZSIsImhhbmRsZVBsYXllckFjdGlvbiIsImRpcmVjdGlvbiIsIm5ldHdvcmtNYW5hZ2VyIiwiZ2V0TmV0d29ya01hbmFnZXIiLCJpc0dhbWVDb25uZWN0ZWQiLCJzZW5kR2FtZUFjdGlvbiIsIm1vdmVMb2NhbFBsYXllciIsImFjdGlvbiIsInNldExlcnAiLCJzZXRab29tIiwic3RhcnRHYW1lIiwiZ2V0QXVkaW9NYW5hZ2VyIiwicGxheVNvdW5kIiwidXBkYXRlVGltZXIiLCJvbk5ldHdvcmtNZXNzYWdlIiwibWVzc2FnZSIsImhhbmRsZU5ldHdvcmtQbGF5ZXJNb3ZlIiwiaGFuZGxlTmV0d29ya1BsYXllckFjdGlvbiIsIm1pbnV0ZXMiLCJmbG9vciIsInNlY29uZHMiLCJzZXRUZXh0IiwidG9TdHJpbmciLCJwYWRTdGFydCIsImVuZEdhbWUiLCJ1cGRhdGUiLCJkZWx0YSIsInVwZGF0ZU1pbmlNYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/game-engine/scenes/PhysicsBattleRoyaleScene.ts\n");

/***/ }),

/***/ "./src/lib/game-engine/scenes/PuzzleRaceScene.ts":
/*!*******************************************************!*\
  !*** ./src/lib/game-engine/scenes/PuzzleRaceScene.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PuzzleRaceScene: () => (/* binding */ PuzzleRaceScene)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n\nclass PuzzleRaceScene extends (phaser__WEBPACK_IMPORTED_MODULE_0___default().Scene) {\n    constructor(gameManager){\n        super({\n            key: \"PuzzleRaceScene\"\n        });\n        this.puzzlePieces = new Map();\n        this.puzzleData = [];\n        this.targetSlots = [];\n        // 게임 상태\n        this.gameStarted = false;\n        this.gameTimer = 0;\n        this.maxGameTime = 180 // 3분\n        ;\n        this.currentLevel = 1;\n        this.totalScore = 0;\n        this.combo = 0;\n        this.maxCombo = 0;\n        // UI 요소\n        this.scoreText = null;\n        this.timerText = null;\n        this.levelText = null;\n        this.comboText = null;\n        this.progressBar = null;\n        // 인터랙션\n        this.selectedPiece = null;\n        this.dragData = null;\n        this.gameManager = gameManager;\n    }\n    preload() {\n        // 기본 도형들을 코드로 생성\n        this.createShapeTextures();\n        console.log(\"PuzzleRaceScene: 에셋 로딩 완료\");\n    }\n    createShapeTextures() {\n        // 정사각형 텍스처 생성\n        const squareGraphics = this.add.graphics();\n        squareGraphics.fillStyle(0xffffff);\n        squareGraphics.fillRect(0, 0, 50, 50);\n        squareGraphics.generateTexture(\"square\", 50, 50);\n        squareGraphics.destroy();\n        // 원형 텍스처 생성\n        const circleGraphics = this.add.graphics();\n        circleGraphics.fillStyle(0xffffff);\n        circleGraphics.fillCircle(25, 25, 25);\n        circleGraphics.generateTexture(\"circle\", 50, 50);\n        circleGraphics.destroy();\n        // 삼각형 텍스처 생성\n        const triangleGraphics = this.add.graphics();\n        triangleGraphics.fillStyle(0xffffff);\n        triangleGraphics.fillTriangle(25, 5, 5, 45, 45, 45);\n        triangleGraphics.generateTexture(\"triangle\", 50, 50);\n        triangleGraphics.destroy();\n    }\n    create() {\n        // 배경 생성\n        this.createBackground();\n        // UI 생성\n        this.createUI();\n        // 퍼즐 영역 생성\n        this.createPuzzleArea();\n        // 첫 번째 레벨 시작\n        this.generateLevel(this.currentLevel);\n        // 입력 처리 설정\n        this.setupInput();\n        console.log(\"PuzzleRaceScene: 씬 생성 완료\");\n    }\n    createBackground() {\n        // 그라데이션 배경\n        const graphics = this.add.graphics();\n        graphics.fillGradientStyle(0x2D1B69, 0x11998E, 0x38EF7D, 0xFFE066);\n        graphics.fillRect(0, 0, this.cameras.main.width, this.cameras.main.height);\n        // 패턴 배경\n        const patternSize = 40;\n        graphics.lineStyle(1, 0xffffff, 0.1);\n        for(let x = 0; x < this.cameras.main.width; x += patternSize){\n            graphics.moveTo(x, 0);\n            graphics.lineTo(x, this.cameras.main.height);\n        }\n        for(let y = 0; y < this.cameras.main.height; y += patternSize){\n            graphics.moveTo(0, y);\n            graphics.lineTo(this.cameras.main.width, y);\n        }\n        graphics.strokePath();\n    }\n    createUI() {\n        // 점수 표시\n        this.scoreText = this.add.text(20, 20, \"Score: 0\", {\n            fontSize: \"28px\",\n            color: \"#ffffff\",\n            fontFamily: \"Arial\",\n            fontStyle: \"bold\",\n            backgroundColor: \"rgba(0,0,0,0.7)\",\n            padding: {\n                x: 15,\n                y: 8\n            }\n        });\n        // 타이머 표시\n        this.timerText = this.add.text(20, 70, \"Time: 3:00\", {\n            fontSize: \"24px\",\n            color: \"#ffff00\",\n            fontFamily: \"Arial\",\n            fontStyle: \"bold\",\n            backgroundColor: \"rgba(0,0,0,0.7)\",\n            padding: {\n                x: 15,\n                y: 8\n            }\n        });\n        // 레벨 표시\n        this.levelText = this.add.text(20, 120, \"Level: 1\", {\n            fontSize: \"22px\",\n            color: \"#00ff00\",\n            fontFamily: \"Arial\",\n            fontStyle: \"bold\",\n            backgroundColor: \"rgba(0,0,0,0.7)\",\n            padding: {\n                x: 15,\n                y: 8\n            }\n        });\n        // 콤보 표시\n        this.comboText = this.add.text(20, 170, \"Combo: 0\", {\n            fontSize: \"20px\",\n            color: \"#ff6600\",\n            fontFamily: \"Arial\",\n            fontStyle: \"bold\",\n            backgroundColor: \"rgba(0,0,0,0.7)\",\n            padding: {\n                x: 15,\n                y: 8\n            }\n        });\n        // 진행도 바\n        this.createProgressBar();\n    }\n    createProgressBar() {\n        const barWidth = 300;\n        const barHeight = 20;\n        const barX = this.cameras.main.width - barWidth - 20;\n        const barY = 20;\n        this.progressBar = this.add.graphics();\n        // 배경\n        this.progressBar.fillStyle(0x333333, 0.8);\n        this.progressBar.fillRoundedRect(barX, barY, barWidth, barHeight, 10);\n        // 테두리\n        this.progressBar.lineStyle(2, 0xffffff, 0.8);\n        this.progressBar.strokeRoundedRect(barX, barY, barWidth, barHeight, 10);\n        this.updateProgressBar(0);\n    }\n    updateProgressBar(progress) {\n        if (!this.progressBar) return;\n        const barWidth = 300;\n        const barHeight = 20;\n        const barX = this.cameras.main.width - barWidth - 20;\n        const barY = 20;\n        // 기존 진행도 바 지우기\n        this.progressBar.clear();\n        // 배경\n        this.progressBar.fillStyle(0x333333, 0.8);\n        this.progressBar.fillRoundedRect(barX, barY, barWidth, barHeight, 10);\n        // 진행도 (0-1 사이 값)\n        const fillWidth = barWidth * Math.min(1, Math.max(0, progress));\n        if (fillWidth > 0) {\n            const color = progress < 0.3 ? 0xff0000 : progress < 0.7 ? 0xffaa00 : 0x00ff00;\n            this.progressBar.fillStyle(color, 0.8);\n            this.progressBar.fillRoundedRect(barX, barY, fillWidth, barHeight, 10);\n        }\n        // 테두리\n        this.progressBar.lineStyle(2, 0xffffff, 0.8);\n        this.progressBar.strokeRoundedRect(barX, barY, barWidth, barHeight, 10);\n    }\n    createPuzzleArea() {\n        // 퍼즐 완성 영역 (상단 중앙)\n        const puzzleAreaX = this.cameras.main.width / 2;\n        const puzzleAreaY = 200;\n        const areaGraphics = this.add.graphics();\n        areaGraphics.lineStyle(4, 0xffffff, 0.8);\n        areaGraphics.fillStyle(0x000000, 0.3);\n        areaGraphics.fillRoundedRect(puzzleAreaX - 150, puzzleAreaY - 100, 300, 200, 15);\n        areaGraphics.strokeRoundedRect(puzzleAreaX - 150, puzzleAreaY - 100, 300, 200, 15);\n        const areaLabel = this.add.text(puzzleAreaX, puzzleAreaY - 130, \"PUZZLE AREA\", {\n            fontSize: \"20px\",\n            color: \"#ffffff\",\n            fontFamily: \"Arial\",\n            fontStyle: \"bold\"\n        }).setOrigin(0.5);\n    }\n    generateLevel(level) {\n        // 기존 퍼즐 정리\n        this.clearPuzzle();\n        // 레벨에 따른 퍼즐 복잡도 결정\n        const pieceCount = Math.min(4 + level, 12) // 최소 5개, 최대 12개\n        ;\n        const colors = [\n            0xff0000,\n            0x00ff00,\n            0x0000ff,\n            0xffff00,\n            0xff00ff,\n            0x00ffff,\n            0xffa500,\n            0x800080\n        ];\n        const shapes = [\n            \"square\",\n            \"circle\",\n            \"triangle\"\n        ];\n        this.puzzleData = [];\n        // 목표 슬롯 생성\n        this.createTargetSlots(pieceCount);\n        // 퍼즐 조각들 생성\n        for(let i = 0; i < pieceCount; i++){\n            const piece = {\n                id: `piece_${i}`,\n                x: 100 + Math.random() * (this.cameras.main.width - 200),\n                y: 450 + Math.random() * 150,\n                targetX: this.targetSlots[i].x,\n                targetY: this.targetSlots[i].y,\n                color: colors[i % colors.length],\n                shape: shapes[i % shapes.length],\n                isPlaced: false\n            };\n            this.puzzleData.push(piece);\n            this.createPuzzlePiece(piece);\n        }\n        // 레벨 정보 업데이트\n        this.levelText?.setText(`Level: ${level}`);\n        console.log(`레벨 ${level} 생성 완료: ${pieceCount}개 조각`);\n    }\n    createTargetSlots(count) {\n        this.targetSlots = [];\n        const centerX = this.cameras.main.width / 2;\n        const centerY = 200;\n        const cols = Math.ceil(Math.sqrt(count));\n        const rows = Math.ceil(count / cols);\n        const spacing = 60;\n        for(let i = 0; i < count; i++){\n            const col = i % cols;\n            const row = Math.floor(i / cols);\n            const x = centerX - (cols - 1) * spacing / 2 + col * spacing;\n            const y = centerY - (rows - 1) * spacing / 2 + row * spacing;\n            const slotGraphics = this.add.graphics();\n            slotGraphics.x = x;\n            slotGraphics.y = y;\n            slotGraphics.lineStyle(3, 0x666666, 0.8);\n            slotGraphics.strokeRoundedRect(-25, -25, 50, 50, 8);\n            slotGraphics.fillStyle(0x333333, 0.3);\n            slotGraphics.fillRoundedRect(-25, -25, 50, 50, 8);\n            this.targetSlots.push(slotGraphics);\n        }\n    }\n    createPuzzlePiece(piece) {\n        const container = this.add.container(piece.x, piece.y);\n        // 도형 스프라이트\n        const shape = this.add.sprite(0, 0, piece.shape);\n        shape.setTint(piece.color);\n        shape.setScale(0.8);\n        // 글로우 효과\n        const glow = this.add.graphics();\n        glow.fillStyle(piece.color, 0.3);\n        glow.fillCircle(0, 0, 30);\n        // 테두리\n        const border = this.add.graphics();\n        border.lineStyle(2, 0xffffff, 0.8);\n        if (piece.shape === \"square\") {\n            border.strokeRect(-20, -20, 40, 40);\n        } else if (piece.shape === \"circle\") {\n            border.strokeCircle(0, 0, 20);\n        } else if (piece.shape === \"triangle\") {\n            border.strokeTriangle(-20, 15, 20, 15, 0, -15);\n        }\n        container.add([\n            glow,\n            shape,\n            border\n        ]);\n        container.setSize(50, 50);\n        container.setInteractive({\n            draggable: true\n        });\n        // 드래그 이벤트\n        container.on(\"dragstart\", (pointer)=>{\n            this.selectedPiece = container;\n            this.dragData = {\n                startX: container.x,\n                startY: container.y\n            };\n            // 선택 효과\n            this.tweens.add({\n                targets: container,\n                scaleX: 1.1,\n                scaleY: 1.1,\n                duration: 200\n            });\n        });\n        container.on(\"drag\", (pointer, dragX, dragY)=>{\n            container.x = dragX;\n            container.y = dragY;\n        });\n        container.on(\"dragend\", (pointer)=>{\n            this.handlePieceDrop(container, piece);\n            this.selectedPiece = null;\n            this.dragData = null;\n            // 크기 복원\n            this.tweens.add({\n                targets: container,\n                scaleX: 1,\n                scaleY: 1,\n                duration: 200\n            });\n        });\n        // 호버 효과\n        container.on(\"pointerover\", ()=>{\n            if (this.selectedPiece !== container) {\n                this.tweens.add({\n                    targets: container,\n                    scaleX: 1.05,\n                    scaleY: 1.05,\n                    duration: 150\n                });\n            }\n        });\n        container.on(\"pointerout\", ()=>{\n            if (this.selectedPiece !== container) {\n                this.tweens.add({\n                    targets: container,\n                    scaleX: 1,\n                    scaleY: 1,\n                    duration: 150\n                });\n            }\n        });\n        this.puzzlePieces.set(piece.id, container)(container).pieceData = piece;\n    }\n    handlePieceDrop(container, piece) {\n        let closestSlot = null;\n        let minDistance = Infinity;\n        const snapDistance = 50;\n        // 가장 가까운 슬롯 찾기\n        for (const slot of this.targetSlots){\n            const distance = phaser__WEBPACK_IMPORTED_MODULE_0___default().Math.Distance.Between(container.x, container.y, slot.x, slot.y);\n            if (distance < minDistance && distance < snapDistance) {\n                minDistance = distance;\n                closestSlot = slot;\n            }\n        }\n        if (closestSlot && !piece.isPlaced) {\n            // 올바른 슬롯 확인 (이 예제에서는 모든 슬롯이 유효)\n            const targetIndex = this.targetSlots.indexOf(closestSlot);\n            const isCorrect = targetIndex >= 0;\n            if (isCorrect) {\n                // 정확한 배치\n                piece.isPlaced = true;\n                piece.targetX = closestSlot.x;\n                piece.targetY = closestSlot.y;\n                // 스냅 애니메이션\n                this.tweens.add({\n                    targets: container,\n                    x: closestSlot.x,\n                    y: closestSlot.y,\n                    duration: 300,\n                    ease: \"Back.easeOut\"\n                });\n                // 성공 효과\n                this.showSuccessEffect(closestSlot.x, closestSlot.y);\n                this.gameManager.getAudioManager().playSound(\"point_scored\");\n                // 점수 추가\n                this.addScore(100 + this.combo * 25);\n                this.combo++;\n                // 퍼즐 완성 확인\n                this.checkPuzzleCompletion();\n            } else {\n                // 잘못된 배치 - 원래 위치로 복원\n                this.returnToOriginalPosition(container);\n                this.resetCombo();\n            }\n        } else {\n            // 슬롯 범위 밖 - 원래 위치로 복원\n            this.returnToOriginalPosition(container);\n        }\n    }\n    returnToOriginalPosition(container) {\n        if (!this.dragData) return;\n        this.tweens.add({\n            targets: container,\n            x: this.dragData.startX,\n            y: this.dragData.startY,\n            duration: 300,\n            ease: \"Back.easeOut\"\n        });\n    }\n    showSuccessEffect(x, y) {\n        // 파티클 효과\n        const particles = this.add.particles(x, y, \"circle\", {\n            scale: {\n                start: 0.3,\n                end: 0\n            },\n            speed: {\n                min: 50,\n                max: 100\n            },\n            alpha: {\n                start: 1,\n                end: 0\n            },\n            lifespan: 500,\n            quantity: 10,\n            tint: [\n                0xffff00,\n                0xff6600,\n                0xff0066\n            ]\n        });\n        this.time.delayedCall(500, ()=>{\n            particles.destroy();\n        });\n        // 점수 텍스트 효과\n        const scoreText = this.add.text(x, y - 30, `+${100 + this.combo * 25}`, {\n            fontSize: \"24px\",\n            color: \"#ffff00\",\n            fontStyle: \"bold\"\n        }).setOrigin(0.5);\n        this.tweens.add({\n            targets: scoreText,\n            y: y - 80,\n            alpha: 0,\n            duration: 1000,\n            onComplete: ()=>scoreText.destroy()\n        });\n    }\n    addScore(points) {\n        this.totalScore += points;\n        this.scoreText?.setText(`Score: ${this.totalScore}`);\n        // 스코어 업데이트 효과\n        if (this.scoreText) {\n            this.tweens.add({\n                targets: this.scoreText,\n                scaleX: 1.2,\n                scaleY: 1.2,\n                duration: 200,\n                yoyo: true\n            });\n        }\n    }\n    resetCombo() {\n        this.combo = 0;\n        this.comboText?.setText(`Combo: ${this.combo}`);\n    }\n    updateCombo() {\n        this.maxCombo = Math.max(this.maxCombo, this.combo);\n        this.comboText?.setText(`Combo: ${this.combo}`);\n        if (this.combo > 5) {\n            // 높은 콤보 효과\n            this.comboText?.setColor(\"#ff0066\");\n        } else if (this.combo > 2) {\n            this.comboText?.setColor(\"#ff6600\");\n        } else {\n            this.comboText?.setColor(\"#ffff00\");\n        }\n    }\n    checkPuzzleCompletion() {\n        const completedPieces = this.puzzleData.filter((piece)=>piece.isPlaced).length;\n        const totalPieces = this.puzzleData.length;\n        // 진행도 업데이트\n        this.updateProgressBar(completedPieces / totalPieces);\n        if (completedPieces === totalPieces) {\n            // 레벨 완료!\n            this.completeLevel();\n        }\n    }\n    completeLevel() {\n        console.log(`레벨 ${this.currentLevel} 완료!`);\n        // 레벨 완료 보너스\n        const timeBonus = Math.max(0, (this.maxGameTime - this.gameTimer) * 10);\n        const comboBonus = this.maxCombo * 50;\n        const levelBonus = this.currentLevel * 200;\n        const totalBonus = timeBonus + comboBonus + levelBonus;\n        this.addScore(totalBonus);\n        // 완료 효과\n        this.showLevelCompleteEffect();\n        // 다음 레벨 준비\n        this.time.delayedCall(2000, ()=>{\n            this.currentLevel++;\n            this.generateLevel(this.currentLevel);\n        });\n    }\n    showLevelCompleteEffect() {\n        const centerX = this.cameras.main.width / 2;\n        const centerY = this.cameras.main.height / 2;\n        // 완료 텍스트\n        const completeText = this.add.text(centerX, centerY, \"LEVEL COMPLETE!\", {\n            fontSize: \"48px\",\n            color: \"#ffff00\",\n            fontStyle: \"bold\",\n            stroke: \"#000000\",\n            strokeThickness: 4\n        }).setOrigin(0.5);\n        // 애니메이션\n        completeText.setScale(0);\n        this.tweens.add({\n            targets: completeText,\n            scaleX: 1,\n            scaleY: 1,\n            duration: 500,\n            ease: \"Back.easeOut\",\n            onComplete: ()=>{\n                this.time.delayedCall(1500, ()=>{\n                    this.tweens.add({\n                        targets: completeText,\n                        alpha: 0,\n                        duration: 500,\n                        onComplete: ()=>completeText.destroy()\n                    });\n                });\n            }\n        });\n        // 파티클 폭발 효과\n        const particles = this.add.particles(centerX, centerY, \"circle\", {\n            scale: {\n                start: 0.5,\n                end: 0\n            },\n            speed: {\n                min: 100,\n                max: 300\n            },\n            alpha: {\n                start: 1,\n                end: 0\n            },\n            lifespan: 2000,\n            quantity: 50,\n            tint: [\n                0xffff00,\n                0xff6600,\n                0xff0066,\n                0x00ff00,\n                0x0066ff\n            ]\n        });\n        this.time.delayedCall(2000, ()=>{\n            particles.destroy();\n        });\n    }\n    clearPuzzle() {\n        this.puzzlePieces.forEach((piece)=>piece.destroy());\n        this.puzzlePieces.clear();\n        this.puzzleData = [];\n        this.targetSlots.forEach((slot)=>slot.destroy());\n        this.targetSlots = [];\n        this.combo = 0;\n        this.updateCombo();\n    }\n    setupInput() {\n        const inputManager = this.gameManager.getInputManager();\n        // 키보드 단축키\n        inputManager.on(\"keydown\", (data)=>{\n            if (data.key === \"KeyR\") {\n                // R키로 퍼즐 리셋\n                this.generateLevel(this.currentLevel);\n            }\n        });\n    }\n    // 외부 호출 메서드\n    startGame() {\n        this.gameStarted = true;\n        console.log(\"PuzzleRace 게임 시작!\");\n        this.gameManager.getAudioManager().playSound(\"game_start\");\n        // 타이머 시작\n        this.time.addEvent({\n            delay: 1000,\n            callback: ()=>{\n                this.gameTimer++;\n                this.updateTimer();\n            },\n            loop: true\n        });\n    }\n    onNetworkMessage(message) {\n        // 멀티플레이어용 네트워크 메시지 처리\n        console.log(\"PuzzleRace 네트워크 메시지:\", message);\n    }\n    updateTimer() {\n        if (!this.timerText) return;\n        const minutes = Math.floor((this.maxGameTime - this.gameTimer) / 60);\n        const seconds = (this.maxGameTime - this.gameTimer) % 60;\n        this.timerText.setText(`Time: ${minutes}:${seconds.toString().padStart(2, \"0\")}`);\n        if (this.gameTimer >= this.maxGameTime) {\n            this.endGame();\n        }\n    }\n    endGame() {\n        this.gameStarted = false;\n        console.log(\"PuzzleRace 게임 종료!\");\n        // 최종 점수 계산\n        const finalScore = this.totalScore + this.maxCombo * 100;\n        this.gameManager.endGame(finalScore);\n    }\n    update(time, delta) {\n        if (!this.gameStarted) return;\n        // 콤보 업데이트\n        this.updateCombo();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2dhbWUtZW5naW5lL3NjZW5lcy9QdXp6bGVSYWNlU2NlbmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBZXBCLE1BQU1DLHdCQUF3QkQscURBQVk7SUEwQi9DRyxZQUFZQyxXQUE4QixDQUFFO1FBQzFDLEtBQUssQ0FBQztZQUFFQyxLQUFLO1FBQWtCO2FBekJ6QkMsZUFBMEQsSUFBSUM7YUFDOURDLGFBQTRCLEVBQUU7YUFDOUJDLGNBQTZDLEVBQUU7UUFFdkQsUUFBUTthQUNBQyxjQUFjO2FBQ2RDLFlBQVk7YUFDWkMsY0FBYyxJQUFJLEtBQUs7O2FBQ3ZCQyxlQUFlO2FBQ2ZDLGFBQWE7YUFDYkMsUUFBUTthQUNSQyxXQUFXO1FBRW5CLFFBQVE7YUFDQUMsWUFBNEM7YUFDNUNDLFlBQTRDO2FBQzVDQyxZQUE0QzthQUM1Q0MsWUFBNEM7YUFDNUNDLGNBQWtEO1FBRTFELE9BQU87YUFDQ0MsZ0JBQXFEO2FBQ3JEQyxXQUFzRDtRQUk1RCxJQUFJLENBQUNuQixXQUFXLEdBQUdBO0lBQ3JCO0lBRUFvQixVQUFnQjtRQUNkLGlCQUFpQjtRQUNqQixJQUFJLENBQUNDLG1CQUFtQjtRQUN4QkMsUUFBUUMsR0FBRyxDQUFDO0lBQ2Q7SUFFUUYsc0JBQTRCO1FBQ2xDLGNBQWM7UUFDZCxNQUFNRyxpQkFBaUIsSUFBSSxDQUFDQyxHQUFHLENBQUNDLFFBQVE7UUFDeENGLGVBQWVHLFNBQVMsQ0FBQztRQUN6QkgsZUFBZUksUUFBUSxDQUFDLEdBQUcsR0FBRyxJQUFJO1FBQ2xDSixlQUFlSyxlQUFlLENBQUMsVUFBVSxJQUFJO1FBQzdDTCxlQUFlTSxPQUFPO1FBRXRCLFlBQVk7UUFDWixNQUFNQyxpQkFBaUIsSUFBSSxDQUFDTixHQUFHLENBQUNDLFFBQVE7UUFDeENLLGVBQWVKLFNBQVMsQ0FBQztRQUN6QkksZUFBZUMsVUFBVSxDQUFDLElBQUksSUFBSTtRQUNsQ0QsZUFBZUYsZUFBZSxDQUFDLFVBQVUsSUFBSTtRQUM3Q0UsZUFBZUQsT0FB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LFVBQVU7UUFDVixJQUFJLENBQUNrSyxXQUFXO0lBQ2xCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXR0dXJ1LXBwYXR1cnUtZnJvbnRlbmQvLi9zcmMvbGliL2dhbWUtZW5naW5lL3NjZW5lcy9QdXp6bGVSYWNlU2NlbmUudHM/YWJkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcidcbmltcG9ydCB7IEdhbWVFbmdpbmVNYW5hZ2VyIH0gZnJvbSAnLi4vR2FtZUVuZ2luZU1hbmFnZXInXG5pbXBvcnQgeyBOZXR3b3JrTWVzc2FnZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5pbnRlcmZhY2UgUHV6emxlUGllY2Uge1xuICBpZDogc3RyaW5nXG4gIHg6IG51bWJlclxuICB5OiBudW1iZXJcbiAgdGFyZ2V0WDogbnVtYmVyXG4gIHRhcmdldFk6IG51bWJlclxuICBjb2xvcjogbnVtYmVyXG4gIHNoYXBlOiAnc3F1YXJlJyB8ICdjaXJjbGUnIHwgJ3RyaWFuZ2xlJ1xuICBpc1BsYWNlZDogYm9vbGVhblxufVxuXG5leHBvcnQgY2xhc3MgUHV6emxlUmFjZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgcHJpdmF0ZSBnYW1lTWFuYWdlcjogR2FtZUVuZ2luZU1hbmFnZXJcbiAgcHJpdmF0ZSBwdXp6bGVQaWVjZXM6IE1hcDxzdHJpbmcsIFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgcHV6emxlRGF0YTogUHV6emxlUGllY2VbXSA9IFtdXG4gIHByaXZhdGUgdGFyZ2V0U2xvdHM6IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljc1tdID0gW11cblxuICAvLyDqsozsnoQg7IOB7YOcXG4gIHByaXZhdGUgZ2FtZVN0YXJ0ZWQgPSBmYWxzZVxuICBwcml2YXRlIGdhbWVUaW1lciA9IDBcbiAgcHJpdmF0ZSBtYXhHYW1lVGltZSA9IDE4MCAvLyAz67aEXG4gIHByaXZhdGUgY3VycmVudExldmVsID0gMVxuICBwcml2YXRlIHRvdGFsU2NvcmUgPSAwXG4gIHByaXZhdGUgY29tYm8gPSAwXG4gIHByaXZhdGUgbWF4Q29tYm8gPSAwXG5cbiAgLy8gVUkg7JqU7IaMXG4gIHByaXZhdGUgc2NvcmVUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dCB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgdGltZXJUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dCB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgbGV2ZWxUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dCB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgY29tYm9UZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dCB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgcHJvZ3Jlc3NCYXI6IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljcyB8IG51bGwgPSBudWxsXG5cbiAgLy8g7J247YSw656Z7IWYXG4gIHByaXZhdGUgc2VsZWN0ZWRQaWVjZTogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lciB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgZHJhZ0RhdGE6IHsgc3RhcnRYOiBudW1iZXIsIHN0YXJ0WTogbnVtYmVyIH0gfCBudWxsID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yKGdhbWVNYW5hZ2VyOiBHYW1lRW5naW5lTWFuYWdlcikge1xuICAgIHN1cGVyKHsga2V5OiAnUHV6emxlUmFjZVNjZW5lJyB9KVxuICAgIHRoaXMuZ2FtZU1hbmFnZXIgPSBnYW1lTWFuYWdlclxuICB9XG5cbiAgcHJlbG9hZCgpOiB2b2lkIHtcbiAgICAvLyDquLDrs7gg64+E7ZiV65Ok7J2EIOy9lOuTnOuhnCDsg53shLFcbiAgICB0aGlzLmNyZWF0ZVNoYXBlVGV4dHVyZXMoKVxuICAgIGNvbnNvbGUubG9nKCdQdXp6bGVSYWNlU2NlbmU6IOyXkOyFiyDroZzrlKkg7JmE66OMJylcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlU2hhcGVUZXh0dXJlcygpOiB2b2lkIHtcbiAgICAvLyDsoJXsgqzqsIHtmJUg7YWN7Iqk7LKYIOyDneyEsVxuICAgIGNvbnN0IHNxdWFyZUdyYXBoaWNzID0gdGhpcy5hZGQuZ3JhcGhpY3MoKVxuICAgIHNxdWFyZUdyYXBoaWNzLmZpbGxTdHlsZSgweGZmZmZmZilcbiAgICBzcXVhcmVHcmFwaGljcy5maWxsUmVjdCgwLCAwLCA1MCwgNTApXG4gICAgc3F1YXJlR3JhcGhpY3MuZ2VuZXJhdGVUZXh0dXJlKCdzcXVhcmUnLCA1MCwgNTApXG4gICAgc3F1YXJlR3JhcGhpY3MuZGVzdHJveSgpXG5cbiAgICAvLyDsm5DtmJUg7YWN7Iqk7LKYIOyDneyEsVxuICAgIGNvbnN0IGNpcmNsZUdyYXBoaWNzID0gdGhpcy5hZGQuZ3JhcGhpY3MoKVxuICAgIGNpcmNsZUdyYXBoaWNzLmZpbGxTdHlsZSgweGZmZmZmZilcbiAgICBjaXJjbGVHcmFwaGljcy5maWxsQ2lyY2xlKDI1LCAyNSwgMjUpXG4gICAgY2lyY2xlR3JhcGhpY3MuZ2VuZXJhdGVUZXh0dXJlKCdjaXJjbGUnLCA1MCwgNTApXG4gICAgY2lyY2xlR3JhcGhpY3MuZGVzdHJveSgpXG5cbiAgICAvLyDsgrzqsIHtmJUg7YWN7Iqk7LKYIOyDneyEsVxuICAgIGNvbnN0IHRyaWFuZ2xlR3JhcGhpY3MgPSB0aGlzLmFkZC5ncmFwaGljcygpXG4gICAgdHJpYW5nbGVHcmFwaGljcy5maWxsU3R5bGUoMHhmZmZmZmYpXG4gICAgdHJpYW5nbGVHcmFwaGljcy5maWxsVHJpYW5nbGUoMjUsIDUsIDUsIDQ1LCA0NSwgNDUpXG4gICAgdHJpYW5nbGVHcmFwaGljcy5nZW5lcmF0ZVRleHR1cmUoJ3RyaWFuZ2xlJywgNTAsIDUwKVxuICAgIHRyaWFuZ2xlR3JhcGhpY3MuZGVzdHJveSgpXG4gIH1cblxuICBjcmVhdGUoKTogdm9pZCB7XG4gICAgLy8g67Cw6rK9IOyDneyEsVxuICAgIHRoaXMuY3JlYXRlQmFja2dyb3VuZCgpXG5cbiAgICAvLyBVSSDsg53shLFcbiAgICB0aGlzLmNyZWF0ZVVJKClcblxuICAgIC8vIO2NvOymkCDsmIHsl60g7IOd7ISxXG4gICAgdGhpcy5jcmVhdGVQdXp6bGVBcmVhKClcblxuICAgIC8vIOyyqyDrsojsp7gg66CI67KoIOyLnOyekVxuICAgIHRoaXMuZ2VuZXJhdGVMZXZlbCh0aGlzLmN1cnJlbnRMZXZlbClcblxuICAgIC8vIOyeheugpSDsspjrpqwg7ISk7KCVXG4gICAgdGhpcy5zZXR1cElucHV0KClcblxuICAgIGNvbnNvbGUubG9nKCdQdXp6bGVSYWNlU2NlbmU6IOyUrCDsg53shLEg7JmE66OMJylcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQmFja2dyb3VuZCgpOiB2b2lkIHtcbiAgICAvLyDqt7jrnbzrjbDsnbTshZgg67Cw6rK9XG4gICAgY29uc3QgZ3JhcGhpY3MgPSB0aGlzLmFkZC5ncmFwaGljcygpXG4gICAgZ3JhcGhpY3MuZmlsbEdyYWRpZW50U3R5bGUoMHgyRDFCNjksIDB4MTE5OThFLCAweDM4RUY3RCwgMHhGRkUwNjYpXG4gICAgZ3JhcGhpY3MuZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW1lcmFzLm1haW4ud2lkdGgsIHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodClcblxuICAgIC8vIO2MqO2EtCDrsLDqsr1cbiAgICBjb25zdCBwYXR0ZXJuU2l6ZSA9IDQwXG4gICAgZ3JhcGhpY3MubGluZVN0eWxlKDEsIDB4ZmZmZmZmLCAwLjEpXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDsgeCArPSBwYXR0ZXJuU2l6ZSkge1xuICAgICAgZ3JhcGhpY3MubW92ZVRvKHgsIDApXG4gICAgICBncmFwaGljcy5saW5lVG8oeCwgdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0KVxuICAgIH1cbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDsgeSArPSBwYXR0ZXJuU2l6ZSkge1xuICAgICAgZ3JhcGhpY3MubW92ZVRvKDAsIHkpXG4gICAgICBncmFwaGljcy5saW5lVG8odGhpcy5jYW1lcmFzLm1haW4ud2lkdGgsIHkpXG4gICAgfVxuICAgIGdyYXBoaWNzLnN0cm9rZVBhdGgoKVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVVSSgpOiB2b2lkIHtcbiAgICAvLyDsoJDsiJgg7ZGc7IucXG4gICAgdGhpcy5zY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KDIwLCAyMCwgJ1Njb3JlOiAwJywge1xuICAgICAgZm9udFNpemU6ICcyOHB4JyxcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNyknLFxuICAgICAgcGFkZGluZzogeyB4OiAxNSwgeTogOCB9XG4gICAgfSlcblxuICAgIC8vIO2DgOydtOuouCDtkZzsi5xcbiAgICB0aGlzLnRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQoMjAsIDcwLCAnVGltZTogMzowMCcsIHtcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXG4gICAgICBjb2xvcjogJyNmZmZmMDAnLFxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjcpJyxcbiAgICAgIHBhZGRpbmc6IHsgeDogMTUsIHk6IDggfVxuICAgIH0pXG5cbiAgICAvLyDroIjrsqgg7ZGc7IucXG4gICAgdGhpcy5sZXZlbFRleHQgPSB0aGlzLmFkZC50ZXh0KDIwLCAxMjAsICdMZXZlbDogMScsIHtcbiAgICAgIGZvbnRTaXplOiAnMjJweCcsXG4gICAgICBjb2xvcjogJyMwMGZmMDAnLFxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjcpJyxcbiAgICAgIHBhZGRpbmc6IHsgeDogMTUsIHk6IDggfVxuICAgIH0pXG5cbiAgICAvLyDsvaTrs7Qg7ZGc7IucXG4gICAgdGhpcy5jb21ib1RleHQgPSB0aGlzLmFkZC50ZXh0KDIwLCAxNzAsICdDb21ibzogMCcsIHtcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICBjb2xvcjogJyNmZjY2MDAnLFxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjcpJyxcbiAgICAgIHBhZGRpbmc6IHsgeDogMTUsIHk6IDggfVxuICAgIH0pXG5cbiAgICAvLyDsp4Ttlonrj4Qg67CUXG4gICAgdGhpcy5jcmVhdGVQcm9ncmVzc0JhcigpXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVByb2dyZXNzQmFyKCk6IHZvaWQge1xuICAgIGNvbnN0IGJhcldpZHRoID0gMzAwXG4gICAgY29uc3QgYmFySGVpZ2h0ID0gMjBcbiAgICBjb25zdCBiYXJYID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSBiYXJXaWR0aCAtIDIwXG4gICAgY29uc3QgYmFyWSA9IDIwXG5cbiAgICB0aGlzLnByb2dyZXNzQmFyID0gdGhpcy5hZGQuZ3JhcGhpY3MoKVxuXG4gICAgLy8g67Cw6rK9XG4gICAgdGhpcy5wcm9ncmVzc0Jhci5maWxsU3R5bGUoMHgzMzMzMzMsIDAuOClcbiAgICB0aGlzLnByb2dyZXNzQmFyLmZpbGxSb3VuZGVkUmVjdChiYXJYLCBiYXJZLCBiYXJXaWR0aCwgYmFySGVpZ2h0LCAxMClcblxuICAgIC8vIO2FjOuRkOumrFxuICAgIHRoaXMucHJvZ3Jlc3NCYXIubGluZVN0eWxlKDIsIDB4ZmZmZmZmLCAwLjgpXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zdHJva2VSb3VuZGVkUmVjdChiYXJYLCBiYXJZLCBiYXJXaWR0aCwgYmFySGVpZ2h0LCAxMClcblxuICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3NCYXIoMClcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlUHJvZ3Jlc3NCYXIocHJvZ3Jlc3M6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy5wcm9ncmVzc0JhcikgcmV0dXJuXG5cbiAgICBjb25zdCBiYXJXaWR0aCA9IDMwMFxuICAgIGNvbnN0IGJhckhlaWdodCA9IDIwXG4gICAgY29uc3QgYmFyWCA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gYmFyV2lkdGggLSAyMFxuICAgIGNvbnN0IGJhclkgPSAyMFxuXG4gICAgLy8g6riw7KG0IOynhO2WieuPhCDrsJQg7KeA7Jqw6riwXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5jbGVhcigpXG5cbiAgICAvLyDrsLDqsr1cbiAgICB0aGlzLnByb2dyZXNzQmFyLmZpbGxTdHlsZSgweDMzMzMzMywgMC44KVxuICAgIHRoaXMucHJvZ3Jlc3NCYXIuZmlsbFJvdW5kZWRSZWN0KGJhclgsIGJhclksIGJhcldpZHRoLCBiYXJIZWlnaHQsIDEwKVxuXG4gICAgLy8g7KeE7ZaJ64+EICgwLTEg7IKs7J20IOqwkilcbiAgICBjb25zdCBmaWxsV2lkdGggPSBiYXJXaWR0aCAqIE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHByb2dyZXNzKSlcbiAgICBpZiAoZmlsbFdpZHRoID4gMCkge1xuICAgICAgY29uc3QgY29sb3IgPSBwcm9ncmVzcyA8IDAuMyA/IDB4ZmYwMDAwIDogcHJvZ3Jlc3MgPCAwLjcgPyAweGZmYWEwMCA6IDB4MDBmZjAwXG4gICAgICB0aGlzLnByb2dyZXNzQmFyLmZpbGxTdHlsZShjb2xvciwgMC44KVxuICAgICAgdGhpcy5wcm9ncmVzc0Jhci5maWxsUm91bmRlZFJlY3QoYmFyWCwgYmFyWSwgZmlsbFdpZHRoLCBiYXJIZWlnaHQsIDEwKVxuICAgIH1cblxuICAgIC8vIO2FjOuRkOumrFxuICAgIHRoaXMucHJvZ3Jlc3NCYXIubGluZVN0eWxlKDIsIDB4ZmZmZmZmLCAwLjgpXG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zdHJva2VSb3VuZGVkUmVjdChiYXJYLCBiYXJZLCBiYXJXaWR0aCwgYmFySGVpZ2h0LCAxMClcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUHV6emxlQXJlYSgpOiB2b2lkIHtcbiAgICAvLyDtjbzsppAg7JmE7ISxIOyYgeyXrSAo7IOB64uoIOykkeyVmSlcbiAgICBjb25zdCBwdXp6bGVBcmVhWCA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC8gMlxuICAgIGNvbnN0IHB1enpsZUFyZWFZID0gMjAwXG5cbiAgICBjb25zdCBhcmVhR3JhcGhpY3MgPSB0aGlzLmFkZC5ncmFwaGljcygpXG4gICAgYXJlYUdyYXBoaWNzLmxpbmVTdHlsZSg0LCAweGZmZmZmZiwgMC44KVxuICAgIGFyZWFHcmFwaGljcy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuMylcbiAgICBhcmVhR3JhcGhpY3MuZmlsbFJvdW5kZWRSZWN0KHB1enpsZUFyZWFYIC0gMTUwLCBwdXp6bGVBcmVhWSAtIDEwMCwgMzAwLCAyMDAsIDE1KVxuICAgIGFyZWFHcmFwaGljcy5zdHJva2VSb3VuZGVkUmVjdChwdXp6bGVBcmVhWCAtIDE1MCwgcHV6emxlQXJlYVkgLSAxMDAsIDMwMCwgMjAwLCAxNSlcblxuICAgIGNvbnN0IGFyZWFMYWJlbCA9IHRoaXMuYWRkLnRleHQocHV6emxlQXJlYVgsIHB1enpsZUFyZWFZIC0gMTMwLCAnUFVaWkxFIEFSRUEnLCB7XG4gICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICBmb250U3R5bGU6ICdib2xkJ1xuICAgIH0pLnNldE9yaWdpbigwLjUpXG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlTGV2ZWwobGV2ZWw6IG51bWJlcik6IHZvaWQge1xuICAgIC8vIOq4sOyhtCDtjbzsppAg7KCV66asXG4gICAgdGhpcy5jbGVhclB1enpsZSgpXG5cbiAgICAvLyDroIjrsqjsl5Ag65Sw66W4IO2NvOymkCDrs7XsnqHrj4Qg6rKw7KCVXG4gICAgY29uc3QgcGllY2VDb3VudCA9IE1hdGgubWluKDQgKyBsZXZlbCwgMTIpIC8vIOy1nOyGjCA16rCcLCDstZzrjIAgMTLqsJxcbiAgICBjb25zdCBjb2xvcnMgPSBbMHhmZjAwMDAsIDB4MDBmZjAwLCAweDAwMDBmZiwgMHhmZmZmMDAsIDB4ZmYwMGZmLCAweDAwZmZmZiwgMHhmZmE1MDAsIDB4ODAwMDgwXVxuICAgIGNvbnN0IHNoYXBlczogQXJyYXk8J3NxdWFyZScgfCAnY2lyY2xlJyB8ICd0cmlhbmdsZSc+ID0gWydzcXVhcmUnLCAnY2lyY2xlJywgJ3RyaWFuZ2xlJ11cblxuICAgIHRoaXMucHV6emxlRGF0YSA9IFtdXG5cbiAgICAvLyDrqqntkZwg7Iqs66GvIOyDneyEsVxuICAgIHRoaXMuY3JlYXRlVGFyZ2V0U2xvdHMocGllY2VDb3VudClcblxuICAgIC8vIO2NvOymkCDsobDqsIHrk6Qg7IOd7ISxXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwaWVjZUNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IHBpZWNlOiBQdXp6bGVQaWVjZSA9IHtcbiAgICAgICAgaWQ6IGBwaWVjZV8ke2l9YCxcbiAgICAgICAgeDogMTAwICsgTWF0aC5yYW5kb20oKSAqICh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDIwMCksXG4gICAgICAgIHk6IDQ1MCArIE1hdGgucmFuZG9tKCkgKiAxNTAsXG4gICAgICAgIHRhcmdldFg6IHRoaXMudGFyZ2V0U2xvdHNbaV0ueCxcbiAgICAgICAgdGFyZ2V0WTogdGhpcy50YXJnZXRTbG90c1tpXS55LFxuICAgICAgICBjb2xvcjogY29sb3JzW2kgJSBjb2xvcnMubGVuZ3RoXSxcbiAgICAgICAgc2hhcGU6IHNoYXBlc1tpICUgc2hhcGVzLmxlbmd0aF0sXG4gICAgICAgIGlzUGxhY2VkOiBmYWxzZVxuICAgICAgfVxuXG4gICAgICB0aGlzLnB1enpsZURhdGEucHVzaChwaWVjZSlcbiAgICAgIHRoaXMuY3JlYXRlUHV6emxlUGllY2UocGllY2UpXG4gICAgfVxuXG4gICAgLy8g66CI67KoIOygleuztCDsl4XrjbDsnbTtirhcbiAgICB0aGlzLmxldmVsVGV4dD8uc2V0VGV4dChgTGV2ZWw6ICR7bGV2ZWx9YClcbiAgICBjb25zb2xlLmxvZyhg66CI67KoICR7bGV2ZWx9IOyDneyEsSDsmYTro4w6ICR7cGllY2VDb3VudH3qsJwg7KGw6rCBYClcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVGFyZ2V0U2xvdHMoY291bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudGFyZ2V0U2xvdHMgPSBbXVxuXG4gICAgY29uc3QgY2VudGVyWCA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC8gMlxuICAgIGNvbnN0IGNlbnRlclkgPSAyMDBcbiAgICBjb25zdCBjb2xzID0gTWF0aC5jZWlsKE1hdGguc3FydChjb3VudCkpXG4gICAgY29uc3Qgcm93cyA9IE1hdGguY2VpbChjb3VudCAvIGNvbHMpXG4gICAgY29uc3Qgc3BhY2luZyA9IDYwXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbCA9IGkgJSBjb2xzXG4gICAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKGkgLyBjb2xzKVxuXG4gICAgICBjb25zdCB4ID0gY2VudGVyWCAtIChjb2xzIC0gMSkgKiBzcGFjaW5nIC8gMiArIGNvbCAqIHNwYWNpbmdcbiAgICAgIGNvbnN0IHkgPSBjZW50ZXJZIC0gKHJvd3MgLSAxKSAqIHNwYWNpbmcgLyAyICsgcm93ICogc3BhY2luZ1xuXG4gICAgICBjb25zdCBzbG90R3JhcGhpY3MgPSB0aGlzLmFkZC5ncmFwaGljcygpXG4gICAgICBzbG90R3JhcGhpY3MueCA9IHhcbiAgICAgIHNsb3RHcmFwaGljcy55ID0geVxuICAgICAgc2xvdEdyYXBoaWNzLmxpbmVTdHlsZSgzLCAweDY2NjY2NiwgMC44KVxuICAgICAgc2xvdEdyYXBoaWNzLnN0cm9rZVJvdW5kZWRSZWN0KC0yNSwgLTI1LCA1MCwgNTAsIDgpXG4gICAgICBzbG90R3JhcGhpY3MuZmlsbFN0eWxlKDB4MzMzMzMzLCAwLjMpXG4gICAgICBzbG90R3JhcGhpY3MuZmlsbFJvdW5kZWRSZWN0KC0yNSwgLTI1LCA1MCwgNTAsIDgpXG5cbiAgICAgIHRoaXMudGFyZ2V0U2xvdHMucHVzaChzbG90R3JhcGhpY3MpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVQdXp6bGVQaWVjZShwaWVjZTogUHV6emxlUGllY2UpOiB2b2lkIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIocGllY2UueCwgcGllY2UueSlcblxuICAgIC8vIOuPhO2YlSDsiqTtlITrnbzsnbTtirhcbiAgICBjb25zdCBzaGFwZSA9IHRoaXMuYWRkLnNwcml0ZSgwLCAwLCBwaWVjZS5zaGFwZSlcbiAgICBzaGFwZS5zZXRUaW50KHBpZWNlLmNvbG9yKVxuICAgIHNoYXBlLnNldFNjYWxlKDAuOClcblxuICAgIC8vIOq4gOuhnOyasCDtmqjqs7xcbiAgICBjb25zdCBnbG93ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKVxuICAgIGdsb3cuZmlsbFN0eWxlKHBpZWNlLmNvbG9yLCAwLjMpXG4gICAgZ2xvdy5maWxsQ2lyY2xlKDAsIDAsIDMwKVxuXG4gICAgLy8g7YWM65GQ66asXG4gICAgY29uc3QgYm9yZGVyID0gdGhpcy5hZGQuZ3JhcGhpY3MoKVxuICAgIGJvcmRlci5saW5lU3R5bGUoMiwgMHhmZmZmZmYsIDAuOClcbiAgICBpZiAocGllY2Uuc2hhcGUgPT09ICdzcXVhcmUnKSB7XG4gICAgICBib3JkZXIuc3Ryb2tlUmVjdCgtMjAsIC0yMCwgNDAsIDQwKVxuICAgIH0gZWxzZSBpZiAocGllY2Uuc2hhcGUgPT09ICdjaXJjbGUnKSB7XG4gICAgICBib3JkZXIuc3Ryb2tlQ2lyY2xlKDAsIDAsIDIwKVxuICAgIH0gZWxzZSBpZiAocGllY2Uuc2hhcGUgPT09ICd0cmlhbmdsZScpIHtcbiAgICAgIGJvcmRlci5zdHJva2VUcmlhbmdsZSgtMjAsIDE1LCAyMCwgMTUsIDAsIC0xNSlcbiAgICB9XG5cbiAgICBjb250YWluZXIuYWRkKFtnbG93LCBzaGFwZSwgYm9yZGVyXSlcbiAgICBjb250YWluZXIuc2V0U2l6ZSg1MCwgNTApXG4gICAgY29udGFpbmVyLnNldEludGVyYWN0aXZlKHsgZHJhZ2dhYmxlOiB0cnVlIH0pXG5cbiAgICAvLyDrk5zrnpjqt7gg7J2067Kk7Yq4XG4gICAgY29udGFpbmVyLm9uKCdkcmFnc3RhcnQnLCAocG9pbnRlcjogUGhhc2VyLklucHV0LlBvaW50ZXIpID0+IHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRQaWVjZSA9IGNvbnRhaW5lclxuICAgICAgdGhpcy5kcmFnRGF0YSA9IHsgc3RhcnRYOiBjb250YWluZXIueCwgc3RhcnRZOiBjb250YWluZXIueSB9XG5cbiAgICAgIC8vIOyEoO2DnSDtmqjqs7xcbiAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgIHRhcmdldHM6IGNvbnRhaW5lcixcbiAgICAgICAgc2NhbGVYOiAxLjEsXG4gICAgICAgIHNjYWxlWTogMS4xLFxuICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBjb250YWluZXIub24oJ2RyYWcnLCAocG9pbnRlcjogUGhhc2VyLklucHV0LlBvaW50ZXIsIGRyYWdYOiBudW1iZXIsIGRyYWdZOiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnRhaW5lci54ID0gZHJhZ1hcbiAgICAgIGNvbnRhaW5lci55ID0gZHJhZ1lcbiAgICB9KVxuXG4gICAgY29udGFpbmVyLm9uKCdkcmFnZW5kJywgKHBvaW50ZXI6IFBoYXNlci5JbnB1dC5Qb2ludGVyKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZVBpZWNlRHJvcChjb250YWluZXIsIHBpZWNlKVxuICAgICAgdGhpcy5zZWxlY3RlZFBpZWNlID0gbnVsbFxuICAgICAgdGhpcy5kcmFnRGF0YSA9IG51bGxcblxuICAgICAgLy8g7YGs6riwIOuzteybkFxuICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgdGFyZ2V0czogY29udGFpbmVyLFxuICAgICAgICBzY2FsZVg6IDEsXG4gICAgICAgIHNjYWxlWTogMSxcbiAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8g7Zi467KEIO2aqOqzvFxuICAgIGNvbnRhaW5lci5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zZWxlY3RlZFBpZWNlICE9PSBjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICB0YXJnZXRzOiBjb250YWluZXIsXG4gICAgICAgICAgc2NhbGVYOiAxLjA1LFxuICAgICAgICAgIHNjYWxlWTogMS4wNSxcbiAgICAgICAgICBkdXJhdGlvbjogMTUwXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnRhaW5lci5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUGllY2UgIT09IGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgIHRhcmdldHM6IGNvbnRhaW5lcixcbiAgICAgICAgICBzY2FsZVg6IDEsXG4gICAgICAgICAgc2NhbGVZOiAxLFxuICAgICAgICAgIGR1cmF0aW9uOiAxNTBcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5wdXp6bGVQaWVjZXMuc2V0KHBpZWNlLmlkLCBjb250YWluZXIpXG4gICAgKGNvbnRhaW5lciBhcyBhbnkpLnBpZWNlRGF0YSA9IHBpZWNlXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBpZWNlRHJvcChjb250YWluZXI6IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIsIHBpZWNlOiBQdXp6bGVQaWVjZSk6IHZvaWQge1xuICAgIGxldCBjbG9zZXN0U2xvdDogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzIHwgbnVsbCA9IG51bGxcbiAgICBsZXQgbWluRGlzdGFuY2UgPSBJbmZpbml0eVxuICAgIGNvbnN0IHNuYXBEaXN0YW5jZSA9IDUwXG5cbiAgICAvLyDqsIDsnqUg6rCA6rmM7Jq0IOyKrOuhryDssL7quLBcbiAgICBmb3IgKGNvbnN0IHNsb3Qgb2YgdGhpcy50YXJnZXRTbG90cykge1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBQaGFzZXIuTWF0aC5EaXN0YW5jZS5CZXR3ZWVuKFxuICAgICAgICBjb250YWluZXIueCwgY29udGFpbmVyLnksIHNsb3QueCwgc2xvdC55XG4gICAgICApXG5cbiAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlICYmIGRpc3RhbmNlIDwgc25hcERpc3RhbmNlKSB7XG4gICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2VcbiAgICAgICAgY2xvc2VzdFNsb3QgPSBzbG90XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNsb3Nlc3RTbG90ICYmICFwaWVjZS5pc1BsYWNlZCkge1xuICAgICAgLy8g7Jis67CU66W4IOyKrOuhryDtmZXsnbggKOydtCDsmIjsoJzsl5DshJzripQg66qo65OgIOyKrOuhr+ydtCDsnKDtmqgpXG4gICAgICBjb25zdCB0YXJnZXRJbmRleCA9IHRoaXMudGFyZ2V0U2xvdHMuaW5kZXhPZihjbG9zZXN0U2xvdClcbiAgICAgIGNvbnN0IGlzQ29ycmVjdCA9IHRhcmdldEluZGV4ID49IDBcblxuICAgICAgaWYgKGlzQ29ycmVjdCkge1xuICAgICAgICAvLyDsoJXtmZXtlZwg67Cw7LmYXG4gICAgICAgIHBpZWNlLmlzUGxhY2VkID0gdHJ1ZVxuICAgICAgICBwaWVjZS50YXJnZXRYID0gY2xvc2VzdFNsb3QueFxuICAgICAgICBwaWVjZS50YXJnZXRZID0gY2xvc2VzdFNsb3QueVxuXG4gICAgICAgIC8vIOyKpOuDhSDslaDri4jrqZTsnbTshZhcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICB0YXJnZXRzOiBjb250YWluZXIsXG4gICAgICAgICAgeDogY2xvc2VzdFNsb3QueCxcbiAgICAgICAgICB5OiBjbG9zZXN0U2xvdC55LFxuICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgZWFzZTogJ0JhY2suZWFzZU91dCdcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDshLHqs7Ug7Zqo6rO8XG4gICAgICAgIHRoaXMuc2hvd1N1Y2Nlc3NFZmZlY3QoY2xvc2VzdFNsb3QueCwgY2xvc2VzdFNsb3QueSlcbiAgICAgICAgdGhpcy5nYW1lTWFuYWdlci5nZXRBdWRpb01hbmFnZXIoKS5wbGF5U291bmQoJ3BvaW50X3Njb3JlZCcpXG5cbiAgICAgICAgLy8g7KCQ7IiYIOy2lOqwgFxuICAgICAgICB0aGlzLmFkZFNjb3JlKDEwMCArIHRoaXMuY29tYm8gKiAyNSlcbiAgICAgICAgdGhpcy5jb21ibysrXG5cbiAgICAgICAgLy8g7Y287KaQIOyZhOyEsSDtmZXsnbhcbiAgICAgICAgdGhpcy5jaGVja1B1enpsZUNvbXBsZXRpb24oKVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDsnpjrqrvrkJwg67Cw7LmYIC0g7JuQ656YIOychOy5mOuhnCDrs7Xsm5BcbiAgICAgICAgdGhpcy5yZXR1cm5Ub09yaWdpbmFsUG9zaXRpb24oY29udGFpbmVyKVxuICAgICAgICB0aGlzLnJlc2V0Q29tYm8oKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyDsiqzroa8g67KU7JyEIOuwliAtIOybkOuemCDsnITsuZjroZwg67O17JuQXG4gICAgICB0aGlzLnJldHVyblRvT3JpZ2luYWxQb3NpdGlvbihjb250YWluZXIpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXR1cm5Ub09yaWdpbmFsUG9zaXRpb24oY29udGFpbmVyOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRyYWdEYXRhKSByZXR1cm5cblxuICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICB0YXJnZXRzOiBjb250YWluZXIsXG4gICAgICB4OiB0aGlzLmRyYWdEYXRhLnN0YXJ0WCxcbiAgICAgIHk6IHRoaXMuZHJhZ0RhdGEuc3RhcnRZLFxuICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgIGVhc2U6ICdCYWNrLmVhc2VPdXQnXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc2hvd1N1Y2Nlc3NFZmZlY3QoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyDtjIzti7DtgbQg7Zqo6rO8XG4gICAgY29uc3QgcGFydGljbGVzID0gdGhpcy5hZGQucGFydGljbGVzKHgsIHksICdjaXJjbGUnLCB7XG4gICAgICBzY2FsZTogeyBzdGFydDogMC4zLCBlbmQ6IDAgfSxcbiAgICAgIHNwZWVkOiB7IG1pbjogNTAsIG1heDogMTAwIH0sXG4gICAgICBhbHBoYTogeyBzdGFydDogMSwgZW5kOiAwIH0sXG4gICAgICBsaWZlc3BhbjogNTAwLFxuICAgICAgcXVhbnRpdHk6IDEwLFxuICAgICAgdGludDogWzB4ZmZmZjAwLCAweGZmNjYwMCwgMHhmZjAwNjZdXG4gICAgfSlcblxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAsICgpID0+IHtcbiAgICAgIHBhcnRpY2xlcy5kZXN0cm95KClcbiAgICB9KVxuXG4gICAgLy8g7KCQ7IiYIO2FjeyKpO2KuCDtmqjqs7xcbiAgICBjb25zdCBzY29yZVRleHQgPSB0aGlzLmFkZC50ZXh0KHgsIHkgLSAzMCwgYCskezEwMCArIHRoaXMuY29tYm8gKiAyNX1gLCB7XG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxuICAgICAgY29sb3I6ICcjZmZmZjAwJyxcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXG4gICAgfSkuc2V0T3JpZ2luKDAuNSlcblxuICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICB0YXJnZXRzOiBzY29yZVRleHQsXG4gICAgICB5OiB5IC0gODAsXG4gICAgICBhbHBoYTogMCxcbiAgICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4gc2NvcmVUZXh0LmRlc3Ryb3koKVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIGFkZFNjb3JlKHBvaW50czogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50b3RhbFNjb3JlICs9IHBvaW50c1xuICAgIHRoaXMuc2NvcmVUZXh0Py5zZXRUZXh0KGBTY29yZTogJHt0aGlzLnRvdGFsU2NvcmV9YClcblxuICAgIC8vIOyKpOy9lOyWtCDsl4XrjbDsnbTtirgg7Zqo6rO8XG4gICAgaWYgKHRoaXMuc2NvcmVUZXh0KSB7XG4gICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICB0YXJnZXRzOiB0aGlzLnNjb3JlVGV4dCxcbiAgICAgICAgc2NhbGVYOiAxLjIsXG4gICAgICAgIHNjYWxlWTogMS4yLFxuICAgICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgICB5b3lvOiB0cnVlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVzZXRDb21ibygpOiB2b2lkIHtcbiAgICB0aGlzLmNvbWJvID0gMFxuICAgIHRoaXMuY29tYm9UZXh0Py5zZXRUZXh0KGBDb21ibzogJHt0aGlzLmNvbWJvfWApXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUNvbWJvKCk6IHZvaWQge1xuICAgIHRoaXMubWF4Q29tYm8gPSBNYXRoLm1heCh0aGlzLm1heENvbWJvLCB0aGlzLmNvbWJvKVxuICAgIHRoaXMuY29tYm9UZXh0Py5zZXRUZXh0KGBDb21ibzogJHt0aGlzLmNvbWJvfWApXG5cbiAgICBpZiAodGhpcy5jb21ibyA+IDUpIHtcbiAgICAgIC8vIOuGkuydgCDsvaTrs7Qg7Zqo6rO8XG4gICAgICB0aGlzLmNvbWJvVGV4dD8uc2V0Q29sb3IoJyNmZjAwNjYnKVxuICAgIH0gZWxzZSBpZiAodGhpcy5jb21ibyA+IDIpIHtcbiAgICAgIHRoaXMuY29tYm9UZXh0Py5zZXRDb2xvcignI2ZmNjYwMCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29tYm9UZXh0Py5zZXRDb2xvcignI2ZmZmYwMCcpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1B1enpsZUNvbXBsZXRpb24oKTogdm9pZCB7XG4gICAgY29uc3QgY29tcGxldGVkUGllY2VzID0gdGhpcy5wdXp6bGVEYXRhLmZpbHRlcihwaWVjZSA9PiBwaWVjZS5pc1BsYWNlZCkubGVuZ3RoXG4gICAgY29uc3QgdG90YWxQaWVjZXMgPSB0aGlzLnB1enpsZURhdGEubGVuZ3RoXG5cbiAgICAvLyDsp4Ttlonrj4Qg7JeF642w7J207Yq4XG4gICAgdGhpcy51cGRhdGVQcm9ncmVzc0Jhcihjb21wbGV0ZWRQaWVjZXMgLyB0b3RhbFBpZWNlcylcblxuICAgIGlmIChjb21wbGV0ZWRQaWVjZXMgPT09IHRvdGFsUGllY2VzKSB7XG4gICAgICAvLyDroIjrsqgg7JmE66OMIVxuICAgICAgdGhpcy5jb21wbGV0ZUxldmVsKClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbXBsZXRlTGV2ZWwoKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coYOugiOuyqCAke3RoaXMuY3VycmVudExldmVsfSDsmYTro4whYClcblxuICAgIC8vIOugiOuyqCDsmYTro4wg67O064SI7IqkXG4gICAgY29uc3QgdGltZUJvbnVzID0gTWF0aC5tYXgoMCwgKHRoaXMubWF4R2FtZVRpbWUgLSB0aGlzLmdhbWVUaW1lcikgKiAxMClcbiAgICBjb25zdCBjb21ib0JvbnVzID0gdGhpcy5tYXhDb21ibyAqIDUwXG4gICAgY29uc3QgbGV2ZWxCb251cyA9IHRoaXMuY3VycmVudExldmVsICogMjAwXG5cbiAgICBjb25zdCB0b3RhbEJvbnVzID0gdGltZUJvbnVzICsgY29tYm9Cb251cyArIGxldmVsQm9udXNcbiAgICB0aGlzLmFkZFNjb3JlKHRvdGFsQm9udXMpXG5cbiAgICAvLyDsmYTro4wg7Zqo6rO8XG4gICAgdGhpcy5zaG93TGV2ZWxDb21wbGV0ZUVmZmVjdCgpXG5cbiAgICAvLyDri6TsnYwg66CI67KoIOykgOu5hFxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRMZXZlbCsrXG4gICAgICB0aGlzLmdlbmVyYXRlTGV2ZWwodGhpcy5jdXJyZW50TGV2ZWwpXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc2hvd0xldmVsQ29tcGxldGVFZmZlY3QoKTogdm9pZCB7XG4gICAgY29uc3QgY2VudGVyWCA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC8gMlxuICAgIGNvbnN0IGNlbnRlclkgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQgLyAyXG5cbiAgICAvLyDsmYTro4wg7YWN7Iqk7Yq4XG4gICAgY29uc3QgY29tcGxldGVUZXh0ID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCBjZW50ZXJZLCAnTEVWRUwgQ09NUExFVEUhJywge1xuICAgICAgZm9udFNpemU6ICc0OHB4JyxcbiAgICAgIGNvbG9yOiAnI2ZmZmYwMCcsXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcbiAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxuICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0XG4gICAgfSkuc2V0T3JpZ2luKDAuNSlcblxuICAgIC8vIOyVoOuLiOuplOydtOyFmFxuICAgIGNvbXBsZXRlVGV4dC5zZXRTY2FsZSgwKVxuICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICB0YXJnZXRzOiBjb21wbGV0ZVRleHQsXG4gICAgICBzY2FsZVg6IDEsXG4gICAgICBzY2FsZVk6IDEsXG4gICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgZWFzZTogJ0JhY2suZWFzZU91dCcsXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxNTAwLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgIHRhcmdldHM6IGNvbXBsZXRlVGV4dCxcbiAgICAgICAgICAgIGFscGhhOiAwLFxuICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IGNvbXBsZXRlVGV4dC5kZXN0cm95KClcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyDtjIzti7DtgbQg7Y+t67CcIO2aqOqzvFxuICAgIGNvbnN0IHBhcnRpY2xlcyA9IHRoaXMuYWRkLnBhcnRpY2xlcyhjZW50ZXJYLCBjZW50ZXJZLCAnY2lyY2xlJywge1xuICAgICAgc2NhbGU6IHsgc3RhcnQ6IDAuNSwgZW5kOiAwIH0sXG4gICAgICBzcGVlZDogeyBtaW46IDEwMCwgbWF4OiAzMDAgfSxcbiAgICAgIGFscGhhOiB7IHN0YXJ0OiAxLCBlbmQ6IDAgfSxcbiAgICAgIGxpZmVzcGFuOiAyMDAwLFxuICAgICAgcXVhbnRpdHk6IDUwLFxuICAgICAgdGludDogWzB4ZmZmZjAwLCAweGZmNjYwMCwgMHhmZjAwNjYsIDB4MDBmZjAwLCAweDAwNjZmZl1cbiAgICB9KVxuXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcbiAgICAgIHBhcnRpY2xlcy5kZXN0cm95KClcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBjbGVhclB1enpsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnB1enpsZVBpZWNlcy5mb3JFYWNoKHBpZWNlID0+IHBpZWNlLmRlc3Ryb3koKSlcbiAgICB0aGlzLnB1enpsZVBpZWNlcy5jbGVhcigpXG4gICAgdGhpcy5wdXp6bGVEYXRhID0gW11cblxuICAgIHRoaXMudGFyZ2V0U2xvdHMuZm9yRWFjaChzbG90ID0+IHNsb3QuZGVzdHJveSgpKVxuICAgIHRoaXMudGFyZ2V0U2xvdHMgPSBbXVxuXG4gICAgdGhpcy5jb21ibyA9IDBcbiAgICB0aGlzLnVwZGF0ZUNvbWJvKClcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBJbnB1dCgpOiB2b2lkIHtcbiAgICBjb25zdCBpbnB1dE1hbmFnZXIgPSB0aGlzLmdhbWVNYW5hZ2VyLmdldElucHV0TWFuYWdlcigpXG5cbiAgICAvLyDtgqTrs7Trk5wg64uo7LaV7YKkXG4gICAgaW5wdXRNYW5hZ2VyLm9uKCdrZXlkb3duJywgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgaWYgKGRhdGEua2V5ID09PSAnS2V5UicpIHtcbiAgICAgICAgLy8gUu2CpOuhnCDtjbzsppAg66as7IWLXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVMZXZlbCh0aGlzLmN1cnJlbnRMZXZlbClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8g7Jm467aAIO2YuOy2nCDrqZTshJzrk5xcbiAgc3RhcnRHYW1lKCk6IHZvaWQge1xuICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSB0cnVlXG4gICAgY29uc29sZS5sb2coJ1B1enpsZVJhY2Ug6rKM7J6EIOyLnOyekSEnKVxuXG4gICAgdGhpcy5nYW1lTWFuYWdlci5nZXRBdWRpb01hbmFnZXIoKS5wbGF5U291bmQoJ2dhbWVfc3RhcnQnKVxuXG4gICAgLy8g7YOA7J2066i4IOyLnOyekVxuICAgIHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICBkZWxheTogMTAwMCxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuZ2FtZVRpbWVyKytcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcigpXG4gICAgICB9LFxuICAgICAgbG9vcDogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBvbk5ldHdvcmtNZXNzYWdlKG1lc3NhZ2U6IE5ldHdvcmtNZXNzYWdlKTogdm9pZCB7XG4gICAgLy8g66mA7Yuw7ZSM66CI7J207Ja07JqpIOuEpO2KuOybjO2BrCDrqZTsi5zsp4Ag7LKY66asXG4gICAgY29uc29sZS5sb2coJ1B1enpsZVJhY2Ug64Sk7Yq47JuM7YGsIOuplOyLnOyngDonLCBtZXNzYWdlKVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVUaW1lcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudGltZXJUZXh0KSByZXR1cm5cblxuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKCh0aGlzLm1heEdhbWVUaW1lIC0gdGhpcy5nYW1lVGltZXIpIC8gNjApXG4gICAgY29uc3Qgc2Vjb25kcyA9ICh0aGlzLm1heEdhbWVUaW1lIC0gdGhpcy5nYW1lVGltZXIpICUgNjBcblxuICAgIHRoaXMudGltZXJUZXh0LnNldFRleHQoYFRpbWU6ICR7bWludXRlc306JHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gKVxuXG4gICAgaWYgKHRoaXMuZ2FtZVRpbWVyID49IHRoaXMubWF4R2FtZVRpbWUpIHtcbiAgICAgIHRoaXMuZW5kR2FtZSgpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBlbmRHYW1lKCk6IHZvaWQge1xuICAgIHRoaXMuZ2FtZVN0YXJ0ZWQgPSBmYWxzZVxuICAgIGNvbnNvbGUubG9nKCdQdXp6bGVSYWNlIOqyjOyehCDsooXro4whJylcblxuICAgIC8vIOy1nOyihSDsoJDsiJgg6rOE7IKwXG4gICAgY29uc3QgZmluYWxTY29yZSA9IHRoaXMudG90YWxTY29yZSArIHRoaXMubWF4Q29tYm8gKiAxMDBcbiAgICB0aGlzLmdhbWVNYW5hZ2VyLmVuZEdhbWUoZmluYWxTY29yZSlcbiAgfVxuXG4gIHVwZGF0ZSh0aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZ2FtZVN0YXJ0ZWQpIHJldHVyblxuXG4gICAgLy8g7L2k67O0IOyXheuNsOydtO2KuFxuICAgIHRoaXMudXBkYXRlQ29tYm8oKVxuICB9XG59Il0sIm5hbWVzIjpbIlBoYXNlciIsIlB1enpsZVJhY2VTY2VuZSIsIlNjZW5lIiwiY29uc3RydWN0b3IiLCJnYW1lTWFuYWdlciIsImtleSIsInB1enpsZVBpZWNlcyIsIk1hcCIsInB1enpsZURhdGEiLCJ0YXJnZXRTbG90cyIsImdhbWVTdGFydGVkIiwiZ2FtZVRpbWVyIiwibWF4R2FtZVRpbWUiLCJjdXJyZW50TGV2ZWwiLCJ0b3RhbFNjb3JlIiwiY29tYm8iLCJtYXhDb21ibyIsInNjb3JlVGV4dCIsInRpbWVyVGV4dCIsImxldmVsVGV4dCIsImNvbWJvVGV4dCIsInByb2dyZXNzQmFyIiwic2VsZWN0ZWRQaWVjZSIsImRyYWdEYXRhIiwicHJlbG9hZCIsImNyZWF0ZVNoYXBlVGV4dHVyZXMiLCJjb25zb2xlIiwibG9nIiwic3F1YXJlR3JhcGhpY3MiLCJhZGQiLCJncmFwaGljcyIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZ2VuZXJhdGVUZXh0dXJlIiwiZGVzdHJveSIsImNpcmNsZUdyYXBoaWNzIiwiZmlsbENpcmNsZSIsInRyaWFuZ2xlR3JhcGhpY3MiLCJmaWxsVHJpYW5nbGUiLCJjcmVhdGUiLCJjcmVhdGVCYWNrZ3JvdW5kIiwiY3JlYXRlVUkiLCJjcmVhdGVQdXp6bGVBcmVhIiwiZ2VuZXJhdGVMZXZlbCIsInNldHVwSW5wdXQiLCJmaWxsR3JhZGllbnRTdHlsZSIsImNhbWVyYXMiLCJtYWluIiwid2lkdGgiLCJoZWlnaHQiLCJwYXR0ZXJuU2l6ZSIsImxpbmVTdHlsZSIsIngiLCJtb3ZlVG8iLCJsaW5lVG8iLCJ5Iiwic3Ryb2tlUGF0aCIsInRleHQiLCJmb250U2l6ZSIsImNvbG9yIiwiZm9udEZhbWlseSIsImZvbnRTdHlsZSIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJjcmVhdGVQcm9ncmVzc0JhciIsImJhcldpZHRoIiwiYmFySGVpZ2h0IiwiYmFyWCIsImJhclkiLCJmaWxsUm91bmRlZFJlY3QiLCJzdHJva2VSb3VuZGVkUmVjdCIsInVwZGF0ZVByb2dyZXNzQmFyIiwicHJvZ3Jlc3MiLCJjbGVhciIsImZpbGxXaWR0aCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJwdXp6bGVBcmVhWCIsInB1enpsZUFyZWFZIiwiYXJlYUdyYXBoaWNzIiwiYXJlYUxhYmVsIiwic2V0T3JpZ2luIiwibGV2ZWwiLCJjbGVhclB1enpsZSIsInBpZWNlQ291bnQiLCJjb2xvcnMiLCJzaGFwZXMiLCJjcmVhdGVUYXJnZXRTbG90cyIsImkiLCJwaWVjZSIsImlkIiwicmFuZG9tIiwidGFyZ2V0WCIsInRhcmdldFkiLCJsZW5ndGgiLCJzaGFwZSIsImlzUGxhY2VkIiwicHVzaCIsImNyZWF0ZVB1enpsZVBpZWNlIiwic2V0VGV4dCIsImNvdW50IiwiY2VudGVyWCIsImNlbnRlclkiLCJjb2xzIiwiY2VpbCIsInNxcnQiLCJyb3dzIiwic3BhY2luZyIsImNvbCIsInJvdyIsImZsb29yIiwic2xvdEdyYXBoaWNzIiwiY29udGFpbmVyIiwic3ByaXRlIiwic2V0VGludCIsInNldFNjYWxlIiwiZ2xvdyIsImJvcmRlciIsInN0cm9rZVJlY3QiLCJzdHJva2VDaXJjbGUiLCJzdHJva2VUcmlhbmdsZSIsInNldFNpemUiLCJzZXRJbnRlcmFjdGl2ZSIsImRyYWdnYWJsZSIsIm9uIiwicG9pbnRlciIsInN0YXJ0WCIsInN0YXJ0WSIsInR3ZWVucyIsInRhcmdldHMiLCJzY2FsZVgiLCJzY2FsZVkiLCJkdXJhdGlvbiIsImRyYWdYIiwiZHJhZ1kiLCJoYW5kbGVQaWVjZURyb3AiLCJzZXQiLCJwaWVjZURhdGEiLCJjbG9zZXN0U2xvdCIsIm1pbkRpc3RhbmNlIiwiSW5maW5pdHkiLCJzbmFwRGlzdGFuY2UiLCJzbG90IiwiZGlzdGFuY2UiLCJEaXN0YW5jZSIsIkJldHdlZW4iLCJ0YXJnZXRJbmRleCIsImluZGV4T2YiLCJpc0NvcnJlY3QiLCJlYXNlIiwic2hvd1N1Y2Nlc3NFZmZlY3QiLCJnZXRBdWRpb01hbmFnZXIiLCJwbGF5U291bmQiLCJhZGRTY29yZSIsImNoZWNrUHV6emxlQ29tcGxldGlvbiIsInJldHVyblRvT3JpZ2luYWxQb3NpdGlvbiIsInJlc2V0Q29tYm8iLCJwYXJ0aWNsZXMiLCJzY2FsZSIsInN0YXJ0IiwiZW5kIiwic3BlZWQiLCJhbHBoYSIsImxpZmVzcGFuIiwicXVhbnRpdHkiLCJ0aW50IiwidGltZSIsImRlbGF5ZWRDYWxsIiwib25Db21wbGV0ZSIsInBvaW50cyIsInlveW8iLCJ1cGRhdGVDb21ibyIsInNldENvbG9yIiwiY29tcGxldGVkUGllY2VzIiwiZmlsdGVyIiwidG90YWxQaWVjZXMiLCJjb21wbGV0ZUxldmVsIiwidGltZUJvbnVzIiwiY29tYm9Cb251cyIsImxldmVsQm9udXMiLCJ0b3RhbEJvbnVzIiwic2hvd0xldmVsQ29tcGxldGVFZmZlY3QiLCJjb21wbGV0ZVRleHQiLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJmb3JFYWNoIiwiaW5wdXRNYW5hZ2VyIiwiZ2V0SW5wdXRNYW5hZ2VyIiwiZGF0YSIsInN0YXJ0R2FtZSIsImFkZEV2ZW50IiwiZGVsYXkiLCJjYWxsYmFjayIsInVwZGF0ZVRpbWVyIiwibG9vcCIsIm9uTmV0d29ya01lc3NhZ2UiLCJtZXNzYWdlIiwibWludXRlcyIsInNlY29uZHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiZW5kR2FtZSIsImZpbmFsU2NvcmUiLCJ1cGRhdGUiLCJkZWx0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/game-engine/scenes/PuzzleRaceScene.ts\n");

/***/ }),

/***/ "./src/lib/game-engine/scenes/RhythmActionScene.ts":
/*!*********************************************************!*\
  !*** ./src/lib/game-engine/scenes/RhythmActionScene.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RhythmActionScene: () => (/* binding */ RhythmActionScene)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n\nclass RhythmActionScene extends (phaser__WEBPACK_IMPORTED_MODULE_0___default().Scene) {\n    constructor(gameManager){\n        super({\n            key: \"RhythmActionScene\"\n        });\n        this.beatNotes = [];\n        this.activeNotes = new Map();\n        // 게임 상태\n        this.gameStarted = false;\n        this.songTime = 0 // 현재 노래 시간 (ms)\n        ;\n        this.bpm = 120 // 분당 비트 수\n        ;\n        this.currentCombo = 0;\n        this.maxCombo = 0;\n        this.totalScore = 0;\n        this.accuracy = 100;\n        // 판정 카운트\n        this.judgementCounts = {\n            perfect: 0,\n            great: 0,\n            good: 0,\n            miss: 0\n        };\n        // 게임 설정\n        this.LANE_COUNT = 4;\n        this.FALL_TIME = 2000 // 노트가 떨어지는 시간 (ms)\n        ;\n        this.JUDGMENT_LINE_Y = 500;\n        this.PERFECT_WINDOW = 50 // ±50ms\n        ;\n        this.GREAT_WINDOW = 100 // ±100ms\n        ;\n        this.GOOD_WINDOW = 150 // ±150ms\n        ;\n        // UI 요소\n        this.laneGraphics = [];\n        this.laneKeys = [];\n        this.judgmentLine = null;\n        this.scoreText = null;\n        this.comboText = null;\n        this.accuracyText = null;\n        this.judgmentText = null;\n        this.gameManager = gameManager;\n    }\n    preload() {\n        // 노트 텍스처 생성\n        this.createNoteTextures();\n        console.log(\"RhythmActionScene: 에셋 로딩 완료\");\n    }\n    createNoteTextures() {\n        // 일반 노트 텍스처\n        const normalNote = this.add.graphics();\n        normalNote.fillStyle(0x00aaff);\n        normalNote.fillRoundedRect(0, 0, 80, 20, 5);\n        normalNote.lineStyle(2, 0xffffff, 1);\n        normalNote.strokeRoundedRect(0, 0, 80, 20, 5);\n        normalNote.generateTexture(\"normal_note\", 80, 20);\n        normalNote.destroy();\n        // 롱 노트 시작\n        const longNoteStart = this.add.graphics();\n        longNoteStart.fillStyle(0xff6600);\n        longNoteStart.fillRoundedRect(0, 0, 80, 20, 5);\n        longNoteStart.lineStyle(2, 0xffffff, 1);\n        longNoteStart.strokeRoundedRect(0, 0, 80, 20, 5);\n        longNoteStart.generateTexture(\"long_note_start\", 80, 20);\n        longNoteStart.destroy();\n        // 특수 노트 텍스처\n        const specialNote = this.add.graphics();\n        specialNote.fillStyle(0xff0088);\n        specialNote.fillRoundedRect(0, 0, 80, 20, 5);\n        specialNote.lineStyle(3, 0xffff00, 1);\n        specialNote.strokeRoundedRect(0, 0, 80, 20, 5);\n        specialNote.generateTexture(\"special_note\", 80, 20);\n        specialNote.destroy();\n    }\n    create() {\n        // 배경 생성\n        this.createBackground();\n        // 게임 레인 생성\n        this.createGameLanes();\n        // UI 생성\n        this.createUI();\n        // 비트맵 생성 (테스트용 패턴)\n        this.generateBeatmap();\n        // 입력 처리 설정\n        this.setupInput();\n        console.log(\"RhythmActionScene: 씬 생성 완료\");\n    }\n    createBackground() {\n        // 동적 배경 그라데이션\n        const graphics = this.add.graphics();\n        graphics.fillGradientStyle(0x1a0033, 0x330066, 0x6600cc, 0x9933ff);\n        graphics.fillRect(0, 0, this.cameras.main.width, this.cameras.main.height);\n        // 비주얼라이저 스타일 배경 패턴\n        for(let i = 0; i < 20; i++){\n            const line = this.add.graphics();\n            line.lineStyle(2, 0xffffff, 0.1);\n            line.moveTo(0, i * 30);\n            line.lineTo(this.cameras.main.width, i * 30);\n            line.strokePath();\n            // 펄스 애니메이션\n            this.tweens.add({\n                targets: line,\n                alpha: 0.3,\n                duration: 1000 + Math.random() * 1000,\n                yoyo: true,\n                repeat: -1,\n                delay: Math.random() * 2000\n            });\n        }\n    }\n    createGameLanes() {\n        const laneWidth = 100;\n        const laneSpacing = 10;\n        const totalWidth = (laneWidth + laneSpacing) * this.LANE_COUNT - laneSpacing;\n        const startX = (this.cameras.main.width - totalWidth) / 2;\n        for(let i = 0; i < this.LANE_COUNT; i++){\n            const laneX = startX + i * (laneWidth + laneSpacing);\n            // 레인 배경\n            const laneGraphic = this.add.graphics();\n            laneGraphic.fillStyle(0x000033, 0.5);\n            laneGraphic.fillRoundedRect(laneX, 50, laneWidth, this.cameras.main.height - 100, 10);\n            laneGraphic.lineStyle(2, 0x6666ff, 0.8);\n            laneGraphic.strokeRoundedRect(laneX, 50, laneWidth, this.cameras.main.height - 100, 10);\n            this.laneGraphics.push(laneGraphic);\n            // 키 표시\n            const keyLabels = [\n                \"D\",\n                \"F\",\n                \"J\",\n                \"K\"\n            ];\n            const keyText = this.add.text(laneX + laneWidth / 2, this.JUDGMENT_LINE_Y + 40, keyLabels[i], {\n                fontSize: \"32px\",\n                color: \"#ffffff\",\n                fontFamily: \"Arial\",\n                fontStyle: \"bold\",\n                backgroundColor: \"rgba(0,0,0,0.7)\",\n                padding: {\n                    x: 10,\n                    y: 5\n                }\n            }).setOrigin(0.5);\n            this.laneKeys.push(keyText);\n        }\n        // 판정선 생성\n        this.judgmentLine = this.add.graphics();\n        this.judgmentLine.lineStyle(4, 0xffff00, 1);\n        this.judgmentLine.moveTo(startX - 20, this.JUDGMENT_LINE_Y);\n        this.judgmentLine.lineTo(startX + totalWidth + 20, this.JUDGMENT_LINE_Y);\n        this.judgmentLine.strokePath();\n        // 판정선 글로우 효과\n        this.tweens.add({\n            targets: this.judgmentLine,\n            alpha: 0.7,\n            duration: 500,\n            yoyo: true,\n            repeat: -1\n        });\n    }\n    createUI() {\n        // 점수 표시\n        this.scoreText = this.add.text(50, 50, \"Score: 0\", {\n            fontSize: \"32px\",\n            color: \"#ffffff\",\n            fontFamily: \"Arial\",\n            fontStyle: \"bold\",\n            backgroundColor: \"rgba(0,0,0,0.8)\",\n            padding: {\n                x: 15,\n                y: 10\n            }\n        });\n        // 콤보 표시\n        this.comboText = this.add.text(50, 100, \"Combo: 0\", {\n            fontSize: \"28px\",\n            color: \"#ffaa00\",\n            fontFamily: \"Arial\",\n            fontStyle: \"bold\",\n            backgroundColor: \"rgba(0,0,0,0.8)\",\n            padding: {\n                x: 15,\n                y: 10\n            }\n        });\n        // 정확도 표시\n        this.accuracyText = this.add.text(50, 150, \"Accuracy: 100.0%\", {\n            fontSize: \"24px\",\n            color: \"#00ff88\",\n            fontFamily: \"Arial\",\n            fontStyle: \"bold\",\n            backgroundColor: \"rgba(0,0,0,0.8)\",\n            padding: {\n                x: 15,\n                y: 10\n            }\n        });\n        // 판정 텍스트 (중앙)\n        this.judgmentText = this.add.text(this.cameras.main.width / 2, 300, \"\", {\n            fontSize: \"48px\",\n            color: \"#ffffff\",\n            fontFamily: \"Arial\",\n            fontStyle: \"bold\",\n            stroke: \"#000000\",\n            strokeThickness: 4\n        }).setOrigin(0.5);\n        // BPM 표시\n        this.add.text(this.cameras.main.width - 50, 50, `BPM: ${this.bpm}`, {\n            fontSize: \"20px\",\n            color: \"#ffffff\",\n            fontFamily: \"Arial\",\n            backgroundColor: \"rgba(0,0,0,0.8)\",\n            padding: {\n                x: 10,\n                y: 5\n            }\n        }).setOrigin(1, 0);\n    }\n    generateBeatmap() {\n        // 테스트용 비트맵 생성 (실제로는 음악 파일과 동기화)\n        const songLength = 120000 // 2분\n        ;\n        const beatInterval = 60000 / this.bpm // BPM을 밀리초로 변환\n        ;\n        this.beatNotes = [];\n        // 패턴 생성 (간단한 4/4 박자)\n        for(let time = 2000; time < songLength; time += beatInterval){\n            // 기본 패턴 (매 박자마다 노트)\n            if (Math.random() > 0.3) {\n                const note = {\n                    id: `note_${time}_${Math.random()}`,\n                    lane: Math.floor(Math.random() * this.LANE_COUNT),\n                    hitTime: time,\n                    type: this.getRandomNoteType(),\n                    isHit: false,\n                    perfect: false\n                };\n                // 롱 노트의 경우 지속 시간 설정\n                if (note.type === \"long\") {\n                    note.duration = beatInterval * 2 + Math.random() * beatInterval * 2;\n                }\n                this.beatNotes.push(note);\n            }\n            // 복잡한 패턴 (반박자)\n            if (Math.random() > 0.7 && time + beatInterval / 2 < songLength) {\n                const halfBeatNote = {\n                    id: `note_${time + beatInterval / 2}_${Math.random()}`,\n                    lane: Math.floor(Math.random() * this.LANE_COUNT),\n                    hitTime: time + beatInterval / 2,\n                    type: \"normal\",\n                    isHit: false,\n                    perfect: false\n                };\n                this.beatNotes.push(halfBeatNote);\n            }\n        }\n        // 시간순으로 정렬\n        this.beatNotes.sort((a, b)=>a.hitTime - b.hitTime);\n        console.log(`비트맵 생성 완료: ${this.beatNotes.length}개 노트`);\n    }\n    getRandomNoteType() {\n        const rand = Math.random();\n        if (rand < 0.7) return \"normal\";\n        if (rand < 0.9) return \"long\";\n        return \"special\";\n    }\n    spawnNote(note) {\n        const laneWidth = 100;\n        const laneSpacing = 10;\n        const totalWidth = (laneWidth + laneSpacing) * this.LANE_COUNT - laneSpacing;\n        const startX = (this.cameras.main.width - totalWidth) / 2;\n        const noteX = startX + note.lane * (laneWidth + laneSpacing) + laneWidth / 2;\n        const container = this.add.container(noteX, 50);\n        // 노트 타입에 따른 스프라이트\n        let noteSprite;\n        switch(note.type){\n            case \"long\":\n                noteSprite = this.add.sprite(0, 0, \"long_note_start\");\n                break;\n            case \"special\":\n                noteSprite = this.add.sprite(0, 0, \"special_note\");\n                break;\n            default:\n                noteSprite = this.add.sprite(0, 0, \"normal_note\");\n        }\n        // 글로우 효과\n        const glow = this.add.graphics();\n        const glowColor = note.type === \"special\" ? 0xff0088 : note.type === \"long\" ? 0xff6600 : 0x00aaff;\n        glow.fillStyle(glowColor, 0.3);\n        glow.fillCircle(0, 0, 50);\n        container.add([\n            glow,\n            noteSprite\n        ]);\n        // 롱 노트의 경우 꼬리 생성\n        if (note.type === \"long\" && note.duration) {\n            const tailHeight = note.duration / this.FALL_TIME * (this.JUDGMENT_LINE_Y - 50);\n            const tail = this.add.graphics();\n            tail.fillStyle(0xff6600, 0.6);\n            tail.fillRect(-40, 10, 80, tailHeight);\n            container.add(tail);\n        }\n        // 하강 애니메이션\n        this.tweens.add({\n            targets: container,\n            y: this.JUDGMENT_LINE_Y,\n            duration: this.FALL_TIME,\n            ease: \"Linear\",\n            onComplete: ()=>{\n                if (!note.isHit) {\n                    this.handleMiss(note);\n                }\n                container.destroy();\n                this.activeNotes.delete(note.id);\n            }\n        });\n        this.activeNotes.set(note.id, container)(container).noteData = note;\n    }\n    setupInput() {\n        const inputManager = this.gameManager.getInputManager();\n        const laneKeys = [\n            \"KeyD\",\n            \"KeyF\",\n            \"KeyJ\",\n            \"KeyK\"\n        ];\n        laneKeys.forEach((key, laneIndex)=>{\n            inputManager.on(\"keydown\", (data)=>{\n                if (data.key === key) {\n                    this.handleLanePress(laneIndex);\n                    this.showLanePress(laneIndex);\n                }\n            });\n        });\n    }\n    handleLanePress(laneIndex) {\n        // 해당 레인의 가장 가까운 노트 찾기\n        let closestNote = null;\n        let minTimeDiff = Infinity;\n        for (const note of this.beatNotes){\n            if (note.lane === laneIndex && !note.isHit) {\n                const timeDiff = Math.abs(note.hitTime - this.songTime);\n                if (timeDiff < minTimeDiff && timeDiff <= this.GOOD_WINDOW) {\n                    minTimeDiff = timeDiff;\n                    closestNote = note;\n                }\n            }\n        }\n        if (closestNote) {\n            const judgment = this.getJudgment(minTimeDiff);\n            this.handleNoteHit(closestNote, judgment);\n        } else {\n            // 빈 타이밍 - 콤보 중단\n            this.breakCombo();\n        }\n    }\n    getJudgment(timeDiff) {\n        if (timeDiff <= this.PERFECT_WINDOW) {\n            return {\n                type: \"perfect\",\n                points: 300,\n                combo: true\n            };\n        } else if (timeDiff <= this.GREAT_WINDOW) {\n            return {\n                type: \"great\",\n                points: 200,\n                combo: true\n            };\n        } else if (timeDiff <= this.GOOD_WINDOW) {\n            return {\n                type: \"good\",\n                points: 100,\n                combo: true\n            };\n        } else {\n            return {\n                type: \"miss\",\n                points: 0,\n                combo: false\n            };\n        }\n    }\n    handleNoteHit(note, judgment) {\n        note.isHit = true;\n        note.perfect = judgment.type === \"perfect\";\n        // 점수 추가\n        this.addScore(judgment.points);\n        // 콤보 처리\n        if (judgment.combo) {\n            this.currentCombo++;\n        } else {\n            this.breakCombo();\n        }\n        // 판정 카운트 증가\n        this.judgementCounts[judgment.type]++;\n        // 판정 표시\n        this.showJudgment(judgment.type);\n        // 히트 이펙트\n        this.showHitEffect(note.lane, judgment.type);\n        // 노트 제거\n        const noteContainer = this.activeNotes.get(note.id);\n        if (noteContainer) {\n            noteContainer.destroy();\n            this.activeNotes.delete(note.id);\n        }\n        // 정확도 업데이트\n        this.updateAccuracy();\n        console.log(`노트 히트: ${judgment.type} (${judgment.points}점)`);\n    }\n    handleMiss(note) {\n        note.isHit = true;\n        this.judgementCounts.miss++;\n        this.breakCombo();\n        this.showJudgment(\"miss\");\n        this.updateAccuracy();\n    }\n    addScore(points) {\n        // 콤보 보너스\n        let comboMultiplier = 1;\n        if (this.currentCombo >= 50) comboMultiplier = 2;\n        else if (this.currentCombo >= 20) comboMultiplier = 1.5;\n        else if (this.currentCombo >= 10) comboMultiplier = 1.2;\n        const finalPoints = Math.floor(points * comboMultiplier);\n        this.totalScore += finalPoints;\n        this.scoreText?.setText(`Score: ${this.totalScore}`);\n        // 스코어 상승 효과\n        if (this.scoreText) {\n            this.tweens.add({\n                targets: this.scoreText,\n                scaleX: 1.1,\n                scaleY: 1.1,\n                duration: 100,\n                yoyo: true\n            });\n        }\n    }\n    breakCombo() {\n        this.maxCombo = Math.max(this.maxCombo, this.currentCombo);\n        this.currentCombo = 0;\n        this.updateComboDisplay();\n    }\n    updateComboDisplay() {\n        this.comboText?.setText(`Combo: ${this.currentCombo}`);\n        // 콤보에 따른 색상 변경\n        if (this.comboText) {\n            if (this.currentCombo >= 50) {\n                this.comboText.setColor(\"#ff0066\");\n            } else if (this.currentCombo >= 20) {\n                this.comboText.setColor(\"#ff6600\");\n            } else if (this.currentCombo >= 10) {\n                this.comboText.setColor(\"#ffaa00\");\n            } else {\n                this.comboText.setColor(\"#ffffff\");\n            }\n            // 콤보 마일스톤 효과\n            if (this.currentCombo > 0 && this.currentCombo % 10 === 0) {\n                this.tweens.add({\n                    targets: this.comboText,\n                    scaleX: 1.3,\n                    scaleY: 1.3,\n                    duration: 200,\n                    yoyo: true\n                });\n            }\n        }\n    }\n    updateAccuracy() {\n        const totalNotes = Object.values(this.judgementCounts).reduce((a, b)=>a + b, 0);\n        if (totalNotes === 0) return;\n        const weightedScore = this.judgementCounts.perfect * 100 + this.judgementCounts.great * 80 + this.judgementCounts.good * 50 + this.judgementCounts.miss * 0;\n        this.accuracy = weightedScore / (totalNotes * 100) * 100;\n        this.accuracyText?.setText(`Accuracy: ${this.accuracy.toFixed(1)}%`);\n        // 정확도에 따른 색상\n        if (this.accuracyText) {\n            if (this.accuracy >= 95) {\n                this.accuracyText.setColor(\"#00ff88\");\n            } else if (this.accuracy >= 85) {\n                this.accuracyText.setColor(\"#ffff00\");\n            } else if (this.accuracy >= 70) {\n                this.accuracyText.setColor(\"#ff6600\");\n            } else {\n                this.accuracyText.setColor(\"#ff0066\");\n            }\n        }\n    }\n    showJudgment(type) {\n        if (!this.judgmentText) return;\n        const colors = {\n            perfect: \"#ffff00\",\n            great: \"#00ff88\",\n            good: \"#0088ff\",\n            miss: \"#ff0066\"\n        };\n        const texts = {\n            perfect: \"PERFECT!\",\n            great: \"GREAT!\",\n            good: \"GOOD\",\n            miss: \"MISS\"\n        };\n        this.judgmentText.setText(texts[type]);\n        this.judgmentText.setColor(colors[type]);\n        this.judgmentText.setAlpha(1);\n        this.judgmentText.setScale(1);\n        // 애니메이션\n        this.tweens.add({\n            targets: this.judgmentText,\n            scaleX: type === \"perfect\" ? 1.5 : 1.2,\n            scaleY: type === \"perfect\" ? 1.5 : 1.2,\n            duration: 150,\n            yoyo: true,\n            onComplete: ()=>{\n                this.tweens.add({\n                    targets: this.judgmentText,\n                    alpha: 0,\n                    duration: 300\n                });\n            }\n        });\n    }\n    showHitEffect(lane, judgment) {\n        const laneWidth = 100;\n        const laneSpacing = 10;\n        const totalWidth = (laneWidth + laneSpacing) * this.LANE_COUNT - laneSpacing;\n        const startX = (this.cameras.main.width - totalWidth) / 2;\n        const effectX = startX + lane * (laneWidth + laneSpacing) + laneWidth / 2;\n        // 파티클 효과\n        const colors = judgment === \"perfect\" ? [\n            0xffff00,\n            0xffffff\n        ] : judgment === \"great\" ? [\n            0x00ff88,\n            0x00ffff\n        ] : judgment === \"good\" ? [\n            0x0088ff,\n            0xffffff\n        ] : [\n            0xff0066\n        ];\n        const particles = this.add.particles(effectX, this.JUDGMENT_LINE_Y, \"normal_note\", {\n            scale: {\n                start: 0.5,\n                end: 0\n            },\n            speed: {\n                min: 50,\n                max: 150\n            },\n            alpha: {\n                start: 1,\n                end: 0\n            },\n            lifespan: 500,\n            quantity: judgment === \"perfect\" ? 20 : 10,\n            tint: colors\n        });\n        this.time.delayedCall(500, ()=>{\n            particles.destroy();\n        });\n    }\n    showLanePress(laneIndex) {\n        const laneKey = this.laneKeys[laneIndex];\n        if (!laneKey) return;\n        // 키 눌림 효과\n        this.tweens.add({\n            targets: laneKey,\n            scaleX: 1.2,\n            scaleY: 1.2,\n            duration: 100,\n            yoyo: true\n        });\n        // 레인 하이라이트\n        const laneGraphic = this.laneGraphics[laneIndex];\n        if (laneGraphic) {\n            this.tweens.add({\n                targets: laneGraphic,\n                alpha: 0.8,\n                duration: 100,\n                yoyo: true\n            });\n        }\n    }\n    // 외부 호출 메서드\n    startGame() {\n        this.gameStarted = true;\n        console.log(\"RhythmAction 게임 시작!\");\n        this.gameManager.getAudioManager().playMusic(\"music_game_battle\");\n        // 게임 타이머 시작\n        this.time.addEvent({\n            delay: 16,\n            callback: ()=>{\n                this.songTime += 16;\n                this.updateGame();\n            },\n            loop: true\n        });\n    }\n    updateGame() {\n        if (!this.gameStarted) return;\n        // 다가오는 노트들 스폰\n        for (const note of this.beatNotes){\n            if (!note.isHit && note.hitTime - this.songTime <= this.FALL_TIME && note.hitTime - this.songTime > this.FALL_TIME - 100 && !this.activeNotes.has(note.id)) {\n                this.spawnNote(note);\n            }\n        }\n        // 콤보 표시 업데이트\n        this.updateComboDisplay();\n        // 게임 종료 체크 (모든 노트 처리 완료)\n        const allNotesProcessed = this.beatNotes.every((note)=>note.isHit);\n        if (allNotesProcessed && this.activeNotes.size === 0) {\n            this.endGame();\n        }\n    }\n    onNetworkMessage(message) {\n        console.log(\"RhythmAction 네트워크 메시지:\", message);\n    }\n    endGame() {\n        this.gameStarted = false;\n        console.log(\"RhythmAction 게임 종료!\");\n        // 최종 통계\n        const finalStats = {\n            score: this.totalScore,\n            maxCombo: this.maxCombo,\n            accuracy: this.accuracy,\n            judgments: {\n                ...this.judgementCounts\n            }\n        };\n        console.log(\"최종 통계:\", finalStats);\n        // 결과 표시\n        this.showGameResults(finalStats);\n        // 게임 매니저에 종료 알림\n        this.time.delayedCall(3000, ()=>{\n            this.gameManager.endGame(this.totalScore);\n        });\n    }\n    showGameResults(stats) {\n        const centerX = this.cameras.main.width / 2;\n        const centerY = this.cameras.main.height / 2;\n        // 결과 배경\n        const resultsBg = this.add.graphics();\n        resultsBg.fillStyle(0x000000, 0.8);\n        resultsBg.fillRoundedRect(centerX - 250, centerY - 150, 500, 300, 20);\n        // 결과 텍스트들\n        const resultsTexts = [\n            `Final Score: ${stats.score}`,\n            `Max Combo: ${stats.maxCombo}`,\n            `Accuracy: ${stats.accuracy.toFixed(1)}%`,\n            \"\",\n            `Perfect: ${stats.judgments.perfect}`,\n            `Great: ${stats.judgments.great}`,\n            `Good: ${stats.judgments.good}`,\n            `Miss: ${stats.judgments.miss}`\n        ];\n        resultsTexts.forEach((text, index)=>{\n            if (text) {\n                const textObj = this.add.text(centerX, centerY - 120 + index * 30, text, {\n                    fontSize: \"24px\",\n                    color: index < 3 ? \"#ffff00\" : \"#ffffff\",\n                    fontFamily: \"Arial\",\n                    fontStyle: index < 3 ? \"bold\" : \"normal\"\n                }).setOrigin(0.5);\n                // 순차적 등장 효과\n                textObj.setAlpha(0);\n                this.tweens.add({\n                    targets: textObj,\n                    alpha: 1,\n                    duration: 300,\n                    delay: index * 200\n                });\n            }\n        });\n    }\n    update(time, delta) {\n        if (!this.gameStarted) return;\n    // 추가적인 업데이트 로직이 있다면 여기에\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL2dhbWUtZW5naW5lL3NjZW5lcy9SaHl0aG1BY3Rpb25TY2VuZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkI7QUFvQnBCLE1BQU1DLDBCQUEwQkQscURBQVk7SUF1Q2pERyxZQUFZQyxXQUE4QixDQUFFO1FBQzFDLEtBQUssQ0FBQztZQUFFQyxLQUFLO1FBQW9CO2FBdEMzQkMsWUFBd0IsRUFBRTthQUMxQkMsY0FBeUQsSUFBSUM7UUFFckUsUUFBUTthQUNBQyxjQUFjO2FBQ2RDLFdBQVcsRUFBRSxnQkFBZ0I7O2FBQzdCQyxNQUFNLElBQUksVUFBVTs7YUFDcEJDLGVBQWU7YUFDZkMsV0FBVzthQUNYQyxhQUFhO2FBQ2JDLFdBQVc7UUFFbkIsU0FBUzthQUNEQyxrQkFBa0I7WUFDeEJDLFNBQVM7WUFDVEMsT0FBTztZQUNQQyxNQUFNO1lBQ05DLE1BQU07UUFDUjtRQUVBLFFBQVE7YUFDU0MsYUFBYTthQUNiQyxZQUFZLEtBQUssbUJBQW1COzthQUNwQ0Msa0JBQWtCO2FBQ2xCQyxpQkFBaUIsR0FBRyxRQUFROzthQUM1QkMsZUFBZSxJQUFJLFNBQVM7O2FBQzVCQyxjQUFjLElBQUksU0FBUzs7UUFFNUMsUUFBUTthQUNBQyxlQUE4QyxFQUFFO2FBQ2hEQyxXQUFzQyxFQUFFO2FBQ3hDQyxlQUFtRDthQUNuREMsWUFBNEM7YUFDNUNDLFlBQTRDO2FBQzVDQyxlQUErQzthQUMvQ0MsZUFBK0M7UUFJckQsSUFBSSxDQUFDN0IsV0FBVyxHQUFHQTtJQUNyQjtJQUVBOEIsVUFBZ0I7UUFDZCxZQUFZO1FBQ1osSUFBSSxDQUFDQyxrQkFBa0I7UUFDdkJDLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0lBRVFGLHFCQUEyQjtRQUNqQyxZQUFZO1FBQ1osTUFBTUcsYUFBYSxJQUFJLENBQUNDLEdBQUcsQ0FBQ0MsUUFBUTtRQUNwQ0YsV0FBV0csU0FBUyxDQUFDO1FBQ3JCSCxXQUFXSSxlQUFlLENBQUMsR0FBRyxHQUFHLElBQUksSUFBSTtRQUN6Q0osV0FB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QkFDakI7WUFDRjtRQUNGO0lBQ0Y7SUFFQUUsT0FBTy9HLElBQVksRUFBRWdILEtBQWEsRUFBUTtRQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDek0sV0FBVyxFQUFFO0lBQ3ZCLHdCQUF3QjtJQUMxQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGl0dHVydS1wcGF0dXJ1LWZyb250ZW5kLy4vc3JjL2xpYi9nYW1lLWVuZ2luZS9zY2VuZXMvUmh5dGhtQWN0aW9uU2NlbmUudHM/MDUwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcidcbmltcG9ydCB7IEdhbWVFbmdpbmVNYW5hZ2VyIH0gZnJvbSAnLi4vR2FtZUVuZ2luZU1hbmFnZXInXG5pbXBvcnQgeyBOZXR3b3JrTWVzc2FnZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5pbnRlcmZhY2UgQmVhdE5vdGUge1xuICBpZDogc3RyaW5nXG4gIGxhbmU6IG51bWJlciAvLyAwLTMgKDTqsJwg66CI7J24KVxuICBoaXRUaW1lOiBudW1iZXIgLy8g64W4656YIOyLnOyekeycvOuhnOu2gO2EsCDrsIDrpqzstIhcbiAgdHlwZTogJ25vcm1hbCcgfCAnbG9uZycgfCAnc3BlY2lhbCdcbiAgZHVyYXRpb24/OiBudW1iZXIgLy8gbG9uZyDrhbjtirjsnZgg6rK97JqwXG4gIGlzSGl0OiBib29sZWFuXG4gIHBlcmZlY3Q6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIFNjb3JlSnVkZ2VtZW50IHtcbiAgdHlwZTogJ3BlcmZlY3QnIHwgJ2dyZWF0JyB8ICdnb29kJyB8ICdtaXNzJ1xuICBwb2ludHM6IG51bWJlclxuICBjb21ibzogYm9vbGVhblxufVxuXG5leHBvcnQgY2xhc3MgUmh5dGhtQWN0aW9uU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICBwcml2YXRlIGdhbWVNYW5hZ2VyOiBHYW1lRW5naW5lTWFuYWdlclxuICBwcml2YXRlIGJlYXROb3RlczogQmVhdE5vdGVbXSA9IFtdXG4gIHByaXZhdGUgYWN0aXZlTm90ZXM6IE1hcDxzdHJpbmcsIFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI+ID0gbmV3IE1hcCgpXG5cbiAgLy8g6rKM7J6EIOyDge2DnFxuICBwcml2YXRlIGdhbWVTdGFydGVkID0gZmFsc2VcbiAgcHJpdmF0ZSBzb25nVGltZSA9IDAgLy8g7ZiE7J6sIOuFuOuemCDsi5zqsIQgKG1zKVxuICBwcml2YXRlIGJwbSA9IDEyMCAvLyDrtoTri7kg67mE7Yq4IOyImFxuICBwcml2YXRlIGN1cnJlbnRDb21ibyA9IDBcbiAgcHJpdmF0ZSBtYXhDb21ibyA9IDBcbiAgcHJpdmF0ZSB0b3RhbFNjb3JlID0gMFxuICBwcml2YXRlIGFjY3VyYWN5ID0gMTAwXG5cbiAgLy8g7YyQ7KCVIOy5tOyatO2KuFxuICBwcml2YXRlIGp1ZGdlbWVudENvdW50cyA9IHtcbiAgICBwZXJmZWN0OiAwLFxuICAgIGdyZWF0OiAwLFxuICAgIGdvb2Q6IDAsXG4gICAgbWlzczogMFxuICB9XG5cbiAgLy8g6rKM7J6EIOyEpOyglVxuICBwcml2YXRlIHJlYWRvbmx5IExBTkVfQ09VTlQgPSA0XG4gIHByaXZhdGUgcmVhZG9ubHkgRkFMTF9USU1FID0gMjAwMCAvLyDrhbjtirjqsIAg65ao7Ja07KeA64qUIOyLnOqwhCAobXMpXG4gIHByaXZhdGUgcmVhZG9ubHkgSlVER01FTlRfTElORV9ZID0gNTAwXG4gIHByaXZhdGUgcmVhZG9ubHkgUEVSRkVDVF9XSU5ET1cgPSA1MCAvLyDCsTUwbXNcbiAgcHJpdmF0ZSByZWFkb25seSBHUkVBVF9XSU5ET1cgPSAxMDAgLy8gwrExMDBtc1xuICBwcml2YXRlIHJlYWRvbmx5IEdPT0RfV0lORE9XID0gMTUwIC8vIMKxMTUwbXNcblxuICAvLyBVSSDsmpTshoxcbiAgcHJpdmF0ZSBsYW5lR3JhcGhpY3M6IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljc1tdID0gW11cbiAgcHJpdmF0ZSBsYW5lS2V5czogUGhhc2VyLkdhbWVPYmplY3RzLlRleHRbXSA9IFtdXG4gIHByaXZhdGUganVkZ21lbnRMaW5lOiBQaGFzZXIuR2FtZU9iamVjdHMuR3JhcGhpY3MgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIHNjb3JlVGV4dDogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGNvbWJvVGV4dDogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGFjY3VyYWN5VGV4dDogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGp1ZGdtZW50VGV4dDogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQgfCBudWxsID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yKGdhbWVNYW5hZ2VyOiBHYW1lRW5naW5lTWFuYWdlcikge1xuICAgIHN1cGVyKHsga2V5OiAnUmh5dGhtQWN0aW9uU2NlbmUnIH0pXG4gICAgdGhpcy5nYW1lTWFuYWdlciA9IGdhbWVNYW5hZ2VyXG4gIH1cblxuICBwcmVsb2FkKCk6IHZvaWQge1xuICAgIC8vIOuFuO2KuCDthY3siqTsspgg7IOd7ISxXG4gICAgdGhpcy5jcmVhdGVOb3RlVGV4dHVyZXMoKVxuICAgIGNvbnNvbGUubG9nKCdSaHl0aG1BY3Rpb25TY2VuZTog7JeQ7IWLIOuhnOuUqSDsmYTro4wnKVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVOb3RlVGV4dHVyZXMoKTogdm9pZCB7XG4gICAgLy8g7J2867CYIOuFuO2KuCDthY3siqTssphcbiAgICBjb25zdCBub3JtYWxOb3RlID0gdGhpcy5hZGQuZ3JhcGhpY3MoKVxuICAgIG5vcm1hbE5vdGUuZmlsbFN0eWxlKDB4MDBhYWZmKVxuICAgIG5vcm1hbE5vdGUuZmlsbFJvdW5kZWRSZWN0KDAsIDAsIDgwLCAyMCwgNSlcbiAgICBub3JtYWxOb3RlLmxpbmVTdHlsZSgyLCAweGZmZmZmZiwgMSlcbiAgICBub3JtYWxOb3RlLnN0cm9rZVJvdW5kZWRSZWN0KDAsIDAsIDgwLCAyMCwgNSlcbiAgICBub3JtYWxOb3RlLmdlbmVyYXRlVGV4dHVyZSgnbm9ybWFsX25vdGUnLCA4MCwgMjApXG4gICAgbm9ybWFsTm90ZS5kZXN0cm95KClcblxuICAgIC8vIOuhsSDrhbjtirgg7Iuc7J6RXG4gICAgY29uc3QgbG9uZ05vdGVTdGFydCA9IHRoaXMuYWRkLmdyYXBoaWNzKClcbiAgICBsb25nTm90ZVN0YXJ0LmZpbGxTdHlsZSgweGZmNjYwMClcbiAgICBsb25nTm90ZVN0YXJ0LmZpbGxSb3VuZGVkUmVjdCgwLCAwLCA4MCwgMjAsIDUpXG4gICAgbG9uZ05vdGVTdGFydC5saW5lU3R5bGUoMiwgMHhmZmZmZmYsIDEpXG4gICAgbG9uZ05vdGVTdGFydC5zdHJva2VSb3VuZGVkUmVjdCgwLCAwLCA4MCwgMjAsIDUpXG4gICAgbG9uZ05vdGVTdGFydC5nZW5lcmF0ZVRleHR1cmUoJ2xvbmdfbm90ZV9zdGFydCcsIDgwLCAyMClcbiAgICBsb25nTm90ZVN0YXJ0LmRlc3Ryb3koKVxuXG4gICAgLy8g7Yq57IiYIOuFuO2KuCDthY3siqTssphcbiAgICBjb25zdCBzcGVjaWFsTm90ZSA9IHRoaXMuYWRkLmdyYXBoaWNzKClcbiAgICBzcGVjaWFsTm90ZS5maWxsU3R5bGUoMHhmZjAwODgpXG4gICAgc3BlY2lhbE5vdGUuZmlsbFJvdW5kZWRSZWN0KDAsIDAsIDgwLCAyMCwgNSlcbiAgICBzcGVjaWFsTm90ZS5saW5lU3R5bGUoMywgMHhmZmZmMDAsIDEpXG4gICAgc3BlY2lhbE5vdGUuc3Ryb2tlUm91bmRlZFJlY3QoMCwgMCwgODAsIDIwLCA1KVxuICAgIHNwZWNpYWxOb3RlLmdlbmVyYXRlVGV4dHVyZSgnc3BlY2lhbF9ub3RlJywgODAsIDIwKVxuICAgIHNwZWNpYWxOb3RlLmRlc3Ryb3koKVxuICB9XG5cbiAgY3JlYXRlKCk6IHZvaWQge1xuICAgIC8vIOuwsOqyvSDsg53shLFcbiAgICB0aGlzLmNyZWF0ZUJhY2tncm91bmQoKVxuXG4gICAgLy8g6rKM7J6EIOugiOyduCDsg53shLFcbiAgICB0aGlzLmNyZWF0ZUdhbWVMYW5lcygpXG5cbiAgICAvLyBVSSDsg53shLFcbiAgICB0aGlzLmNyZWF0ZVVJKClcblxuICAgIC8vIOu5hO2KuOuntSDsg53shLEgKO2FjOyKpO2KuOyaqSDtjKjthLQpXG4gICAgdGhpcy5nZW5lcmF0ZUJlYXRtYXAoKVxuXG4gICAgLy8g7J6F66ClIOyymOumrCDshKTsoJVcbiAgICB0aGlzLnNldHVwSW5wdXQoKVxuXG4gICAgY29uc29sZS5sb2coJ1JoeXRobUFjdGlvblNjZW5lOiDslKwg7IOd7ISxIOyZhOujjCcpXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUJhY2tncm91bmQoKTogdm9pZCB7XG4gICAgLy8g64+Z7KCBIOuwsOqyvSDqt7jrnbzrjbDsnbTshZhcbiAgICBjb25zdCBncmFwaGljcyA9IHRoaXMuYWRkLmdyYXBoaWNzKClcbiAgICBncmFwaGljcy5maWxsR3JhZGllbnRTdHlsZSgweDFhMDAzMywgMHgzMzAwNjYsIDB4NjYwMGNjLCAweDk5MzNmZilcbiAgICBncmFwaGljcy5maWxsUmVjdCgwLCAwLCB0aGlzLmNhbWVyYXMubWFpbi53aWR0aCwgdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0KVxuXG4gICAgLy8g67mE7KO87Ja865287J207KCAIOyKpO2DgOydvCDrsLDqsr0g7Yyo7YS0XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5lID0gdGhpcy5hZGQuZ3JhcGhpY3MoKVxuICAgICAgbGluZS5saW5lU3R5bGUoMiwgMHhmZmZmZmYsIDAuMSlcbiAgICAgIGxpbmUubW92ZVRvKDAsIGkgKiAzMClcbiAgICAgIGxpbmUubGluZVRvKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoLCBpICogMzApXG4gICAgICBsaW5lLnN0cm9rZVBhdGgoKVxuXG4gICAgICAvLyDtjoTsiqQg7JWg64uI66mU7J207IWYXG4gICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICB0YXJnZXRzOiBsaW5lLFxuICAgICAgICBhbHBoYTogMC4zLFxuICAgICAgICBkdXJhdGlvbjogMTAwMCArIE1hdGgucmFuZG9tKCkgKiAxMDAwLFxuICAgICAgICB5b3lvOiB0cnVlLFxuICAgICAgICByZXBlYXQ6IC0xLFxuICAgICAgICBkZWxheTogTWF0aC5yYW5kb20oKSAqIDIwMDBcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVHYW1lTGFuZXMoKTogdm9pZCB7XG4gICAgY29uc3QgbGFuZVdpZHRoID0gMTAwXG4gICAgY29uc3QgbGFuZVNwYWNpbmcgPSAxMFxuICAgIGNvbnN0IHRvdGFsV2lkdGggPSAobGFuZVdpZHRoICsgbGFuZVNwYWNpbmcpICogdGhpcy5MQU5FX0NPVU5UIC0gbGFuZVNwYWNpbmdcbiAgICBjb25zdCBzdGFydFggPSAodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSB0b3RhbFdpZHRoKSAvIDJcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5MQU5FX0NPVU5UOyBpKyspIHtcbiAgICAgIGNvbnN0IGxhbmVYID0gc3RhcnRYICsgaSAqIChsYW5lV2lkdGggKyBsYW5lU3BhY2luZylcblxuICAgICAgLy8g66CI7J24IOuwsOqyvVxuICAgICAgY29uc3QgbGFuZUdyYXBoaWMgPSB0aGlzLmFkZC5ncmFwaGljcygpXG4gICAgICBsYW5lR3JhcGhpYy5maWxsU3R5bGUoMHgwMDAwMzMsIDAuNSlcbiAgICAgIGxhbmVHcmFwaGljLmZpbGxSb3VuZGVkUmVjdChsYW5lWCwgNTAsIGxhbmVXaWR0aCwgdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0IC0gMTAwLCAxMClcbiAgICAgIGxhbmVHcmFwaGljLmxpbmVTdHlsZSgyLCAweDY2NjZmZiwgMC44KVxuICAgICAgbGFuZUdyYXBoaWMuc3Ryb2tlUm91bmRlZFJlY3QobGFuZVgsIDUwLCBsYW5lV2lkdGgsIHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodCAtIDEwMCwgMTApXG4gICAgICB0aGlzLmxhbmVHcmFwaGljcy5wdXNoKGxhbmVHcmFwaGljKVxuXG4gICAgICAvLyDtgqQg7ZGc7IucXG4gICAgICBjb25zdCBrZXlMYWJlbHMgPSBbJ0QnLCAnRicsICdKJywgJ0snXVxuICAgICAgY29uc3Qga2V5VGV4dCA9IHRoaXMuYWRkLnRleHQobGFuZVggKyBsYW5lV2lkdGggLyAyLCB0aGlzLkpVREdNRU5UX0xJTkVfWSArIDQwLCBrZXlMYWJlbHNbaV0sIHtcbiAgICAgICAgZm9udFNpemU6ICczMnB4JyxcbiAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC43KScsXG4gICAgICAgIHBhZGRpbmc6IHsgeDogMTAsIHk6IDUgfVxuICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcblxuICAgICAgdGhpcy5sYW5lS2V5cy5wdXNoKGtleVRleHQpXG4gICAgfVxuXG4gICAgLy8g7YyQ7KCV7ISgIOyDneyEsVxuICAgIHRoaXMuanVkZ21lbnRMaW5lID0gdGhpcy5hZGQuZ3JhcGhpY3MoKVxuICAgIHRoaXMuanVkZ21lbnRMaW5lLmxpbmVTdHlsZSg0LCAweGZmZmYwMCwgMSlcbiAgICB0aGlzLmp1ZGdtZW50TGluZS5tb3ZlVG8oc3RhcnRYIC0gMjAsIHRoaXMuSlVER01FTlRfTElORV9ZKVxuICAgIHRoaXMuanVkZ21lbnRMaW5lLmxpbmVUbyhzdGFydFggKyB0b3RhbFdpZHRoICsgMjAsIHRoaXMuSlVER01FTlRfTElORV9ZKVxuICAgIHRoaXMuanVkZ21lbnRMaW5lLnN0cm9rZVBhdGgoKVxuXG4gICAgLy8g7YyQ7KCV7ISgIOq4gOuhnOyasCDtmqjqs7xcbiAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgdGFyZ2V0czogdGhpcy5qdWRnbWVudExpbmUsXG4gICAgICBhbHBoYTogMC43LFxuICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgIHlveW86IHRydWUsXG4gICAgICByZXBlYXQ6IC0xXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVUkoKTogdm9pZCB7XG4gICAgLy8g7KCQ7IiYIO2RnOyLnFxuICAgIHRoaXMuc2NvcmVUZXh0ID0gdGhpcy5hZGQudGV4dCg1MCwgNTAsICdTY29yZTogMCcsIHtcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjgpJyxcbiAgICAgIHBhZGRpbmc6IHsgeDogMTUsIHk6IDEwIH1cbiAgICB9KVxuXG4gICAgLy8g7L2k67O0IO2RnOyLnFxuICAgIHRoaXMuY29tYm9UZXh0ID0gdGhpcy5hZGQudGV4dCg1MCwgMTAwLCAnQ29tYm86IDAnLCB7XG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxuICAgICAgY29sb3I6ICcjZmZhYTAwJyxcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC44KScsXG4gICAgICBwYWRkaW5nOiB7IHg6IDE1LCB5OiAxMCB9XG4gICAgfSlcblxuICAgIC8vIOygle2ZleuPhCDtkZzsi5xcbiAgICB0aGlzLmFjY3VyYWN5VGV4dCA9IHRoaXMuYWRkLnRleHQoNTAsIDE1MCwgJ0FjY3VyYWN5OiAxMDAuMCUnLCB7XG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxuICAgICAgY29sb3I6ICcjMDBmZjg4JyxcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC44KScsXG4gICAgICBwYWRkaW5nOiB7IHg6IDE1LCB5OiAxMCB9XG4gICAgfSlcblxuICAgIC8vIO2MkOyglSDthY3siqTtirggKOykkeyVmSlcbiAgICB0aGlzLmp1ZGdtZW50VGV4dCA9IHRoaXMuYWRkLnRleHQodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLyAyLCAzMDAsICcnLCB7XG4gICAgICBmb250U2l6ZTogJzQ4cHgnLFxuICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcbiAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxuICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0XG4gICAgfSkuc2V0T3JpZ2luKDAuNSlcblxuICAgIC8vIEJQTSDtkZzsi5xcbiAgICB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNTAsIDUwLCBgQlBNOiAke3RoaXMuYnBtfWAsIHtcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC44KScsXG4gICAgICBwYWRkaW5nOiB7IHg6IDEwLCB5OiA1IH1cbiAgICB9KS5zZXRPcmlnaW4oMSwgMClcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVCZWF0bWFwKCk6IHZvaWQge1xuICAgIC8vIO2FjOyKpO2KuOyaqSDruYTtirjrp7Ug7IOd7ISxICjsi6TsoJzroZzripQg7J2M7JWFIO2MjOydvOqzvCDrj5nquLDtmZQpXG4gICAgY29uc3Qgc29uZ0xlbmd0aCA9IDEyMDAwMCAvLyAy67aEXG4gICAgY29uc3QgYmVhdEludGVydmFsID0gNjAwMDAgLyB0aGlzLmJwbSAvLyBCUE3snYQg67CA66as7LSI66GcIOuzgO2ZmFxuXG4gICAgdGhpcy5iZWF0Tm90ZXMgPSBbXVxuXG4gICAgLy8g7Yyo7YS0IOyDneyEsSAo6rCE64uo7ZWcIDQvNCDrsJXsnpApXG4gICAgZm9yIChsZXQgdGltZSA9IDIwMDA7IHRpbWUgPCBzb25nTGVuZ3RoOyB0aW1lICs9IGJlYXRJbnRlcnZhbCkge1xuICAgICAgLy8g6riw67O4IO2MqO2EtCAo66ekIOuwleyekOuniOuLpCDrhbjtirgpXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuMykge1xuICAgICAgICBjb25zdCBub3RlOiBCZWF0Tm90ZSA9IHtcbiAgICAgICAgICBpZDogYG5vdGVfJHt0aW1lfV8ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgICAgICBsYW5lOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLkxBTkVfQ09VTlQpLFxuICAgICAgICAgIGhpdFRpbWU6IHRpbWUsXG4gICAgICAgICAgdHlwZTogdGhpcy5nZXRSYW5kb21Ob3RlVHlwZSgpLFxuICAgICAgICAgIGlzSGl0OiBmYWxzZSxcbiAgICAgICAgICBwZXJmZWN0OiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g66GxIOuFuO2KuOydmCDqsr3smrAg7KeA7IaNIOyLnOqwhCDshKTsoJVcbiAgICAgICAgaWYgKG5vdGUudHlwZSA9PT0gJ2xvbmcnKSB7XG4gICAgICAgICAgbm90ZS5kdXJhdGlvbiA9IGJlYXRJbnRlcnZhbCAqIDIgKyBNYXRoLnJhbmRvbSgpICogYmVhdEludGVydmFsICogMlxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iZWF0Tm90ZXMucHVzaChub3RlKVxuICAgICAgfVxuXG4gICAgICAvLyDrs7XsnqHtlZwg7Yyo7YS0ICjrsJjrsJXsnpApXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNyAmJiB0aW1lICsgYmVhdEludGVydmFsIC8gMiA8IHNvbmdMZW5ndGgpIHtcbiAgICAgICAgY29uc3QgaGFsZkJlYXROb3RlOiBCZWF0Tm90ZSA9IHtcbiAgICAgICAgICBpZDogYG5vdGVfJHt0aW1lICsgYmVhdEludGVydmFsIC8gMn1fJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICAgICAgbGFuZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5MQU5FX0NPVU5UKSxcbiAgICAgICAgICBoaXRUaW1lOiB0aW1lICsgYmVhdEludGVydmFsIC8gMixcbiAgICAgICAgICB0eXBlOiAnbm9ybWFsJyxcbiAgICAgICAgICBpc0hpdDogZmFsc2UsXG4gICAgICAgICAgcGVyZmVjdDogZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmVhdE5vdGVzLnB1c2goaGFsZkJlYXROb3RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOyLnOqwhOyInOycvOuhnCDsoJXroKxcbiAgICB0aGlzLmJlYXROb3Rlcy5zb3J0KChhLCBiKSA9PiBhLmhpdFRpbWUgLSBiLmhpdFRpbWUpXG5cbiAgICBjb25zb2xlLmxvZyhg67mE7Yq466e1IOyDneyEsSDsmYTro4w6ICR7dGhpcy5iZWF0Tm90ZXMubGVuZ3RofeqwnCDrhbjtirhgKVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRSYW5kb21Ob3RlVHlwZSgpOiBCZWF0Tm90ZVsndHlwZSddIHtcbiAgICBjb25zdCByYW5kID0gTWF0aC5yYW5kb20oKVxuICAgIGlmIChyYW5kIDwgMC43KSByZXR1cm4gJ25vcm1hbCdcbiAgICBpZiAocmFuZCA8IDAuOSkgcmV0dXJuICdsb25nJ1xuICAgIHJldHVybiAnc3BlY2lhbCdcbiAgfVxuXG4gIHByaXZhdGUgc3Bhd25Ob3RlKG5vdGU6IEJlYXROb3RlKTogdm9pZCB7XG4gICAgY29uc3QgbGFuZVdpZHRoID0gMTAwXG4gICAgY29uc3QgbGFuZVNwYWNpbmcgPSAxMFxuICAgIGNvbnN0IHRvdGFsV2lkdGggPSAobGFuZVdpZHRoICsgbGFuZVNwYWNpbmcpICogdGhpcy5MQU5FX0NPVU5UIC0gbGFuZVNwYWNpbmdcbiAgICBjb25zdCBzdGFydFggPSAodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSB0b3RhbFdpZHRoKSAvIDJcbiAgICBjb25zdCBub3RlWCA9IHN0YXJ0WCArIG5vdGUubGFuZSAqIChsYW5lV2lkdGggKyBsYW5lU3BhY2luZykgKyBsYW5lV2lkdGggLyAyXG5cbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZC5jb250YWluZXIobm90ZVgsIDUwKVxuXG4gICAgLy8g64W47Yq4IO2DgOyeheyXkCDrlLDrpbgg7Iqk7ZSE65287J207Yq4XG4gICAgbGV0IG5vdGVTcHJpdGU6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGVcbiAgICBzd2l0Y2ggKG5vdGUudHlwZSkge1xuICAgICAgY2FzZSAnbG9uZyc6XG4gICAgICAgIG5vdGVTcHJpdGUgPSB0aGlzLmFkZC5zcHJpdGUoMCwgMCwgJ2xvbmdfbm90ZV9zdGFydCcpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzcGVjaWFsJzpcbiAgICAgICAgbm90ZVNwcml0ZSA9IHRoaXMuYWRkLnNwcml0ZSgwLCAwLCAnc3BlY2lhbF9ub3RlJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG5vdGVTcHJpdGUgPSB0aGlzLmFkZC5zcHJpdGUoMCwgMCwgJ25vcm1hbF9ub3RlJylcbiAgICB9XG5cbiAgICAvLyDquIDroZzsmrAg7Zqo6rO8XG4gICAgY29uc3QgZ2xvdyA9IHRoaXMuYWRkLmdyYXBoaWNzKClcbiAgICBjb25zdCBnbG93Q29sb3IgPSBub3RlLnR5cGUgPT09ICdzcGVjaWFsJyA/IDB4ZmYwMDg4IDpcbiAgICAgICAgICAgICAgICAgICAgIG5vdGUudHlwZSA9PT0gJ2xvbmcnID8gMHhmZjY2MDAgOiAweDAwYWFmZlxuICAgIGdsb3cuZmlsbFN0eWxlKGdsb3dDb2xvciwgMC4zKVxuICAgIGdsb3cuZmlsbENpcmNsZSgwLCAwLCA1MClcblxuICAgIGNvbnRhaW5lci5hZGQoW2dsb3csIG5vdGVTcHJpdGVdKVxuXG4gICAgLy8g66GxIOuFuO2KuOydmCDqsr3smrAg6rys66asIOyDneyEsVxuICAgIGlmIChub3RlLnR5cGUgPT09ICdsb25nJyAmJiBub3RlLmR1cmF0aW9uKSB7XG4gICAgICBjb25zdCB0YWlsSGVpZ2h0ID0gKG5vdGUuZHVyYXRpb24gLyB0aGlzLkZBTExfVElNRSkgKiAodGhpcy5KVURHTUVOVF9MSU5FX1kgLSA1MClcbiAgICAgIGNvbnN0IHRhaWwgPSB0aGlzLmFkZC5ncmFwaGljcygpXG4gICAgICB0YWlsLmZpbGxTdHlsZSgweGZmNjYwMCwgMC42KVxuICAgICAgdGFpbC5maWxsUmVjdCgtNDAsIDEwLCA4MCwgdGFpbEhlaWdodClcbiAgICAgIGNvbnRhaW5lci5hZGQodGFpbClcbiAgICB9XG5cbiAgICAvLyDtlZjqsJUg7JWg64uI66mU7J207IWYXG4gICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgIHRhcmdldHM6IGNvbnRhaW5lcixcbiAgICAgIHk6IHRoaXMuSlVER01FTlRfTElORV9ZLFxuICAgICAgZHVyYXRpb246IHRoaXMuRkFMTF9USU1FLFxuICAgICAgZWFzZTogJ0xpbmVhcicsXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIGlmICghbm90ZS5pc0hpdCkge1xuICAgICAgICAgIHRoaXMuaGFuZGxlTWlzcyhub3RlKVxuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5kZXN0cm95KClcbiAgICAgICAgdGhpcy5hY3RpdmVOb3Rlcy5kZWxldGUobm90ZS5pZClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5hY3RpdmVOb3Rlcy5zZXQobm90ZS5pZCwgY29udGFpbmVyKVxuICAgIChjb250YWluZXIgYXMgYW55KS5ub3RlRGF0YSA9IG5vdGVcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBJbnB1dCgpOiB2b2lkIHtcbiAgICBjb25zdCBpbnB1dE1hbmFnZXIgPSB0aGlzLmdhbWVNYW5hZ2VyLmdldElucHV0TWFuYWdlcigpXG4gICAgY29uc3QgbGFuZUtleXMgPSBbJ0tleUQnLCAnS2V5RicsICdLZXlKJywgJ0tleUsnXVxuXG4gICAgbGFuZUtleXMuZm9yRWFjaCgoa2V5LCBsYW5lSW5kZXgpID0+IHtcbiAgICAgIGlucHV0TWFuYWdlci5vbigna2V5ZG93bicsIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKGRhdGEua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZUxhbmVQcmVzcyhsYW5lSW5kZXgpXG4gICAgICAgICAgdGhpcy5zaG93TGFuZVByZXNzKGxhbmVJbmRleClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVMYW5lUHJlc3MobGFuZUluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyDtlbTri7kg66CI7J247J2YIOqwgOyepSDqsIDquYzsmrQg64W47Yq4IOywvuq4sFxuICAgIGxldCBjbG9zZXN0Tm90ZTogQmVhdE5vdGUgfCBudWxsID0gbnVsbFxuICAgIGxldCBtaW5UaW1lRGlmZiA9IEluZmluaXR5XG5cbiAgICBmb3IgKGNvbnN0IG5vdGUgb2YgdGhpcy5iZWF0Tm90ZXMpIHtcbiAgICAgIGlmIChub3RlLmxhbmUgPT09IGxhbmVJbmRleCAmJiAhbm90ZS5pc0hpdCkge1xuICAgICAgICBjb25zdCB0aW1lRGlmZiA9IE1hdGguYWJzKG5vdGUuaGl0VGltZSAtIHRoaXMuc29uZ1RpbWUpXG4gICAgICAgIGlmICh0aW1lRGlmZiA8IG1pblRpbWVEaWZmICYmIHRpbWVEaWZmIDw9IHRoaXMuR09PRF9XSU5ET1cpIHtcbiAgICAgICAgICBtaW5UaW1lRGlmZiA9IHRpbWVEaWZmXG4gICAgICAgICAgY2xvc2VzdE5vdGUgPSBub3RlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2xvc2VzdE5vdGUpIHtcbiAgICAgIGNvbnN0IGp1ZGdtZW50ID0gdGhpcy5nZXRKdWRnbWVudChtaW5UaW1lRGlmZilcbiAgICAgIHRoaXMuaGFuZGxlTm90ZUhpdChjbG9zZXN0Tm90ZSwganVkZ21lbnQpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOu5iCDtg4DsnbTrsI0gLSDsvaTrs7Qg7KSR64uoXG4gICAgICB0aGlzLmJyZWFrQ29tYm8oKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0SnVkZ21lbnQodGltZURpZmY6IG51bWJlcik6IFNjb3JlSnVkZ2VtZW50IHtcbiAgICBpZiAodGltZURpZmYgPD0gdGhpcy5QRVJGRUNUX1dJTkRPVykge1xuICAgICAgcmV0dXJuIHsgdHlwZTogJ3BlcmZlY3QnLCBwb2ludHM6IDMwMCwgY29tYm86IHRydWUgfVxuICAgIH0gZWxzZSBpZiAodGltZURpZmYgPD0gdGhpcy5HUkVBVF9XSU5ET1cpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6ICdncmVhdCcsIHBvaW50czogMjAwLCBjb21ibzogdHJ1ZSB9XG4gICAgfSBlbHNlIGlmICh0aW1lRGlmZiA8PSB0aGlzLkdPT0RfV0lORE9XKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiAnZ29vZCcsIHBvaW50czogMTAwLCBjb21ibzogdHJ1ZSB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IHR5cGU6ICdtaXNzJywgcG9pbnRzOiAwLCBjb21ibzogZmFsc2UgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTm90ZUhpdChub3RlOiBCZWF0Tm90ZSwganVkZ21lbnQ6IFNjb3JlSnVkZ2VtZW50KTogdm9pZCB7XG4gICAgbm90ZS5pc0hpdCA9IHRydWVcbiAgICBub3RlLnBlcmZlY3QgPSBqdWRnbWVudC50eXBlID09PSAncGVyZmVjdCdcblxuICAgIC8vIOygkOyImCDstpTqsIBcbiAgICB0aGlzLmFkZFNjb3JlKGp1ZGdtZW50LnBvaW50cylcblxuICAgIC8vIOy9pOuztCDsspjrpqxcbiAgICBpZiAoanVkZ21lbnQuY29tYm8pIHtcbiAgICAgIHRoaXMuY3VycmVudENvbWJvKytcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5icmVha0NvbWJvKClcbiAgICB9XG5cbiAgICAvLyDtjJDsoJUg7Lm07Jq07Yq4IOymneqwgFxuICAgIHRoaXMuanVkZ2VtZW50Q291bnRzW2p1ZGdtZW50LnR5cGVdKytcblxuICAgIC8vIO2MkOyglSDtkZzsi5xcbiAgICB0aGlzLnNob3dKdWRnbWVudChqdWRnbWVudC50eXBlKVxuXG4gICAgLy8g7Z6I7Yq4IOydtO2Ome2KuFxuICAgIHRoaXMuc2hvd0hpdEVmZmVjdChub3RlLmxhbmUsIGp1ZGdtZW50LnR5cGUpXG5cbiAgICAvLyDrhbjtirgg7KCc6rGwXG4gICAgY29uc3Qgbm90ZUNvbnRhaW5lciA9IHRoaXMuYWN0aXZlTm90ZXMuZ2V0KG5vdGUuaWQpXG4gICAgaWYgKG5vdGVDb250YWluZXIpIHtcbiAgICAgIG5vdGVDb250YWluZXIuZGVzdHJveSgpXG4gICAgICB0aGlzLmFjdGl2ZU5vdGVzLmRlbGV0ZShub3RlLmlkKVxuICAgIH1cblxuICAgIC8vIOygle2ZleuPhCDsl4XrjbDsnbTtirhcbiAgICB0aGlzLnVwZGF0ZUFjY3VyYWN5KClcblxuICAgIGNvbnNvbGUubG9nKGDrhbjtirgg7Z6I7Yq4OiAke2p1ZGdtZW50LnR5cGV9ICgke2p1ZGdtZW50LnBvaW50c33soJApYClcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlTWlzcyhub3RlOiBCZWF0Tm90ZSk6IHZvaWQge1xuICAgIG5vdGUuaXNIaXQgPSB0cnVlXG4gICAgdGhpcy5qdWRnZW1lbnRDb3VudHMubWlzcysrXG4gICAgdGhpcy5icmVha0NvbWJvKClcbiAgICB0aGlzLnNob3dKdWRnbWVudCgnbWlzcycpXG4gICAgdGhpcy51cGRhdGVBY2N1cmFjeSgpXG4gIH1cblxuICBwcml2YXRlIGFkZFNjb3JlKHBvaW50czogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8g7L2k67O0IOuztOuEiOyKpFxuICAgIGxldCBjb21ib011bHRpcGxpZXIgPSAxXG4gICAgaWYgKHRoaXMuY3VycmVudENvbWJvID49IDUwKSBjb21ib011bHRpcGxpZXIgPSAyXG4gICAgZWxzZSBpZiAodGhpcy5jdXJyZW50Q29tYm8gPj0gMjApIGNvbWJvTXVsdGlwbGllciA9IDEuNVxuICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudENvbWJvID49IDEwKSBjb21ib011bHRpcGxpZXIgPSAxLjJcblxuICAgIGNvbnN0IGZpbmFsUG9pbnRzID0gTWF0aC5mbG9vcihwb2ludHMgKiBjb21ib011bHRpcGxpZXIpXG4gICAgdGhpcy50b3RhbFNjb3JlICs9IGZpbmFsUG9pbnRzXG5cbiAgICB0aGlzLnNjb3JlVGV4dD8uc2V0VGV4dChgU2NvcmU6ICR7dGhpcy50b3RhbFNjb3JlfWApXG5cbiAgICAvLyDsiqTsvZTslrQg7IOB7Iq5IO2aqOqzvFxuICAgIGlmICh0aGlzLnNjb3JlVGV4dCkge1xuICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgdGFyZ2V0czogdGhpcy5zY29yZVRleHQsXG4gICAgICAgIHNjYWxlWDogMS4xLFxuICAgICAgICBzY2FsZVk6IDEuMSxcbiAgICAgICAgZHVyYXRpb246IDEwMCxcbiAgICAgICAgeW95bzogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGJyZWFrQ29tYm8oKTogdm9pZCB7XG4gICAgdGhpcy5tYXhDb21ibyA9IE1hdGgubWF4KHRoaXMubWF4Q29tYm8sIHRoaXMuY3VycmVudENvbWJvKVxuICAgIHRoaXMuY3VycmVudENvbWJvID0gMFxuICAgIHRoaXMudXBkYXRlQ29tYm9EaXNwbGF5KClcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQ29tYm9EaXNwbGF5KCk6IHZvaWQge1xuICAgIHRoaXMuY29tYm9UZXh0Py5zZXRUZXh0KGBDb21ibzogJHt0aGlzLmN1cnJlbnRDb21ib31gKVxuXG4gICAgLy8g7L2k67O07JeQIOuUsOuluCDsg4nsg4Eg67OA6rK9XG4gICAgaWYgKHRoaXMuY29tYm9UZXh0KSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50Q29tYm8gPj0gNTApIHtcbiAgICAgICAgdGhpcy5jb21ib1RleHQuc2V0Q29sb3IoJyNmZjAwNjYnKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRDb21ibyA+PSAyMCkge1xuICAgICAgICB0aGlzLmNvbWJvVGV4dC5zZXRDb2xvcignI2ZmNjYwMCcpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudENvbWJvID49IDEwKSB7XG4gICAgICAgIHRoaXMuY29tYm9UZXh0LnNldENvbG9yKCcjZmZhYTAwJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29tYm9UZXh0LnNldENvbG9yKCcjZmZmZmZmJylcbiAgICAgIH1cblxuICAgICAgLy8g7L2k67O0IOuniOydvOyKpO2GpCDtmqjqs7xcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRDb21ibyA+IDAgJiYgdGhpcy5jdXJyZW50Q29tYm8gJSAxMCA9PT0gMCkge1xuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICAgIHRhcmdldHM6IHRoaXMuY29tYm9UZXh0LFxuICAgICAgICAgIHNjYWxlWDogMS4zLFxuICAgICAgICAgIHNjYWxlWTogMS4zLFxuICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgICAgICAgeW95bzogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQWNjdXJhY3koKTogdm9pZCB7XG4gICAgY29uc3QgdG90YWxOb3RlcyA9IE9iamVjdC52YWx1ZXModGhpcy5qdWRnZW1lbnRDb3VudHMpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApXG4gICAgaWYgKHRvdGFsTm90ZXMgPT09IDApIHJldHVyblxuXG4gICAgY29uc3Qgd2VpZ2h0ZWRTY29yZSA9XG4gICAgICB0aGlzLmp1ZGdlbWVudENvdW50cy5wZXJmZWN0ICogMTAwICtcbiAgICAgIHRoaXMuanVkZ2VtZW50Q291bnRzLmdyZWF0ICogODAgK1xuICAgICAgdGhpcy5qdWRnZW1lbnRDb3VudHMuZ29vZCAqIDUwICtcbiAgICAgIHRoaXMuanVkZ2VtZW50Q291bnRzLm1pc3MgKiAwXG5cbiAgICB0aGlzLmFjY3VyYWN5ID0gKHdlaWdodGVkU2NvcmUgLyAodG90YWxOb3RlcyAqIDEwMCkpICogMTAwXG5cbiAgICB0aGlzLmFjY3VyYWN5VGV4dD8uc2V0VGV4dChgQWNjdXJhY3k6ICR7dGhpcy5hY2N1cmFjeS50b0ZpeGVkKDEpfSVgKVxuXG4gICAgLy8g7KCV7ZmV64+E7JeQIOuUsOuluCDsg4nsg4FcbiAgICBpZiAodGhpcy5hY2N1cmFjeVRleHQpIHtcbiAgICAgIGlmICh0aGlzLmFjY3VyYWN5ID49IDk1KSB7XG4gICAgICAgIHRoaXMuYWNjdXJhY3lUZXh0LnNldENvbG9yKCcjMDBmZjg4JylcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY2N1cmFjeSA+PSA4NSkge1xuICAgICAgICB0aGlzLmFjY3VyYWN5VGV4dC5zZXRDb2xvcignI2ZmZmYwMCcpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYWNjdXJhY3kgPj0gNzApIHtcbiAgICAgICAgdGhpcy5hY2N1cmFjeVRleHQuc2V0Q29sb3IoJyNmZjY2MDAnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hY2N1cmFjeVRleHQuc2V0Q29sb3IoJyNmZjAwNjYnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvd0p1ZGdtZW50KHR5cGU6IFNjb3JlSnVkZ2VtZW50Wyd0eXBlJ10pOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuanVkZ21lbnRUZXh0KSByZXR1cm5cblxuICAgIGNvbnN0IGNvbG9ycyA9IHtcbiAgICAgIHBlcmZlY3Q6ICcjZmZmZjAwJyxcbiAgICAgIGdyZWF0OiAnIzAwZmY4OCcsXG4gICAgICBnb29kOiAnIzAwODhmZicsXG4gICAgICBtaXNzOiAnI2ZmMDA2NidcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0cyA9IHtcbiAgICAgIHBlcmZlY3Q6ICdQRVJGRUNUIScsXG4gICAgICBncmVhdDogJ0dSRUFUIScsXG4gICAgICBnb29kOiAnR09PRCcsXG4gICAgICBtaXNzOiAnTUlTUydcbiAgICB9XG5cbiAgICB0aGlzLmp1ZGdtZW50VGV4dC5zZXRUZXh0KHRleHRzW3R5cGVdKVxuICAgIHRoaXMuanVkZ21lbnRUZXh0LnNldENvbG9yKGNvbG9yc1t0eXBlXSlcbiAgICB0aGlzLmp1ZGdtZW50VGV4dC5zZXRBbHBoYSgxKVxuICAgIHRoaXMuanVkZ21lbnRUZXh0LnNldFNjYWxlKDEpXG5cbiAgICAvLyDslaDri4jrqZTsnbTshZhcbiAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgdGFyZ2V0czogdGhpcy5qdWRnbWVudFRleHQsXG4gICAgICBzY2FsZVg6IHR5cGUgPT09ICdwZXJmZWN0JyA/IDEuNSA6IDEuMixcbiAgICAgIHNjYWxlWTogdHlwZSA9PT0gJ3BlcmZlY3QnID8gMS41IDogMS4yLFxuICAgICAgZHVyYXRpb246IDE1MCxcbiAgICAgIHlveW86IHRydWUsXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy5qdWRnbWVudFRleHQsXG4gICAgICAgICAgYWxwaGE6IDAsXG4gICAgICAgICAgZHVyYXRpb246IDMwMFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHNob3dIaXRFZmZlY3QobGFuZTogbnVtYmVyLCBqdWRnbWVudDogU2NvcmVKdWRnZW1lbnRbJ3R5cGUnXSk6IHZvaWQge1xuICAgIGNvbnN0IGxhbmVXaWR0aCA9IDEwMFxuICAgIGNvbnN0IGxhbmVTcGFjaW5nID0gMTBcbiAgICBjb25zdCB0b3RhbFdpZHRoID0gKGxhbmVXaWR0aCArIGxhbmVTcGFjaW5nKSAqIHRoaXMuTEFORV9DT1VOVCAtIGxhbmVTcGFjaW5nXG4gICAgY29uc3Qgc3RhcnRYID0gKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gdG90YWxXaWR0aCkgLyAyXG4gICAgY29uc3QgZWZmZWN0WCA9IHN0YXJ0WCArIGxhbmUgKiAobGFuZVdpZHRoICsgbGFuZVNwYWNpbmcpICsgbGFuZVdpZHRoIC8gMlxuXG4gICAgLy8g7YyM7Yuw7YG0IO2aqOqzvFxuICAgIGNvbnN0IGNvbG9ycyA9IGp1ZGdtZW50ID09PSAncGVyZmVjdCcgPyBbMHhmZmZmMDAsIDB4ZmZmZmZmXSA6XG4gICAgICAgICAgICAgICAgICBqdWRnbWVudCA9PT0gJ2dyZWF0JyA/IFsweDAwZmY4OCwgMHgwMGZmZmZdIDpcbiAgICAgICAgICAgICAgICAgIGp1ZGdtZW50ID09PSAnZ29vZCcgPyBbMHgwMDg4ZmYsIDB4ZmZmZmZmXSA6IFsweGZmMDA2Nl1cblxuICAgIGNvbnN0IHBhcnRpY2xlcyA9IHRoaXMuYWRkLnBhcnRpY2xlcyhlZmZlY3RYLCB0aGlzLkpVREdNRU5UX0xJTkVfWSwgJ25vcm1hbF9ub3RlJywge1xuICAgICAgc2NhbGU6IHsgc3RhcnQ6IDAuNSwgZW5kOiAwIH0sXG4gICAgICBzcGVlZDogeyBtaW46IDUwLCBtYXg6IDE1MCB9LFxuICAgICAgYWxwaGE6IHsgc3RhcnQ6IDEsIGVuZDogMCB9LFxuICAgICAgbGlmZXNwYW46IDUwMCxcbiAgICAgIHF1YW50aXR5OiBqdWRnbWVudCA9PT0gJ3BlcmZlY3QnID8gMjAgOiAxMCxcbiAgICAgIHRpbnQ6IGNvbG9yc1xuICAgIH0pXG5cbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwLCAoKSA9PiB7XG4gICAgICBwYXJ0aWNsZXMuZGVzdHJveSgpXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc2hvd0xhbmVQcmVzcyhsYW5lSW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGxhbmVLZXkgPSB0aGlzLmxhbmVLZXlzW2xhbmVJbmRleF1cbiAgICBpZiAoIWxhbmVLZXkpIHJldHVyblxuXG4gICAgLy8g7YKkIOuIjOumvCDtmqjqs7xcbiAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgdGFyZ2V0czogbGFuZUtleSxcbiAgICAgIHNjYWxlWDogMS4yLFxuICAgICAgc2NhbGVZOiAxLjIsXG4gICAgICBkdXJhdGlvbjogMTAwLFxuICAgICAgeW95bzogdHJ1ZVxuICAgIH0pXG5cbiAgICAvLyDroIjsnbgg7ZWY7J2065287J207Yq4XG4gICAgY29uc3QgbGFuZUdyYXBoaWMgPSB0aGlzLmxhbmVHcmFwaGljc1tsYW5lSW5kZXhdXG4gICAgaWYgKGxhbmVHcmFwaGljKSB7XG4gICAgICB0aGlzLnR3ZWVucy5hZGQoe1xuICAgICAgICB0YXJnZXRzOiBsYW5lR3JhcGhpYyxcbiAgICAgICAgYWxwaGE6IDAuOCxcbiAgICAgICAgZHVyYXRpb246IDEwMCxcbiAgICAgICAgeW95bzogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvLyDsmbjrtoAg7Zi47LacIOuplOyEnOuTnFxuICBzdGFydEdhbWUoKTogdm9pZCB7XG4gICAgdGhpcy5nYW1lU3RhcnRlZCA9IHRydWVcbiAgICBjb25zb2xlLmxvZygnUmh5dGhtQWN0aW9uIOqyjOyehCDsi5zsnpEhJylcblxuICAgIHRoaXMuZ2FtZU1hbmFnZXIuZ2V0QXVkaW9NYW5hZ2VyKCkucGxheU11c2ljKCdtdXNpY19nYW1lX2JhdHRsZScpXG5cbiAgICAvLyDqsozsnoQg7YOA7J2066i4IOyLnOyekVxuICAgIHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICBkZWxheTogMTYsIC8vIH42MGZwc1xuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zb25nVGltZSArPSAxNlxuICAgICAgICB0aGlzLnVwZGF0ZUdhbWUoKVxuICAgICAgfSxcbiAgICAgIGxvb3A6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVHYW1lKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5nYW1lU3RhcnRlZCkgcmV0dXJuXG5cbiAgICAvLyDri6TqsIDsmKTripQg64W47Yq465OkIOyKpO2PsFxuICAgIGZvciAoY29uc3Qgbm90ZSBvZiB0aGlzLmJlYXROb3Rlcykge1xuICAgICAgaWYgKCFub3RlLmlzSGl0ICYmXG4gICAgICAgICAgbm90ZS5oaXRUaW1lIC0gdGhpcy5zb25nVGltZSA8PSB0aGlzLkZBTExfVElNRSAmJlxuICAgICAgICAgIG5vdGUuaGl0VGltZSAtIHRoaXMuc29uZ1RpbWUgPiB0aGlzLkZBTExfVElNRSAtIDEwMCAmJlxuICAgICAgICAgICF0aGlzLmFjdGl2ZU5vdGVzLmhhcyhub3RlLmlkKSkge1xuICAgICAgICB0aGlzLnNwYXduTm90ZShub3RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOy9pOuztCDtkZzsi5wg7JeF642w7J207Yq4XG4gICAgdGhpcy51cGRhdGVDb21ib0Rpc3BsYXkoKVxuXG4gICAgLy8g6rKM7J6EIOyiheujjCDssrTtgawgKOuqqOuToCDrhbjtirgg7LKY66asIOyZhOujjClcbiAgICBjb25zdCBhbGxOb3Rlc1Byb2Nlc3NlZCA9IHRoaXMuYmVhdE5vdGVzLmV2ZXJ5KG5vdGUgPT4gbm90ZS5pc0hpdClcbiAgICBpZiAoYWxsTm90ZXNQcm9jZXNzZWQgJiYgdGhpcy5hY3RpdmVOb3Rlcy5zaXplID09PSAwKSB7XG4gICAgICB0aGlzLmVuZEdhbWUoKVxuICAgIH1cbiAgfVxuXG4gIG9uTmV0d29ya01lc3NhZ2UobWVzc2FnZTogTmV0d29ya01lc3NhZ2UpOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZygnUmh5dGhtQWN0aW9uIOuEpO2KuOybjO2BrCDrqZTsi5zsp4A6JywgbWVzc2FnZSlcbiAgfVxuXG4gIHByaXZhdGUgZW5kR2FtZSgpOiB2b2lkIHtcbiAgICB0aGlzLmdhbWVTdGFydGVkID0gZmFsc2VcbiAgICBjb25zb2xlLmxvZygnUmh5dGhtQWN0aW9uIOqyjOyehCDsooXro4whJylcblxuICAgIC8vIOy1nOyihSDthrXqs4RcbiAgICBjb25zdCBmaW5hbFN0YXRzID0ge1xuICAgICAgc2NvcmU6IHRoaXMudG90YWxTY29yZSxcbiAgICAgIG1heENvbWJvOiB0aGlzLm1heENvbWJvLFxuICAgICAgYWNjdXJhY3k6IHRoaXMuYWNjdXJhY3ksXG4gICAgICBqdWRnbWVudHM6IHsgLi4udGhpcy5qdWRnZW1lbnRDb3VudHMgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfstZzsooUg7Ya16rOEOicsIGZpbmFsU3RhdHMpXG5cbiAgICAvLyDqsrDqs7wg7ZGc7IucXG4gICAgdGhpcy5zaG93R2FtZVJlc3VsdHMoZmluYWxTdGF0cylcblxuICAgIC8vIOqyjOyehCDrp6Tri4jsoIDsl5Ag7KKF66OMIOyVjOumvFxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgzMDAwLCAoKSA9PiB7XG4gICAgICB0aGlzLmdhbWVNYW5hZ2VyLmVuZEdhbWUodGhpcy50b3RhbFNjb3JlKVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIHNob3dHYW1lUmVzdWx0cyhzdGF0czogYW55KTogdm9pZCB7XG4gICAgY29uc3QgY2VudGVyWCA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC8gMlxuICAgIGNvbnN0IGNlbnRlclkgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQgLyAyXG5cbiAgICAvLyDqsrDqs7wg67Cw6rK9XG4gICAgY29uc3QgcmVzdWx0c0JnID0gdGhpcy5hZGQuZ3JhcGhpY3MoKVxuICAgIHJlc3VsdHNCZy5maWxsU3R5bGUoMHgwMDAwMDAsIDAuOClcbiAgICByZXN1bHRzQmcuZmlsbFJvdW5kZWRSZWN0KGNlbnRlclggLSAyNTAsIGNlbnRlclkgLSAxNTAsIDUwMCwgMzAwLCAyMClcblxuICAgIC8vIOqysOqzvCDthY3siqTtirjrk6RcbiAgICBjb25zdCByZXN1bHRzVGV4dHMgPSBbXG4gICAgICBgRmluYWwgU2NvcmU6ICR7c3RhdHMuc2NvcmV9YCxcbiAgICAgIGBNYXggQ29tYm86ICR7c3RhdHMubWF4Q29tYm99YCxcbiAgICAgIGBBY2N1cmFjeTogJHtzdGF0cy5hY2N1cmFjeS50b0ZpeGVkKDEpfSVgLFxuICAgICAgJycsXG4gICAgICBgUGVyZmVjdDogJHtzdGF0cy5qdWRnbWVudHMucGVyZmVjdH1gLFxuICAgICAgYEdyZWF0OiAke3N0YXRzLmp1ZGdtZW50cy5ncmVhdH1gLFxuICAgICAgYEdvb2Q6ICR7c3RhdHMuanVkZ21lbnRzLmdvb2R9YCxcbiAgICAgIGBNaXNzOiAke3N0YXRzLmp1ZGdtZW50cy5taXNzfWBcbiAgICBdXG5cbiAgICByZXN1bHRzVGV4dHMuZm9yRWFjaCgodGV4dCwgaW5kZXgpID0+IHtcbiAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgIGNvbnN0IHRleHRPYmogPSB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGNlbnRlclkgLSAxMjAgKyBpbmRleCAqIDMwLCB0ZXh0LCB7XG4gICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcbiAgICAgICAgICBjb2xvcjogaW5kZXggPCAzID8gJyNmZmZmMDAnIDogJyNmZmZmZmYnLFxuICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICAgICAgZm9udFN0eWxlOiBpbmRleCA8IDMgPyAnYm9sZCcgOiAnbm9ybWFsJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxuXG4gICAgICAgIC8vIOyInOywqOyggSDrk7HsnqUg7Zqo6rO8XG4gICAgICAgIHRleHRPYmouc2V0QWxwaGEoMClcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcbiAgICAgICAgICB0YXJnZXRzOiB0ZXh0T2JqLFxuICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgZGVsYXk6IGluZGV4ICogMjAwXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZSh0aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZ2FtZVN0YXJ0ZWQpIHJldHVyblxuICAgIC8vIOy2lOqwgOyggeyduCDsl4XrjbDsnbTtirgg66Gc7KeB7J20IOyeiOuLpOuptCDsl6zquLDsl5BcbiAgfVxufSJdLCJuYW1lcyI6WyJQaGFzZXIiLCJSaHl0aG1BY3Rpb25TY2VuZSIsIlNjZW5lIiwiY29uc3RydWN0b3IiLCJnYW1lTWFuYWdlciIsImtleSIsImJlYXROb3RlcyIsImFjdGl2ZU5vdGVzIiwiTWFwIiwiZ2FtZVN0YXJ0ZWQiLCJzb25nVGltZSIsImJwbSIsImN1cnJlbnRDb21ibyIsIm1heENvbWJvIiwidG90YWxTY29yZSIsImFjY3VyYWN5IiwianVkZ2VtZW50Q291bnRzIiwicGVyZmVjdCIsImdyZWF0IiwiZ29vZCIsIm1pc3MiLCJMQU5FX0NPVU5UIiwiRkFMTF9USU1FIiwiSlVER01FTlRfTElORV9ZIiwiUEVSRkVDVF9XSU5ET1ciLCJHUkVBVF9XSU5ET1ciLCJHT09EX1dJTkRPVyIsImxhbmVHcmFwaGljcyIsImxhbmVLZXlzIiwianVkZ21lbnRMaW5lIiwic2NvcmVUZXh0IiwiY29tYm9UZXh0IiwiYWNjdXJhY3lUZXh0IiwianVkZ21lbnRUZXh0IiwicHJlbG9hZCIsImNyZWF0ZU5vdGVUZXh0dXJlcyIsImNvbnNvbGUiLCJsb2ciLCJub3JtYWxOb3RlIiwiYWRkIiwiZ3JhcGhpY3MiLCJmaWxsU3R5bGUiLCJmaWxsUm91bmRlZFJlY3QiLCJsaW5lU3R5bGUiLCJzdHJva2VSb3VuZGVkUmVjdCIsImdlbmVyYXRlVGV4dHVyZSIsImRlc3Ryb3kiLCJsb25nTm90ZVN0YXJ0Iiwic3BlY2lhbE5vdGUiLCJjcmVhdGUiLCJjcmVhdGVCYWNrZ3JvdW5kIiwiY3JlYXRlR2FtZUxhbmVzIiwiY3JlYXRlVUkiLCJnZW5lcmF0ZUJlYXRtYXAiLCJzZXR1cElucHV0IiwiZmlsbEdyYWRpZW50U3R5bGUiLCJmaWxsUmVjdCIsImNhbWVyYXMiLCJtYWluIiwid2lkdGgiLCJoZWlnaHQiLCJpIiwibGluZSIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZVBhdGgiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiYWxwaGEiLCJkdXJhdGlvbiIsIk1hdGgiLCJyYW5kb20iLCJ5b3lvIiwicmVwZWF0IiwiZGVsYXkiLCJsYW5lV2lkdGgiLCJsYW5lU3BhY2luZyIsInRvdGFsV2lkdGgiLCJzdGFydFgiLCJsYW5lWCIsImxhbmVHcmFwaGljIiwicHVzaCIsImtleUxhYmVscyIsImtleVRleHQiLCJ0ZXh0IiwiZm9udFNpemUiLCJjb2xvciIsImZvbnRGYW1pbHkiLCJmb250U3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYWRkaW5nIiwieCIsInkiLCJzZXRPcmlnaW4iLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJzb25nTGVuZ3RoIiwiYmVhdEludGVydmFsIiwidGltZSIsIm5vdGUiLCJpZCIsImxhbmUiLCJmbG9vciIsImhpdFRpbWUiLCJ0eXBlIiwiZ2V0UmFuZG9tTm90ZVR5cGUiLCJpc0hpdCIsImhhbGZCZWF0Tm90ZSIsInNvcnQiLCJhIiwiYiIsImxlbmd0aCIsInJhbmQiLCJzcGF3bk5vdGUiLCJub3RlWCIsImNvbnRhaW5lciIsIm5vdGVTcHJpdGUiLCJzcHJpdGUiLCJnbG93IiwiZ2xvd0NvbG9yIiwiZmlsbENpcmNsZSIsInRhaWxIZWlnaHQiLCJ0YWlsIiwiZWFzZSIsIm9uQ29tcGxldGUiLCJoYW5kbGVNaXNzIiwiZGVsZXRlIiwic2V0Iiwibm90ZURhdGEiLCJpbnB1dE1hbmFnZXIiLCJnZXRJbnB1dE1hbmFnZXIiLCJmb3JFYWNoIiwibGFuZUluZGV4Iiwib24iLCJkYXRhIiwiaGFuZGxlTGFuZVByZXNzIiwic2hvd0xhbmVQcmVzcyIsImNsb3Nlc3ROb3RlIiwibWluVGltZURpZmYiLCJJbmZpbml0eSIsInRpbWVEaWZmIiwiYWJzIiwianVkZ21lbnQiLCJnZXRKdWRnbWVudCIsImhhbmRsZU5vdGVIaXQiLCJicmVha0NvbWJvIiwicG9pbnRzIiwiY29tYm8iLCJhZGRTY29yZSIsInNob3dKdWRnbWVudCIsInNob3dIaXRFZmZlY3QiLCJub3RlQ29udGFpbmVyIiwiZ2V0IiwidXBkYXRlQWNjdXJhY3kiLCJjb21ib011bHRpcGxpZXIiLCJmaW5hbFBvaW50cyIsInNldFRleHQiLCJzY2FsZVgiLCJzY2FsZVkiLCJtYXgiLCJ1cGRhdGVDb21ib0Rpc3BsYXkiLCJzZXRDb2xvciIsInRvdGFsTm90ZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJ3ZWlnaHRlZFNjb3JlIiwidG9GaXhlZCIsImNvbG9ycyIsInRleHRzIiwic2V0QWxwaGEiLCJzZXRTY2FsZSIsImVmZmVjdFgiLCJwYXJ0aWNsZXMiLCJzY2FsZSIsInN0YXJ0IiwiZW5kIiwic3BlZWQiLCJtaW4iLCJsaWZlc3BhbiIsInF1YW50aXR5IiwidGludCIsImRlbGF5ZWRDYWxsIiwibGFuZUtleSIsInN0YXJ0R2FtZSIsImdldEF1ZGlvTWFuYWdlciIsInBsYXlNdXNpYyIsImFkZEV2ZW50IiwiY2FsbGJhY2siLCJ1cGRhdGVHYW1lIiwibG9vcCIsImhhcyIsImFsbE5vdGVzUHJvY2Vzc2VkIiwiZXZlcnkiLCJzaXplIiwiZW5kR2FtZSIsIm9uTmV0d29ya01lc3NhZ2UiLCJtZXNzYWdlIiwiZmluYWxTdGF0cyIsInNjb3JlIiwianVkZ21lbnRzIiwic2hvd0dhbWVSZXN1bHRzIiwic3RhdHMiLCJjZW50ZXJYIiwiY2VudGVyWSIsInJlc3VsdHNCZyIsInJlc3VsdHNUZXh0cyIsImluZGV4IiwidGV4dE9iaiIsInVwZGF0ZSIsImRlbHRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/game-engine/scenes/RhythmActionScene.ts\n");

/***/ })

};
;